/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunk=self.webpackChunk||[]).push([[847],{2562:(e,t,n)=>{"use strict";var o=n(8549),a=(n(1607),n(454));window.bootstrap=a;var r=n(92),i=function(){if(document.getElementsByClassName("js-simplebar")[0]){var e=new r.A(document.getElementsByClassName("js-simplebar")[0]);document.querySelectorAll(".js-sidebar [data-bs-parent]").forEach((function(t){t.addEventListener("shown.bs.collapse",(function(){e.recalculate()})),t.addEventListener("hidden.bs.collapse",(function(){e.recalculate()}))}))}},l=function(){var e=document.getElementsByClassName("js-sidebar")[0],t=document.getElementsByClassName("js-sidebar-toggle")[0];e&&t&&t.addEventListener("click",(function(){e.classList.toggle("collapsed"),e.addEventListener("transitionend",(function(){window.dispatchEvent(new Event("resize"))}))}))};document.addEventListener("DOMContentLoaded",(function(){return i(),void l()}));n(3063);var s=n(9911),c=n.n(s);document.addEventListener("DOMContentLoaded",(function(){c().replace()})),window.feather=c();var u=n(8404),p=n.n(u);window.flatpickr=p();var d=n(9159),g=n(7909),h=n(509),f=n.n(h),b=n(5220),m={class:"container"};const v={mounted:function(){console.log("Component mounted.");var e=window.location.pathname;console.log(e)}};var y=n(6262);const w=(0,y.A)(v,[["render",function(e,t,n,o,a,r){return(0,d.uX)(),(0,d.CE)("div",m,t[0]||(t[0]=[(0,d.Fv)('<div class="row justify-content-center"><div class="col-md-8"><div class="card"><div class="card-header">Example Component</div><div class="card-body">I&#39;m an example component.</div></div></div></div>',1)]))}]]);var x={"aria-label":"breadcrumb"},k={class:"breadcrumb bg-transparent p-0 mt-1 mb-0"},L={class:"breadcrumb-item"},C={href:"/home"},_=["href"],P={class:"breadcrumb-item"};var S=n(641);function E(){var e=(0,d.KR)([]),t=(0,d.KR)(""),n=(0,d.KR)("");(0,b.rd)();return{urls:e,whereurl:n,getUrl:function(){var t=window.location.pathname.split("/");t.shift(),t.length>0&&(t[0]="/"+t[0]);for(var n=1;n<t.length;n++)t[n]=t[n-1]+"/"+t[n];e.value=t},getPageNames:function(){var e=window.location.pathname.split("/");if(e.shift(),e.length>0){var t="";"barcode"===e[0]?t="barcodeGenerator":"basic"===e[0]?t="basicInfoLang":"bu"===e[0]?t="bupagelang":"call"===e[0]?t="callpageLang":"checking"===e[0]?t="checkInvLang":"inbound"===e[0]?t="inboundpageLang":"member"===e[0]?t="loginPageLang":"month"===e[0]?t="monthlyPRpageLang":"obound"===e[0]?t="oboundpageLang":"outbound"===e[0]&&(t="outboundpageLang");for(var o=1;o<e.length;o++);n.value=t}},errors:t}}const A={setup:function(){var e=E(),t=e.urls,n=e.getUrl,o=E(),a=o.whereurl,r=o.getPageNames;(0,S.KC)(n),(0,S.KC)(r);var i=document.getElementsByClassName("sidebar-item active")[1].textContent.replace(/&nbsp;/g,"");return{urls:t,whereurl:a,op:i=i.replace(/\s+/g," ").trim()}},mounted:function(){var e=document.getElementsByTagName("HTML")[0].getAttribute("lang");this.$lang.setLocale(e)}},I=(0,y.A)(A,[["render",function(e,t,n,o,a,r){return(0,d.uX)(),(0,d.CE)("nav",x,[(0,d.Lk)("ol",k,[(0,d.Lk)("li",L,[(0,d.Lk)("a",C,(0,d.v_)(e.$t("templateWords.websiteName")),1)]),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(o.urls.slice(0,-1),(function(t,n){return(0,d.uX)(),(0,d.CE)("li",{key:n,class:"breadcrumb-item"},[(0,d.Lk)("a",{href:t},(0,d.v_)(e.$t(o.whereurl+".page_name")),9,_)])})),128)),(0,d.Lk)("li",P,[(0,d.Lk)("span",null,(0,d.v_)(o.op),1)]),t[0]||(t[0]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1))])])}]]);var $=[{path:"/vuetest",name:"test.example",component:w},{path:"/catchAll(.*)",name:"breadcrumb.nav",component:I}];const R=(0,b.aE)({history:(0,b.LA)(),routes:$});var T={class:"row justify-content-between"},M={class:"row col col-auto"},O={class:"col col-auto"},N={for:"pnInput",class:"col-form-label"},j={class:"col col-6 p-0 m-0"},B=["placeholder"],D={class:"col col-auto"},F={key:0,class:"invalid-feedback d-block",role:"alert"},U=["onUpdate:modelValue","id","name","value"],q={class:"row"},K=["onUpdate:modelValue","id","name"],G=["onUpdate:modelValue","id","name"],J=["selected","value"],Q=["onUpdate:modelValue","id","name","value"],z={class:"row"},H=["onUpdate:modelValue","id","name","value"],X={class:"input-group-text text-center align-self-center p-0 m-0 col col-auto",style:{"border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"}},W={class:"row"},Y=["onUpdate:modelValue","id","name","value"],V={class:"input-group-text text-center align-self-center p-0 m-0 col col-auto",style:{"border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"}},Z=["onUpdate:modelValue","id","name","value"],ee=["onUpdate:modelValue","id","name"],te=["selected"],ne=["selected"],oe=["onUpdate:modelValue","id","name"],ae=["selected"],re=["selected"],ie=["onUpdate:modelValue","id","name"],le=["selected","value"],se={key:0},ce=["onUpdate:modelValue","id","name","value"],ue={key:1},pe=["onUpdate:modelValue","id","name"],de={class:"row justify-content-center"},ge={class:"col col-auto"};var he=n(4974),fe=n.n(he),be=n(6594),me=n.n(be),ve={class:"vtl vtl-card p-2"},ye={key:0,class:"vtl-card-title"},we={class:"vtl-card-body"},xe={class:"vtl-row"},ke={key:0,class:"vtl-loading-mask"},Le={class:"vtl-thead"},Ce={class:"vtl-thead-tr m-0 p-0"},_e=["onClick","innerHTML"],Pe=["set"],Se=["colspan"],Ee={class:"flex"},Ae={key:0,class:"animation"},Ie=["onClick"],$e=["innerHTML"],Re=["name","onClick"],Te=["id","onClick","value"],Me=["innerHTML"],Oe={key:1,style:{width:"max-content",margin:"0 auto"}},Ne={key:0,style:{width:"max-content",margin:"0 auto"}},je={key:1},Be=["set"],De=["colspan"],Fe={class:"flex"},Ue={key:0,class:"animation"},qe=["onClick"],Ke=["innerHTML"],Ge=["name","onClick"],Je=["id","value","onClick"],Qe=["innerHTML"],ze={key:1,style:{width:"max-content",margin:"0 auto"}},He={key:0,style:{width:"max-content",margin:"0 auto"}},Xe={key:1},We={key:0,class:"vtl-paging vtl-row"},Ye={class:"vtl-paging-info col col-auto p-0 m-0"},Ve={role:"status","aria-live":"polite"},Ze={class:"row w-100 justify-content-between align-items-center p-0 m-0"},et={class:"vtl-paging-change-div col col-auto p-0 m-0"},tt={class:"vtl-paging-count-label col col-auto"},nt=["value"],ot={class:"vtl-paging-page-label col col-auto"},at=["value"],rt={class:"vtl-paging-pagination-div align-items-center col col-auto p-0 m-0"},it={class:"dataTables_paginate"},lt={class:"vtl-paging-pagination-ul vtl-pagination p-0 m-0"},st=["onClick"],ct={key:1,class:"vtl-row"},ut={class:"vtl-empty-msg col-12 text-center"};function pt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,a,r,i,l=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,a=e}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(c)throw a}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return dt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dt(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}const gt=(0,d.pM)({name:"my-table",emits:["return-checked-rows","do-search","is-finished","get-now-page","row-clicked","row-toggled"],props:{isLoading:{type:Boolean,require:!0},isReSearch:{type:Boolean,require:!0},hasCheckbox:{type:Boolean,default:!1},checkedReturnType:{type:String,default:"row"},title:{type:String,default:""},isFixedFirstColumn:{type:Boolean,default:!1},columns:{type:Array,default:function(){return[]}},rows:{type:Array,default:function(){return[]}},rowClasses:{type:[Array,Function],default:function(){return[]}},pageSize:{type:Number,default:10},total:{type:Number,default:100},page:{type:Number,default:1},sortable:{type:Object,default:function(){return{order:"id",sort:"asc"}}},messages:{type:Object,default:function(){return{pagingInfo:"Showing {0}-{1} of {2}",pageSizeChangeLabel:"Row count:",gotoPageLabel:"Go to page:",noDataAvailable:"No data"}}},isStaticMode:{type:Boolean,default:!1},isSlotMode:{type:Boolean,default:!1},isHidePaging:{type:Boolean,default:!1},pageOptions:{type:Array,default:function(){return[{value:10,text:10},{value:25,text:25},{value:50,text:50}]}},groupingKey:{type:String,default:""},hasGroupToggle:{type:Boolean,default:!1},groupingDisplay:{type:Function,default:null},maxHeight:{default:"auto"},startCollapsed:{type:Boolean,default:!1},isKeepCollapsed:{type:Boolean,default:!1}},setup:function(e,t){var n=t.emit,o=t.slots,a=(0,d.KR)(null),r=e.pageOptions.length>0?(0,d.KR)(e.pageOptions[0].value):(0,d.KR)(e.pageSize);e.pageOptions.length>0&&e.pageOptions.forEach((function(t){Object.prototype.hasOwnProperty.call(t,"value")&&Object.prototype.hasOwnProperty.call(t,"text")&&e.pageSize==t.value&&(r.value=t.value)}));var i=(0,d.Kh)({isSlotMode:e.isSlotMode,isCheckAll:!1,isHidePaging:e.isHidePaging,keyColumn:(0,d.EW)((function(){var t="";return Object.assign(e.columns).forEach((function(e){e.isKey&&(t=e.field)})),t})),page:e.page,pageSize:r.value,maxPage:(0,d.EW)((function(){if(e.total<=0)return 0;var t=Math.floor(e.total/i.pageSize);return e.total%i.pageSize>0&&t++,t})),offset:(0,d.EW)((function(){return(i.page-1)*i.pageSize+1})),limit:(0,d.EW)((function(){var t=i.page*i.pageSize;return e.total>=t?t:e.total})),paging:(0,d.EW)((function(){var e=i.page-2<=0?1:i.page-2;i.maxPage-i.page<=2&&(e=i.maxPage-4);for(var t=[],n=e=e<=0?1:e;n<=i.maxPage;n++)t.length<5&&t.push(n);return t})),order:e.sortable.order,sort:e.sortable.sort,pageOptions:e.pageOptions}),l=(0,d.KR)([]),s=(0,d.EW)((function(){var t=e.rows,n=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),o="desc"===i.sort?-1:1;t.sort((function(e,t){return n.compare(e[i.order],t[i.order])*o}));var a=null;if(e.groupingKey){var r={};t.forEach((function(t){r[t[e.groupingKey]]||(r[t[e.groupingKey]]=[]),r[t[e.groupingKey]].push(t)})),a={};for(var l=i.offset-1;l<i.limit;l++)a[t[l][e.groupingKey]]=r[t[l][e.groupingKey]]}else{a=[];for(var s=i.offset-1;s<i.limit;s++)a.push(t[s])}return(0,d.dY)((function(){g()})),a})),c=(0,d.KR)([]);(0,d.Ic)((function(){c.value=[]})),(0,d.wB)((function(){return i.isCheckAll}),(function(t){if(e.hasCheckbox){if(l.value=[],t){var o=e.isStaticMode?e.rows.slice(i.offset-1,i.limit):e.rows;"row"==e.checkedReturnType?l.value=o:o.forEach((function(e){l.value.push(e[i.keyColumn])}))}c.value.forEach((function(e){e&&(e.checked=t)})),n("return-checked-rows",l.value)}})),(0,d.wB)((function(){return e.hasCheckbox}),(function(e){e||(i.isCheckAll=!1)}));var u=function(){l.value=[],c.value.forEach((function(e){e&&e.checked&&(e.checked=!1)})),n("return-checked-rows",l.value)},p=function(t,o){i.isCheckAll=!1,e.hasCheckbox&&(l.value=[]);var a=i.order,r=i.sort,s=(t-1)*i.pageSize,c=i.pageSize;(!e.isReSearch||t>1||t==o)&&n("do-search",s,c,a,r)};(0,d.wB)((function(){return i.page}),p),(0,d.wB)((function(){return e.page}),(function(e){e<=1?(i.page=1,n("get-now-page",i.page)):e>=i.maxPage?(i.page=i.maxPage,n("get-now-page",i.page)):i.page=e}));(0,d.wB)((function(){return i.pageSize}),(function(){1===i.page?p(i.page,i.page):(i.page=1,i.isCheckAll=!1)})),(0,d.wB)((function(){return e.pageSize}),(function(e){i.pageSize=e}));(0,d.wB)((function(){return e.rows}),(function(){(e.isReSearch||e.isStaticMode)&&(i.page=1),(0,d.dY)((function(){e.isStaticMode||g()}))}));var g=function(){if(a.value){var e=a.value.getElementsByClassName("is-rows-el");n("is-finished",e)}n("get-now-page",i.page)},h=(0,d.KR)({}),f=(0,d.KR)({}),b=(0,d.KR)({}),m=(0,d.EW)((function(){var t={};return e.rows.forEach((function(n){t[n[e.groupingKey]]||(t[n[e.groupingKey]]=[]),t[n[e.groupingKey]].push(n)})),(0,d.dY)((function(){if(e.startCollapsed||e.isKeepCollapsed)for(var t=0,n=Object.entries(h.value);t<n.length;t++){var o=pt(n[t],2),a=o[0],r=o[1];if(r){var i=!e.startCollapsed;e.isKeepCollapsed&&void 0!==b.value[a]&&(i=!b.value[a]),(i&&r.parentElement.classList.contains("rotated-90")||!i&&!r.parentElement.classList.contains("rotated-90"))&&r.parentElement.classList.toggle("rotated-90"),i||f.value[a].forEach((function(e){e&&e.classList.add("hidden")}))}}g()})),t}));return(0,d.sV)((function(){(0,d.dY)((function(){e.rows.length>0&&g()}))})),{slots:o,localTable:a,localRows:s,setting:i,rowCheckbox:c,clickChild:function(t){e.isFixedFirstColumn&&null!==t.target.firstElementChild&&t.target.firstElementChild.click()},checked:function(t,o){o.stopPropagation();var a=t[i.keyColumn];if("row"==e.checkedReturnType&&(a=t),o.target.checked)l.value.push(a);else{var r=l.value.indexOf(a);r>=0&&l.value.splice(r,1)}l.value.length==e.rows.length?i.isCheckAll=!0:n("return-checked-rows",l.value)},clearChecked:u,doSort:function(t){var o="asc";t==i.order&&"asc"==i.sort&&(o="desc");var a=(i.page-1)*i.pageSize,r=i.pageSize;i.order=t,i.sort=o,n("do-search",a,r,t,o),i.isCheckAll?i.isCheckAll=!1:e.hasCheckbox&&u()},prevPage:function(){if(1==i.page)return!1;i.page--},movePage:function(e){i.page=e},nextPage:function(){if(i.page>=i.maxPage)return!1;i.page++},stringFormat:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return e.replace(/{(\d+)}/g,(function(e,t){return void 0!==n[t]?n[t]:e}))},toggleButtonRefs:h,groupingRowsRefs:f,groupingRows:m,toggleGroup:function(e){var t=h.value[e];if(t){t.parentElement.classList.toggle("rotated-90");var o=t.parentElement.classList.contains("rotated-90");f.value[e].forEach((function(e){e&&(o?e.classList.add("hidden"):e.classList.remove("hidden"))})),b.value[e]=o,n("row-toggled",m.value[e],o)}}}}});var ht=n(100),ft=n.n(ht),bt=n(4682),mt={insert:"head",singleton:!1};ft()(bt.A,mt);bt.A.locals;const vt=(0,y.A)(gt,[["render",function(e,t,n,o,a,r){return(0,d.uX)(),(0,d.CE)("div",ve,[e.title?((0,d.uX)(),(0,d.CE)("div",ye,(0,d.v_)(e.title),1)):(0,d.Q3)("",!0),(0,d.Lk)("div",we,[(0,d.Lk)("div",xe,[(0,d.Lk)("div",{class:(0,d.C4)(["col-sm-12 dataTables_wrapper CustomScrollbar",{"fixed-first-column":e.isFixedFirstColumn,"fixed-first-second-column":e.isFixedFirstColumn&&e.hasCheckbox}])},[e.isLoading?((0,d.uX)(),(0,d.CE)("div",ke,t[11]||(t[11]=[(0,d.Lk)("div",{class:"vtl-loading-content"},[(0,d.Lk)("span",{style:{color:"white"}},"Loading...")],-1)]))):(0,d.Q3)("",!0),(0,d.Lk)("table",{class:"vtl-table vtl-table-bordered table table-hover align-items-center align-middle text-center justify-content-center",ref:"localTable",style:(0,d.Tr)("max-height: "+e.maxHeight+"px;")},[(0,d.Lk)("thead",Le,[(0,d.Lk)("tr",Ce,[e.hasCheckbox?((0,d.uX)(),(0,d.CE)("th",{key:0,class:"vtl-thead-th vtl-checkbox-th m-0 p-0 align-items-center align-middle",onClick:t[1]||(t[1]=function(t){return e.clickChild(t)})},[(0,d.bo)((0,d.Lk)("input",{type:"checkbox",class:"vtl-thead-checkbox","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.setting.isCheckAll=t})},null,512),[[d.lH,e.setting.isCheckAll]])])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.columns,(function(n,o){return(0,d.uX)(),(0,d.CE)("th",{class:(0,d.C4)(["vtl-thead-th m-0 p-0",n.headerClasses]),key:o,style:(0,d.Tr)(Object.assign({width:n.width?n.width:"auto"},n.headerStyles)),onClick:t[2]||(t[2]=function(t){return e.clickChild(t)})},[(0,d.Lk)("div",{class:(0,d.C4)(["vtl-thead-column",{"vtl-sortable":n.sortable,"vtl-both":n.sortable,"vtl-asc":e.setting.order===n.field&&"asc"===e.setting.sort,"vtl-desc":e.setting.order===n.field&&"desc"===e.setting.sort}]),onClick:(0,d.D$)((function(t){return!!n.sortable&&e.doSort(n.field)}),["prevent"]),innerHTML:n.label},null,10,_e)],6)})),128))])]),e.rows.length>0?((0,d.uX)(),(0,d.CE)(d.FK,{key:0},[e.isStaticMode?((0,d.uX)(),(0,d.CE)("tbody",{key:0,class:"vtl-tbody",set:e.templateRows=""==e.groupingKey?[e.localRows]:e.localRows},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.templateRows,(function(n,o){return(0,d.uX)(),(0,d.CE)(d.FK,null,[""!=e.groupingKey?((0,d.uX)(),(0,d.CE)("tr",{key:o,class:"vtl-tbody-tr vtl-group-tr m-0 p-0"},[(0,d.Lk)("td",{colspan:e.hasCheckbox?2:1,class:"vtl-tbody-td vtl-group-td m-0 p-0"},[(0,d.Lk)("div",Ee,[e.hasGroupToggle?((0,d.uX)(),(0,d.CE)("div",Ae,[(0,d.Lk)("a",{ref_for:!0,ref:function(t){return e.toggleButtonRefs[o]=t},class:"cursor-pointer",style:{"text-decoration":"none"},onClick:(0,d.D$)((function(t){return e.toggleGroup(o)}),["prevent"])},"▼",8,Ie)])):(0,d.Q3)("",!0),(0,d.Lk)("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(o):o},null,8,$e)])],8,Se)])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(n,(function(n,a){return(0,d.uX)(),(0,d.CE)("tr",{key:n[e.setting.keyColumn]?n[e.setting.keyColumn]:a,ref_for:!0,ref:function(t){e.groupingRowsRefs[o]||(e.groupingRowsRefs[o]=[]),e.groupingRowsRefs[o][a]=t},name:"vtl-group-"+o,class:(0,d.C4)(["vtl-tbody-tr m-0 p-0","function"==typeof e.rowClasses?e.rowClasses(n):e.rowClasses]),onClick:function(t){return e.$emit("row-clicked",n)}},[e.hasCheckbox?((0,d.uX)(),(0,d.CE)("td",{key:0,class:"vtl-tbody-td vtl-checkbox-td m-0 p-0",onClick:t[3]||(t[3]=function(t){return e.clickChild(t)})},[(0,d.Lk)("input",{type:"checkbox",class:"vtl-tbody-checkbox",id:"checkbox"+a,onClick:function(t){return e.checked(n,t)},ref_for:!0,ref:function(t){e.rowCheckbox.push(t)},value:n[e.setting.keyColumn]},null,8,Te)])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.columns,(function(t,o){return(0,d.uX)(),(0,d.CE)("td",{key:o,class:(0,d.C4)(["vtl-tbody-td px-1 py-0",["vtl-tbody-td"+o].concat(t.columnClasses)]),style:(0,d.Tr)(t.columnStyles)},[t.display?((0,d.uX)(),(0,d.CE)("div",{key:0,innerHTML:t.display(n,a)},null,8,Me)):((0,d.uX)(),(0,d.CE)("div",Oe,[e.setting.isSlotMode&&e.slots[t.field]?((0,d.uX)(),(0,d.CE)("div",Ne,[(0,d.RG)(e.$slots,t.field,{row:n,key:a},void 0,!0)])):((0,d.uX)(),(0,d.CE)("span",je,(0,d.v_)(n[t.field]),1))]))],6)})),128))],10,Re)})),128))],64)})),256))],8,Pe)):((0,d.uX)(),(0,d.CE)("tbody",{key:1,set:e.templateRows=""==e.groupingKey?[e.rows]:e.groupingRows},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.templateRows,(function(n,o){return(0,d.uX)(),(0,d.CE)(d.FK,null,[""!=e.groupingKey?((0,d.uX)(),(0,d.CE)("tr",{class:"vtl-tbody-tr vtl-group-tr m-0 p-0",key:o},[(0,d.Lk)("td",{colspan:e.hasCheckbox?e.columns.length+1:e.columns.length,class:"vtl-tbody-td vtl-group-td m-0 p-0"},[(0,d.Lk)("div",Fe,[e.hasGroupToggle?((0,d.uX)(),(0,d.CE)("div",Ue,[(0,d.Lk)("a",{ref_for:!0,ref:function(t){return e.toggleButtonRefs[o]=t},class:"cursor-pointer",style:{"text-decoration":"none"},onClick:(0,d.D$)((function(t){return e.toggleGroup(o)}),["prevent"])},"▼",8,qe)])):(0,d.Q3)("",!0),(0,d.Lk)("div",{class:"ml-2",innerHTML:e.groupingDisplay?e.groupingDisplay(o):o},null,8,Ke)])],8,De)])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(n,(function(n,a){return(0,d.uX)(),(0,d.CE)("tr",{ref_for:!0,ref:function(t){e.groupingRowsRefs[o]||(e.groupingRowsRefs[o]=[]),e.groupingRowsRefs[o][a]=t},name:"vtl-group-"+o,key:n[e.setting.keyColumn]?n[e.setting.keyColumn]:a,class:(0,d.C4)(["vtl-tbody-tr m-0 p-0","function"==typeof e.rowClasses?e.rowClasses(n):e.rowClasses]),onClick:function(t){return e.$emit("row-clicked",n)}},[e.hasCheckbox?((0,d.uX)(),(0,d.CE)("td",{key:0,class:"vtl-tbody-td vtl-checkbox-td m-0 p-0",onClick:t[4]||(t[4]=function(t){return e.clickChild(t)})},[(0,d.Lk)("input",{type:"checkbox",class:"vtl-tbody-checkbox",id:"checkbox"+a,ref_for:!0,ref:function(t){e.rowCheckbox.push(t)},value:n[e.setting.keyColumn],onClick:function(t){return e.checked(n,t)}},null,8,Je)])):(0,d.Q3)("",!0),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.columns,(function(t,o){return(0,d.uX)(),(0,d.CE)("td",{key:o,class:(0,d.C4)(["vtl-tbody-td px-1 py-0",["vtl-tbody-td"+o].concat(t.columnClasses)]),style:(0,d.Tr)(t.columnStyles)},[t.display?((0,d.uX)(),(0,d.CE)("div",{key:0,innerHTML:t.display(n,a)},null,8,Qe)):((0,d.uX)(),(0,d.CE)("div",ze,[e.setting.isSlotMode&&e.slots[t.field]?((0,d.uX)(),(0,d.CE)("div",He,[(0,d.RG)(e.$slots,t.field,{row:n,key:a},void 0,!0)])):((0,d.uX)(),(0,d.CE)("span",Xe,(0,d.v_)(n[t.field]),1))]))],6)})),128))],10,Ge)})),128))],64)})),256))],8,Be))],64)):(0,d.Q3)("",!0)],4)],2)]),e.rows.length>0?((0,d.uX)(),(0,d.CE)("div",We,[e.setting.isHidePaging?(0,d.Q3)("",!0):((0,d.uX)(),(0,d.CE)(d.FK,{key:0},[(0,d.Lk)("div",Ye,[(0,d.Lk)("div",Ve,(0,d.v_)(e.stringFormat(e.messages.pagingInfo,e.setting.offset,e.setting.limit,e.total)),1)]),t[17]||(t[17]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",Ze,[(0,d.Lk)("div",et,[(0,d.Lk)("span",tt,(0,d.v_)(e.messages.pageSizeChangeLabel),1),(0,d.bo)((0,d.Lk)("select",{class:"vtl-paging-count-dropdown","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.setting.pageSize=t})},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.pageOptions,(function(e){return(0,d.uX)(),(0,d.CE)("option",{value:e.value,key:e.value},(0,d.v_)(e.text),9,nt)})),128))],512),[[d.u1,e.setting.pageSize]]),t[12]||(t[12]=(0,d.eW)("    ")),(0,d.Lk)("span",ot,(0,d.v_)(e.messages.gotoPageLabel),1),(0,d.bo)((0,d.Lk)("select",{class:"vtl-paging-page-dropdown col col-auto","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.setting.page=t})},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.setting.maxPage,(function(e){return(0,d.uX)(),(0,d.CE)("option",{key:e,value:parseInt(e)},(0,d.v_)(e),9,at)})),128))],512),[[d.u1,e.setting.page]])]),(0,d.Lk)("div",rt,[(0,d.Lk)("div",it,[(0,d.Lk)("ul",lt,[(0,d.Lk)("li",{class:(0,d.C4)(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-first page-item",{disabled:e.setting.page<=1}])},[(0,d.Lk)("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-first page-link cursor-pointer",href:"javascript:void(0)","aria-label":"Previous",onClick:t[7]||(t[7]=(0,d.D$)((function(t){return e.setting.page=1}),["prevent"]))},t[13]||(t[13]=[(0,d.Lk)("span",{"aria-hidden":"true"},[(0,d.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-skip-start-fill",viewBox:"0 0 16 16"},[(0,d.Lk)("path",{d:"M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z"})])],-1),(0,d.Lk)("span",{class:"sr-only"},"First",-1)]))],2),(0,d.Lk)("li",{class:(0,d.C4)(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-prev page-item",{disabled:e.setting.page<=1}])},[(0,d.Lk)("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-prev page-link cursor-pointer",href:"javascript:void(0)","aria-label":"Previous",onClick:t[8]||(t[8]=(0,d.D$)((function(){return e.prevPage&&e.prevPage.apply(e,arguments)}),["prevent"]))},t[14]||(t[14]=[(0,d.Lk)("span",{"aria-hidden":"true"},[(0,d.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-left-fill",viewBox:"0 0 16 16"},[(0,d.Lk)("path",{d:"m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z"})])],-1),(0,d.Lk)("span",{class:"sr-only"},"Prev",-1)]))],2),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.setting.paging,(function(t){return(0,d.uX)(),(0,d.CE)("li",{class:(0,d.C4)(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-number page-item",{disabled:e.setting.page===t}]),key:t},[(0,d.Lk)("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-number page-link cursor-pointer",href:"javascript:void(0)",onClick:(0,d.D$)((function(n){return e.movePage(t)}),["prevent"])},(0,d.v_)(t),9,st)],2)})),128)),(0,d.Lk)("li",{class:(0,d.C4)(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-next page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[(0,d.Lk)("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-next page-link cursor-pointer",href:"javascript:void(0)","aria-label":"Next",onClick:t[9]||(t[9]=(0,d.D$)((function(){return e.nextPage&&e.nextPage.apply(e,arguments)}),["prevent"]))},t[15]||(t[15]=[(0,d.Lk)("span",{"aria-hidden":"true"},[(0,d.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-caret-right-fill",viewBox:"0 0 16 16"},[(0,d.Lk)("path",{d:"m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z"})])],-1),(0,d.Lk)("span",{class:"sr-only"},"Next",-1)]))],2),(0,d.Lk)("li",{class:(0,d.C4)(["vtl-paging-pagination-page-li vtl-paging-pagination-page-li-last page-item",{disabled:e.setting.page>=e.setting.maxPage}])},[(0,d.Lk)("a",{class:"vtl-paging-pagination-page-link vtl-paging-pagination-page-link-last page-link cursor-pointer",href:"javascript:void(0)","aria-label":"Next",onClick:t[10]||(t[10]=(0,d.D$)((function(t){return e.setting.page=e.setting.maxPage}),["prevent"]))},t[16]||(t[16]=[(0,d.Lk)("span",{"aria-hidden":"true"},[(0,d.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-skip-end-fill",viewBox:"0 0 16 16"},[(0,d.Lk)("path",{d:"M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z"})])],-1),(0,d.Lk)("span",{class:"sr-only"},"Last",-1)]))],2)])])])])],64))])):((0,d.uX)(),(0,d.CE)("div",ct,[(0,d.Lk)("div",ut,(0,d.v_)(e.messages.noDataAvailable),1)]))])])}],["__scopeId","data-v-3cbadeb8"]]);var yt=n(4335);function wt(e){return wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(e)}function xt(){xt=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==wt(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(wt(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function kt(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Lt(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){kt(r,o,a,i,l,"next",e)}function l(e){kt(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Ct(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=((0,b.rd)(),function(){var t=Lt(xt().mark((function t(){var o,a,r,i,l,s;return xt().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,a=sessionStorage.getItem("lookInTargets"),r=sessionStorage.getItem("lookInType"),sessionStorage.getItem("lookInSend"),null!==a&&null!==r||(sessionStorage.setItem("lookInType",JSON.stringify("1")),sessionStorage.setItem("lookInTargets",JSON.stringify("")),sessionStorage.setItem("lookInSend",JSON.stringify(null))),a=sessionStorage.getItem("lookInTargets"),r=sessionStorage.getItem("lookInType"),i=sessionStorage.getItem("lookInSend"),t.prev=11,t.next=14,yt.A.post("/api/basic/mats",{DB:o.data,LookInTargets:a,LookInType:r,LookInSend:i});case 14:l=t.sent,e.value=JSON.stringify(l.data),t.next=23;break;case 18:for(s in t.prev=18,t.t0=t.catch(11),console.log(t.t0),t.t0.response.data.errors)n.value+=t.t0.response.data.errors[s][0]+"  ";console.log(n.value);case 23:case"end":return t.stop()}}),t,null,[[11,18]])})));return function(){return t.apply(this,arguments)}}()),a=function(){var e=Lt(xt().mark((function e(){var o,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/basic/get_dispatcher",{DB:o.data});case 7:return a=e.sent,t.value=JSON.stringify(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Lt(xt().mark((function e(t){var o,a;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/basic/delete_pn",{DB:o.data,pn:JSON.stringify(t)});case 7:return a=e.sent,console.log(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Lt(xt().mark((function e(o,a,r,i,l,s,c,u,p,d,g,h,f){var b,m;return xt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return b=e.sent,e.prev=4,e.next=7,yt.A.post("/api/basic/update_pn",{DB:b.data,pn:JSON.stringify(o),name:JSON.stringify(a),spec:JSON.stringify(r),price:JSON.stringify(i),unit:JSON.stringify(l),currency:JSON.stringify(s),mpq:JSON.stringify(c),moq:JSON.stringify(u),lt:JSON.stringify(p),gradea:JSON.stringify(d),monthly:JSON.stringify(g),dispatcher:JSON.stringify(h),safe:JSON.stringify(f)});case 7:return m=e.sent,t.value=JSON.stringify(m.data),console.log(m.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 13:return e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n,o,a,r,i,l,s,c,u,p,d,g){return e.apply(this,arguments)}}();return{mats:e,queryResult:t,getMats:o,getDispatchers:a,deletePN:r,uploadToDB:i}}var _t=n(4692);function Pt(e){return Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pt(e)}function St(){St=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Pt(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Pt(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Et(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function At(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Et(r,o,a,i,l,"next",e)}function l(e){Et(r,o,a,i,l,"throw",e)}i(void 0)}))}}const It=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Ct(),t=e.mats,n=e.queryResult,o=e.getMats,a=e.deletePN,r=e.uploadToDB,i=(0,d.KR)(!1),l=(0,d.KR)("");(0,S.KC)(At(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w.isLoading=!0,e.next=3,o();case 3:case"end":return e.stop()}}),e)}))));var s=(0,d.KR)(""),c=(0,S.nI)(),u=document.getElementsByTagName("HTML")[0].getAttribute("lang");c.appContext.config.globalProperties.$lang.setLocale(u);var p=(0,d.Kh)([]),g=(0,d.Kh)([]),h=[],f=(0,d.KR)(["RMB","USD","JPY","TWD","VND","IDR"]);var b=function(){var e=At(St().mark((function e(){var t,n,o,r;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],0!=h.length){e.next=4;break}return notyf.open({type:"warning",message:c.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.abrupt("return");case 4:for(n=0;n<h.length;n++)t.push(h[n].料號);return e.next=7,v();case 7:return e.next=9,a(t);case 9:if("success"!==e.sent){e.next=24;break}o=St().mark((function e(t){var n;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=(n=p.findIndex((function(e){return parseInt(e.id)===parseInt(h[t].id)})))&&p.splice(n,1);case 2:case"end":return e.stop()}}),e)})),r=0;case 13:if(!(r<h.length)){e.next=18;break}return e.delegateYield(o(r),"t0",15);case 15:r++,e.next=13;break;case 18:notyf.open({type:"success",message:c.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+c.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),h=[],e.next=25;break;case 24:notyf.open({type:"error",message:c.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 25:_t("body").loadingModal("hide"),_t("body").loadingModal("destroy");case 27:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=At(St().mark((function e(){var t,n,o,a,r,i,l,s,u,d,g;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:for(t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear(),t=a+"_"+o+"_"+n,r=[],i=0;i<p.length;i++)(l={}).料號=p[i].料號,l.品名=p[i].品名,l.規格=p[i].規格,l.單價=parseFloat(p[i].單價.toString()),l.幣別=p[i].幣別,l.單位=p[i].單位,l.MPQ=parseInt(p[i].MPQ.toString()),l.MOQ=parseInt(p[i].MOQ.toString()),l.LT=parseInt(p[i].LT.toString()),"是"===p[i].月請購?l.月請購=c.appContext.config.globalProperties.$t("basicInfoLang.yes"):l.月請購=c.appContext.config.globalProperties.$t("basicInfoLang.no"),"是"===p[i].A級資材?l.A級資材=c.appContext.config.globalProperties.$t("basicInfoLang.yes"):l.A級資材=c.appContext.config.globalProperties.$t("basicInfoLang.no"),l.發料部門=p[i].發料部門,l.安全庫存=p[i].安全庫存,r.push(l);return s=new(fe().Workbook),(u=s.addWorksheet(c.appContext.config.globalProperties.$t("basicInfoLang.matssearch"))).columns=[{header:c.appContext.config.globalProperties.$t("basicInfoLang.isn"),key:"料號",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.pName"),key:"品名",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.format"),key:"規格",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.price"),key:"單價",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.money"),key:"幣別",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.unit"),key:"單位",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.mpq"),key:"MPQ",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.moq"),key:"MOQ",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.lt"),key:"LT",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.month"),key:"月請購",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.gradea"),key:"A級資材",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.senddep"),key:"發料部門",width:20},{header:c.appContext.config.globalProperties.$t("basicInfoLang.safe"),key:"安全庫存",width:20}],r.forEach((function(e){u.addRow(e)})),e.next=15,s.xlsx.writeBuffer();case 15:d=e.sent,g=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(g,c.appContext.config.globalProperties.$t("basicInfoLang.matssearch")+"_"+t+".xlsx"),_t("body").loadingModal("hide"),_t("body").loadingModal("destroy");case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=At(St().mark((function e(){return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _t("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=At(St().mark((function e(){var t,o,a,s,u,p,d,g,f,b,m,y,w,x,k,L,C,_,P;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(i.value=!1,t=!1,!(h.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:c.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),_t("body").loadingModal("hide"),_t("body").loadingModal("destroy"),e.abrupt("return");case 10:for(o=0;o<h.length&&!1===t;o++)h[o].料號=h[o].料號.toString().trim(),h[o].品名=h[o].品名.toString().trim(),h[o].規格=h[o].規格.toString().trim(),h[o].單價=h[o].單價.toString().trim(),h[o].幣別=h[o].幣別.toString().trim(),h[o].單位=h[o].單位.toString().trim(),h[o].MPQ=h[o].MPQ.toString().trim(),h[o].MOQ=h[o].MOQ.toString().trim(),h[o].LT=h[o].LT.toString().trim(),h[o].A級資材=h[o].A級資材.toString().trim(),h[o].月請購=h[o].月請購.toString().trim(),h[o].發料部門=h[o].發料部門.toString().trim(),"否"===h[o].月請購?null===h[o].安全庫存?(t=!0,l.value=c.appContext.config.globalProperties.$t("basicInfoLang.entersafe")+" ( "+h[o].料號+" ) "):h[o].安全庫存=h[o].安全庫存.toString().trim():h[o].安全庫存="null";if(!t){e.next=17;break}return i.value=!0,notyf.open({type:"error",message:c.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),_t("body").loadingModal("hide"),_t("body").loadingModal("destroy"),e.abrupt("return");case 17:for(a=[],s=[],u=[],p=[],d=[],g=[],f=[],b=[],m=[],y=[],w=[],x=[],k=[],L=0;L<h.length;L++)a.push(h[L].料號),s.push(h[L].品名),u.push(h[L].規格),p.push(h[L].單價),d.push(h[L].幣別),g.push(h[L].單位),f.push(h[L].MPQ),b.push(h[L].MOQ),m.push(h[L].LT),y.push(h[L].A級資材),w.push(h[L].月請購),x.push(h[L].發料部門),k.push(h[L].安全庫存);return C=Date.now(),e.next=34,r(a,s,u,p,g,d,f,b,m,y,w,x,k);case 34:_=e.sent,P=Date.now()-C,console.log("Total time taken : "+P+" milliseconds"),_t("body").loadingModal("hide"),_t("body").loadingModal("destroy"),"success"===_?notyf.open({type:"success",message:c.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+JSON.parse(n.value).record+" "+c.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+c.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+c.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:c.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 40:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(t,At(St().mark((function e(){var n,o,a;return St().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:for(n=JSON.parse(t.value),o=0;o<n.senders.length;o++)g.push(n.senders[o]);for(a=0;a<n.datas.length;a++)n.datas[a].id=a,n.datas[a].單價=parseFloat(n.datas[a].單價),p.push(n.datas[a]);_t("body").loadingModal("hide"),_t("body").loadingModal("destroy"),w.isLoading=!1;case 8:case"end":return e.stop()}}),e)}))));var w=(0,d.Kh)({isLoading:!0,columns:[{label:c.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:c.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.format"),field:"規格",width:"13ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:c.appContext.config.globalProperties.$t("basicInfoLang.price"),field:"單價_幣別",width:"16ch",sortable:!1},{label:c.appContext.config.globalProperties.$t("basicInfoLang.unit"),field:"單位",width:"6ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.mpq"),field:"MPQ",width:"8ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.moq"),field:"MOQ",width:"8ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.lt"),field:"LT",width:"7ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.month"),field:"月請購",width:"9ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.gradea"),field:"A級資材",width:"9ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.senddep"),field:"發料部門",width:"12ch",sortable:!0},{label:c.appContext.config.globalProperties.$t("basicInfoLang.safe"),field:"安全庫存",width:"13ch",sortable:!0}],rows:(0,d.EW)((function(){return p.filter((function(e){return e.料號.toLowerCase().includes(s.value.toLowerCase())||e.規格.includes(s.value)}))})),totalRecordCount:(0,d.EW)((function(){return w.rows.length})),sortable:{order:"料號",sort:"asc"},messages:{pagingInfo:c.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+c.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+c.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+c.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:c.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:c.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:c.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:s,table:w,isInvalid_DB:i,validation_err_msg:l,updateCheckedRows:function(e){h=e},CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()},deleteRow:b,OutputExcelClick:m,onSendToDBClick:y,currencyDict:f,senders:g}}});var $t=n(2101),Rt={insert:"head",singleton:!1};ft()($t.A,Rt);$t.A.locals;const Tt=(0,y.A)(It,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",T,[(0,d.Lk)("div",M,[(0,d.Lk)("div",O,[(0,d.Lk)("label",N,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",j,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterisn_or_spec"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,B),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",D,[(0,d.Lk)("button",{type:"submit",id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",onClick:t[1]||(t[1]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[15]||(t[15]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)])),t[17]||(t[17]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",onClick:t[2]||(t[2]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[16]||(t[16]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]))])]),t[19]||(t[19]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",F,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[13]||(t[13]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{品名:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.品名=e},onInput:t[3]||(t[3]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center align-self-center p-0 m-0",style:{width:"13ch"},id:"pname"+o.id,name:"pname"+a,value:o.品名},null,40,U),[[d.Jo,o.品名]])]})),單價_幣別:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.Lk)("div",q,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.單價=e},onInput:t[4]||(t[4]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center align-self-center p-0 m-0 col col-auto",style:{width:"8ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",step:"0.001",min:"0",id:"price"+o.id,name:"price"+a},null,40,K),[[d.Jo,o.單價]]),(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.幣別=e},onInput:t[5]||(t[5]=function(t){e.CheckCurrentRow(t)}),style:{width:"8ch","border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"},class:"form-select align-self-center ps-2 p-0 m-0 col col-auto",id:"money"+o.id,name:"money"+a},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.currencyDict,(function(e){return(0,d.uX)(),(0,d.CE)("option",{selected:o.幣別===e,value:e},(0,d.v_)(e),9,J)})),256))],40,G),[[d.u1,o.幣別]])])]})),單位:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.單位=e},onInput:t[6]||(t[6]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center align-self-center p-0 m-0",style:{width:"5ch"},id:"unit"+o.id,name:"unit"+a,value:o.單位},null,40,Q),[[d.Jo,o.單位]])]})),MPQ:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.Lk)("div",z,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.MPQ=e},onInput:t[7]||(t[7]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center p-0 m-0 col col-auto",style:{width:"5ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",min:"0",id:"mpq"+o.id,name:"mpq"+a,value:o.MPQ},null,40,H),[[d.Jo,o.MPQ]]),(0,d.Lk)("small",X,(0,d.v_)(o.單位),1)])]})),MOQ:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.Lk)("div",W,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.MOQ=e},onInput:t[8]||(t[8]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center p-0 m-0 col col-auto",style:{width:"5ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",min:"0",id:"moq"+o.id,name:"moq"+a,value:o.MOQ},null,40,Y),[[d.Jo,o.MOQ]]),(0,d.Lk)("small",V,(0,d.v_)(o.單位),1)])]})),LT:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.LT=e},onInput:t[9]||(t[9]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center p-0 m-0",style:{width:"5ch"},type:"number",min:"0",id:"lt"+o.id,name:"lt"+a,value:Math.round(o.LT)},null,40,Z),[[d.Jo,o.LT]])]})),月請購:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.月請購=e},onInput:t[10]||(t[10]=function(t){e.CheckCurrentRow(t)}),style:{width:"7ch"},class:"col col-auto form-select form-select-lg ps-2 p-0 m-0",id:"month"+o.id,name:"month"+a},[(0,d.Lk)("option",{value:"是",selected:"是"===o.月請購},(0,d.v_)(e.$t("basicInfoLang.yes")),9,te),(0,d.Lk)("option",{value:"否",selected:"否"===o.月請購},(0,d.v_)(e.$t("basicInfoLang.no")),9,ne)],40,ee),[[d.u1,o.月請購]])]})),A級資材:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.A級資材=e},onInput:t[11]||(t[11]=function(t){e.CheckCurrentRow(t)}),style:{width:"7ch"},class:"col col-auto form-select form-select-lg ps-2 p-0 m-0",id:"gradea"+o.id,name:"gradea"+a},[(0,d.Lk)("option",{value:"是",selected:"是"===o.A級資材},(0,d.v_)(e.$t("basicInfoLang.yes")),9,ae),(0,d.Lk)("option",{value:"否",selected:"否"===o.A級資材},(0,d.v_)(e.$t("basicInfoLang.no")),9,re)],40,oe),[[d.u1,o.A級資材]])]})),發料部門:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.發料部門=e},onInput:t[12]||(t[12]=function(t){e.CheckCurrentRow(t)}),style:{width:"10ch"},class:"form-select form-select-lg ps-2 p-0 m-0",id:"send"+o.id,name:"send"+a},[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.senders,(function(e){return(0,d.uX)(),(0,d.CE)("option",{selected:o.發料部門===e,value:e},(0,d.v_)(e),9,le)})),256))],40,ie),[[d.u1,o.發料部門]])]})),安全庫存:(0,d.k6)((function(t){var n=t.row,o=t.key;return["否"===n.月請購?((0,d.uX)(),(0,d.CE)("div",se,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return n.安全庫存=e},class:(0,d.C4)([{"is-invalid":null===n.安全庫存},"form-control text-center p-0 m-0"]),style:{width:"8ch"},type:"number",min:"0",id:"safe"+n.id,name:"safe"+o,value:n.安全庫存},null,10,ce),[[d.Jo,n.安全庫存]])])):((0,d.uX)(),(0,d.CE)("div",ue,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return n.安全庫存=e},class:"form-control text-center p-0 m-0",style:{width:"0ch"},id:"safe"+n.id,name:"safe"+o,value:null,hidden:""},null,8,pe),[[d.Jo,n.安全庫存]]),(0,d.eW)(" "+(0,d.v_)(e.$t("basicInfoLang.differ_by_client")),1)]))]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading","onReturnCheckedRows"]),t[20]||(t[20]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",de,[(0,d.Lk)("div",ge,[(0,d.Lk)("button",{type:"submit",id:"change",name:"change",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[14]||(t[14]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[18]||(t[18]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("basicInfoLang.change")),1)])])])],64)}],["__scopeId","data-v-fc727b76"]]);var Mt={class:"card"},Ot={class:"card-header"},Nt={class:"card-body"},jt={class:"row justify-content-center mb-3"},Bt={class:"col col-auto"},Dt=["href"],Ft={class:"col col-auto form-label"},Ut={class:"col col-auto"},qt={key:0,class:"invalid-feedback d-block",role:"alert"},Kt={class:"row justify-content-center"},Gt={class:"card collapse",id:"importedtable"},Jt={class:"card-body"},Qt={class:"row justify-content-between"},zt={class:"row col col-auto"},Ht={class:"col col-auto"},Xt={for:"pnInput",class:"col-form-label"},Wt={class:"col col-6 p-0 m-0"},Yt=["placeholder"],Vt={key:0,class:"invalid-feedback d-block",role:"alert"},Zt={class:"row justify-content-center"},en={class:"col col-auto"};var tn=n(3959),nn=n(4692);function on(e){return on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(e)}function an(){an=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==on(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(on(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function rn(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function ln(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){rn(r,o,a,i,l,"next",e)}function l(e){rn(r,o,a,i,l,"throw",e)}i(void 0)}))}}const sn=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,d.KR)(window.location.origin+"/download/MaterialExample.xlsx"),t=(0,S.nI)(),n=document.getElementsByTagName("HTML")[0].getAttribute("lang");t.appContext.config.globalProperties.$lang.setLocale(n);var o,a=Ct(),r=a.mats,i=a.queryResult,l=a.uploadToDB,s=a.getDispatchers,c=(0,d.KR)(!1),u=(0,d.KR)(!1),p=(0,d.KR)(""),g=(0,d.KR)(!1),h=[],f=(0,d.KR)(),b=function(e){for(var t=e.slice().sort(),n=[],o=0;o<t.length-1;o++)t[o+1]==t[o]&&n.push(t[o]);return n},m=function(){var e=ln(an().mark((function e(){var n;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.value=!1,r.value="",e.next=4,w();case 4:f.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==f.value.type||"application/vnd.ms-excel"==f.value.type||"application/vnd.ms-excel"==f.value.type||".csv"==f.value.type?((n=new FileReader).onload=function(){var e=ln(an().mark((function e(n){var a,r,i,l,u,d;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.result,r=tn.LF(a,{type:"binary"}),i=r.SheetNames[0],l=r.Sheets[i],void 0!==(o=tn.Wp.sheet_to_json(l,{header:1}))&&void 0!==o[0]&&void 0!==o[0][0]&&void 0!==o[0][1]&&void 0!==o[0][2]){e.next=10;break}c.value=!0,p.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 10:if("料號"===o[0][0].trim()&&"品名"===o[0][1].trim()&&"規格"===o[0][2].trim()){e.next=15;break}c.value=!0,p.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 15:for(u=Array(),d=1;d<o.length;d++)null!=o[d][0]&&o[d].length>2&&""!=o[d][0].trim()&&null!=o[d][0].trim()?u.push(o[d][0].trim()):(o.splice(d,1),d-=1);return e.next=19,w();case 19:return e.next=21,s();case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsBinaryString(f.value)):(c.value=!0,p.value=t.appContext.config.globalProperties.$t("validation.mimetypes")):(c.value=!0,p.value=t.appContext.config.globalProperties.$t("validation.required")),f.value=null,document.getElementById("excel_input").value="",nn("body").loadingModal("hide"),nn("body").loadingModal("destroy");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=(0,d.KR)(""),y=(0,d.Kh)([]),w=function(){var e=ln(an().mark((function e(){return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return nn("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=ln(an().mark((function e(){var n,o,a,r,i,s,c,d,h,f,m,v,x,k,L,C,_,P,S,E,A,I,$;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(u.value=!1,n=0,o=!1,!(y.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:t.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),e.abrupt("return");case 10:for(a=Array(),r=0;r<y.length;r++)null!=y[r].料號&&""!=y[r].料號.trim()&&a.push(y[r].料號.toString().trim());if(!((i=b(a)).length>0)){e.next=20;break}return u.value=!0,p.value=t.appContext.config.globalProperties.$t("monthlyPRpageLang.repeated_isn")+" : "+i[0],notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),e.abrupt("return");case 20:if(document.getElementsByClassName("text-danger").length>0&&(s=document.getElementsByClassName("text-danger")[0].parentNode.childNodes[0].getAttribute("id"),n=s.replace(/[^0-9]/g,""),o=!0,console.log(s,n)),!o){e.next=28;break}return u.value=!0,p.value="Excel "+t.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error")+" "+t.appContext.config.globalProperties.$t("inboundpageLang.row")+" "+n+" ("+document.getElementById("number"+n).value+") ",notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),e.abrupt("return");case 28:for(c=[],d=[],h=[],f=[],m=[],v=[],x=[],k=[],L=[],C=[],_=[],P=[],S=[],E=0;E<y.length;E++)c.push(y[E].料號),d.push(y[E].品名),h.push(y[E].規格),f.push(y[E].單價),m.push(y[E].幣別),v.push(y[E].單位),x.push(y[E].MPQ),k.push(y[E].MOQ),L.push(y[E].LT),"是"===y[E].A級資材.trim()||"yes"===y[E].A級資材.trim().toLowerCase()?C.push("是"):C.push("否"),"是"===y[E].月請購.trim()||"yes"===y[E].月請購.trim().toLowerCase()?_.push("是"):_.push("否"),P.push(y[E].發料部門),"是"===y[E].月請購.trim()||"yes"===y[E].月請購.trim().toLowerCase()?S.push("null"):S.push(y[E].安全庫存);return A=Date.now(),e.next=45,l(c,d,h,f,v,m,x,k,L,C,_,P,S);case 45:I=e.sent,$=Date.now()-A,console.log("Total time taken : "+$+" milliseconds"),nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),"success"===I?(g.value=!1,notyf.open({type:"success",message:t.appContext.config.globalProperties.$t("inboundpageLang.change")+" "+t.appContext.config.globalProperties.$t("inboundpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})):notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 51:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(i,ln(an().mark((function e(){var t,n,a;return an().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(""!==i.value&&null!=i.value&&void 0!==JSON.parse(i.value).data){e.next=6;break}return nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),e.abrupt("return");case 6:for(t=0;t<JSON.parse(i.value).data.length;t++)h.push(JSON.parse(i.value).data[t].發料部門);for(n={},a=1;a<o.length;a++)void 0!==o[a][0]&&void 0!==o[a][1]&&void 0!==o[a][2]&&void 0!==o[a][3]&&void 0!==o[a][4]&&void 0!==o[a][5]&&void 0!==o[a][6]&&void 0!==o[a][7]&&void 0!==o[a][8]&&void 0!==o[a][9]&&void 0!==o[a][10]&&void 0!==o[a][11]&&(n.料號=o[a][0].toString().trim(),n.品名=o[a][1].toString().trim(),n.規格=o[a][2].toString().trim(),n.單價=parseFloat(o[a][3]),n.幣別=o[a][4].toString().trim(),n.單位=o[a][5].toString().trim(),n.MPQ=parseInt(o[a][6]),n.MOQ=parseInt(o[a][7]),n.LT=parseFloat(o[a][8]),n.月請購=o[a][9].toString().trim(),n.A級資材=o[a][10].toString().trim(),n.發料部門=o[a][11].toString().trim(),n.安全庫存=parseInt(o[a][12]),h.includes(n.發料部門)?n.dispatcherError=!1:n.dispatcherError=!0,n.id=a+1,y.push(n),n={});nn("#importedtable").hasClass("show")||nn("#togglebtn").click(),g.value=!0,nn("body").loadingModal("hide"),nn("body").loadingModal("destroy"),k.isLoading=!1;case 14:case"end":return e.stop()}}),e)})))),(0,S.wB)(y,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var k=(0,d.Kh)({isLoading:!0,columns:[{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return""===e.料號||null===e.料號?'<input type="hidden" id="number'+e.id+'" name="number'+t+'" value=""><div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">Missing</div>':'<input type="hidden" id="number'+e.id+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">'+e.料號+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return""===e.品名||null===e.品名?'<input type="hidden" id="name'+e.id+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">Missing</div>':'<input type="hidden" id="name'+e.id+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.format"),field:"規格",width:"13ch",sortable:!0,display:function(e,t){return""===e.規格||null===e.規格?'<input type="hidden" id="format'+e.id+'" name="format'+t+'" value="'+e.規格+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">Missing</div>':'<input type="hidden" id="format'+e.id+'" name="format'+t+'" value="'+e.規格+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.price"),field:"單價",width:"13ch",sortable:!0,display:function(e,t){return Number.isNaN(e.單價)?'<input type="hidden" id="price'+e.id+'" name="price'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+parseFloat(e.單價)+"</div>":'<input type="hidden" id="price'+e.id+'" name="price'+t+'" value="'+parseFloat(e.單價)+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+parseFloat(e.單價)+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.money"),field:"幣別",width:"10ch",sortable:!0,display:function(e,t){var n=!1,o="";return o+='<input type="hidden" id="money'+e.id+'" name="money'+t,["RMB","USD","JPY","TWD","VND","IDR"].forEach((function(t){e.幣別.toString().trim().toLowerCase()===t.toLowerCase()&&(o+='" value="'+t+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t+"</div>",n=!0)})),n||(o+='" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.幣別+"</div>"),o}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.unit"),field:"單位",width:"8ch",sortable:!0,display:function(e,t){return""===e.單位||null===e.單位?'<input type="hidden" id="unit'+e.id+'" name="unit'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">Missing</div>':'<input type="hidden" id="unit'+e.id+'" name="unit'+t+'" value="'+e.單位+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.單位+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.mpq"),field:"MPQ",width:"8ch",sortable:!0,display:function(e,t){return Number.isNaN(e.MPQ)?'<input type="hidden" id="mpq'+e.id+'" name="mpq'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.MPQ+" <small>"+e.單位+"</small></div>":'<input type="hidden" id="mpq'+e.id+'" name="mpq'+t+'" value="'+e.MPQ+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.MPQ+" <small>"+e.單位+"</small></div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.moq"),field:"MOQ",width:"8ch",sortable:!0,display:function(e,t){return Number.isNaN(e.MOQ)?'<input type="hidden" id="moq'+e.id+'" name="moq'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.MOQ+" <small>"+e.單位+"</small></div>":'<input type="hidden" id="moq'+e.id+'" name="moq'+t+'" value="'+e.MOQ+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.MOQ+" <small>"+e.單位+"</small></div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.lt"),field:"LT",width:"8ch",sortable:!0,display:function(e,t){return Number.isNaN(e.LT)?'<input type="hidden" id="lt'+e.id+'" name="lt'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.LT+"</div>":'<input type="hidden" id="lt'+e.id+'" name="lt'+t+'" value="'+e.LT+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.LT+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.month"),field:"月請購",width:"10ch",sortable:!0,display:function(e,n){return"是"===e.月請購.trim()||"yes"===e.月請購.trim().toLowerCase()?'<input type="hidden" id="monthly'+e.id+'" name="monthly'+n+'" value="是"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("basicInfoLang.yes")+"</div>":'<input type="hidden" id="monthly'+e.id+'" name="monthly'+n+'" value="否"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("basicInfoLang.no")+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.gradea"),field:"A級資材",width:"7ch",sortable:!0,display:function(e,n){return"是"===e.A級資材.trim()||"yes"===e.A級資材.trim().toLowerCase()?'<input type="hidden" id="gradea'+e.id+'" name="gradea'+n+'" value="是"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("basicInfoLang.yes")+"</div>":'<input type="hidden" id="gradea'+e.id+'" name="gradea'+n+'" value="否"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("basicInfoLang.no")+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.senddep"),field:"發料部門",width:"10ch",sortable:!0,display:function(e,t){return e.dispatcherError?""===e.發料部門||null===e.發料部門?'<input type="hidden" id="send'+e.id+'" name="send'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">Missing</div>':'<input type="hidden" id="send'+e.id+'" name="send'+t+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.發料部門+"</div>":'<input type="hidden" id="send'+e.id+'" name="send'+t+'" value="'+e.發料部門+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.發料部門+"</div>"}},{label:t.appContext.config.globalProperties.$t("basicInfoLang.safe"),field:"安全庫存",width:"10ch",sortable:!0,display:function(e,n){return"是"===e.月請購.trim()||"yes"===e.月請購.trim().toLowerCase()?'<input type="hidden" id="safe'+e.id+'" name="safe'+n+'" value=""><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("basicInfoLang.differ_by_client")+"</div>":Number.isNaN(e.安全庫存)?'<input type="hidden" id="safe'+e.id+'" name="safe'+n+'" value=""><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.安全庫存+"</div>":'<input type="hidden" id="safe'+e.id+'" name="safe'+n+'" value="'+e.安全庫存+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.安全庫存+"</div>"}}],rows:(0,d.EW)((function(){return y.filter((function(e){return e.料號.toLowerCase().includes(v.value.toLowerCase())||e.品名.includes(v.value)}))})),totalRecordCount:(0,d.EW)((function(){return k.rows.length})),messages:{pagingInfo:t.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+t.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+t.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+t.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:t.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:t.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:t.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{exampleUrl:e,isInvalid:c,isInvalid_DB:u,validation_err_msg:p,uploadToDBReady:g,searchTerm:v,table:k,updateCheckedRows:function(e){},onUploadClick:m,onInputChange:function(e){c.value=!1,y.splice(0),i.value="",f.value=e.target.files?e.target.files[0]:null,nn("#importedtable").hasClass("show")&&nn("#togglebtn").click()},onSendToDBClick:x}}});var cn=n(1484),un={insert:"head",singleton:!1};ft()(cn.A,un);cn.A.locals;const pn=(0,y.A)(sn,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Mt,[(0,d.Lk)("div",Ot,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("basicInfoLang.upload")),1)]),(0,d.Lk)("div",Nt,[(0,d.Lk)("div",jt,[(0,d.Lk)("div",Bt,[(0,d.Lk)("a",{href:e.exampleUrl,download:""},(0,d.v_)(e.$t("inboundpageLang.exampleExcel")),9,Dt)]),t[5]||(t[5]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",Ft,(0,d.v_)(e.$t("inboundpageLang.plz_upload")),1),t[6]||(t[6]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",Ut,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[0]||(t[0]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",qt,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[7]||(t[7]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",Kt,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[1]||(t[1]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("basicInfoLang.upload1")),1)])])])]),t[11]||(t[11]=(0,d.Lk)("button",{id:"togglebtn",class:"btn btn-primary col col-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#importedtable","aria-expanded":"false","aria-controls":"importedtable",style:{display:"none"}},null,-1)),(0,d.Lk)("div",Gt,[(0,d.Lk)("div",Jt,[(0,d.Lk)("div",Qt,[(0,d.Lk)("div",zt,[(0,d.Lk)("div",Ht,[(0,d.Lk)("label",Xt,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Wt,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.searchTerm=t})},null,8,Yt),[[d.Jo,e.searchTerm]])])])]),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Vt,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[3]||(t[3]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[10]||(t[10]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",Zt,[(0,d.Lk)("div",en,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,type:"submit",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[4]||(t[4]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[8]||(t[8]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("inboundpageLang.upload1")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-3512057c"]]);var dn={class:"row justify-content-between"},gn={class:"row col col-auto"},hn={class:"col col-auto"},fn={for:"pnInput",class:"col-form-label"},bn={class:"col col-6 p-0 m-0"},mn=["placeholder"],vn={class:"col col-auto"},yn=["value"],wn={class:"invalid-feedback d-block",role:"alert"};function xn(e){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xn(e)}function kn(){kn=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==xn(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(xn(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Ln(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Cn(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Ln(r,o,a,i,l,"next",e)}function l(e){Ln(r,o,a,i,l,"throw",e)}i(void 0)}))}}var _n=n(4692);function Pn(e){return Pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pn(e)}function Sn(){Sn=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Pn(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Pn(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function En(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function An(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){En(r,o,a,i,l,"next",e)}function l(e){En(r,o,a,i,l,"throw",e)}i(void 0)}))}}const In=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=function(){var e=(0,d.KR)(""),t=((0,b.rd)(),function(){var t=Cn(kn().mark((function t(){var n,o,a,r,i,l,s,c;return kn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt.A.post("/getCurrentDB");case 2:return n=t.sent,o=sessionStorage.getItem("inboundclient"),a=sessionStorage.getItem("inboundisn"),r=sessionStorage.getItem("inboundlist"),i=sessionStorage.getItem("inboundcheck"),l=sessionStorage.getItem("inboundbegin"),s=sessionStorage.getItem("inboundend"),t.prev=9,t.next=12,yt.A.post("/api/inbound/search",{DB:n.data,inboundclient:o,inboundisn:a,inboundlist:r,inboundcheck:i,inboundbegin:l,inboundend:s});case 12:c=t.sent,e.value=JSON.stringify(c.data),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(9),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[9,16]])})));return function(){return t.apply(this,arguments)}}()),n=function(){var e=Cn(kn().mark((function e(t){var n;return kn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getCurrentDB");case 2:return n=e.sent,e.prev=3,e.next=6,yt.A.post("/api/inbound/delete",{DB:n.data,list:JSON.stringify(t.list),isn:JSON.stringify(t.isn),amount:JSON.stringify(t.amount),position:JSON.stringify(t.position),inpeople:JSON.stringify(t.inpeople),inreason:JSON.stringify(t.inreason),inboundtime:JSON.stringify(t.intime)});case 6:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 10:return e.prev=10,e.t0=e.catch(3),e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}();return{mats:e,getMats:t,deleteRows:n}}(),t=e.mats,n=e.getMats,o=e.deleteRows;(0,S.KC)(An(Sn().mark((function e(){return Sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var a=(0,d.KR)(""),r=(0,S.nI)(),i=document.getElementsByTagName("HTML")[0].getAttribute("lang");r.appContext.config.globalProperties.$lang.setLocale(i);var l=[],s=function(){var e=An(Sn().mark((function e(){var t,n,a,i;return Sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_n("body").loadingModal({text:"Loading...",animation:"circle"}),t={list:[],isn:[],amount:[],position:[],inpeople:[],inreason:[],intime:[]},!(void 0!==l&&l.length>0)){e.next=8;break}return l.forEach((function(e){t.list.push(e.入庫單號),t.isn.push(e.料號),t.amount.push(e.入庫數量),t.position.push(e.儲位),t.inpeople.push(e.入庫人員),t.inreason.push(e.入庫原因),t.intime.push(e.入庫時間)})),e.next=6,o(t);case 6:"success"===(n=e.sent)?(notyf.open({type:"success",message:r.appContext.config.globalProperties.$t("inboundpageLang.change")+" "+r.appContext.config.globalProperties.$t("inboundpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),t.intime.forEach((function(e){var t=l.findIndex((function(t){return t.入庫時間===e.replace("inboundtime","")}));-1!=t&&u.splice(t,1)})),document.getElementsByClassName("vtl-tbody-checkbox").forEach((function(e){e.checked&&e.click()})),l=[]):(console.log(n.response.data),420===n.response.status?(a=r.appContext.config.globalProperties.$t("inboundpageLang.lessstock"),notyf.open({type:"warning",message:a,duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),n.response.data.success_list.forEach((function(e){var t=u.findIndex((function(t){return parseInt(t.id)===parseInt(e[3].replace("inboundtime",""))}));-1!=t&&u.splice(t,1)}))):421===n.response.status&&(i=n.response.data.message,alert(i)));case 8:_n("body").loadingModal("hide"),_n("body").loadingModal("destroy");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=An(Sn().mark((function e(){var t,n,o,a,i;return Sn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _n("body").loadingModal({text:"Loading...",animation:"circle"}),t=new(fe().Workbook),n=t.addWorksheet(r.appContext.config.globalProperties.$t("inboundpageLang.inlist")),o=(new Date).toISOString().slice(0,10),n.addRow([r.appContext.config.globalProperties.$t("inboundpageLang.inlist"),r.appContext.config.globalProperties.$t("inboundpageLang.isn"),r.appContext.config.globalProperties.$t("inboundpageLang.inboundnum"),r.appContext.config.globalProperties.$t("inboundpageLang.loc"),r.appContext.config.globalProperties.$t("inboundpageLang.inpeople"),r.appContext.config.globalProperties.$t("inboundpageLang.inreason"),r.appContext.config.globalProperties.$t("inboundpageLang.inboundtime"),r.appContext.config.globalProperties.$t("inboundpageLang.mark")]),u.forEach((function(e){n.addRow([e.入庫單號,e.料號,"".concat(e.入庫數量," ").concat(e.單位),e.儲位,e.入庫人員,e.入庫原因,e.入庫時間,e.備註])})),e.next=8,t.xlsx.writeBuffer();case 8:a=e.sent,i=new Blob([a],{type:"application/octet-stream"}),me().saveAs(i,"".concat(r.appContext.config.globalProperties.$t("inboundpageLang.inlist"),"_").concat(o,".xlsx")),_n("body").loadingModal("hide"),_n("body").loadingModal("destroy");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=(0,d.Kh)([]);(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)e.datas[n].id=n,u.push(e.datas[n]);p.isLoading=!1}));var p=(0,d.Kh)({isLoading:!0,columns:[{label:r.appContext.config.globalProperties.$t("inboundpageLang.inlist"),field:"入庫單號",width:"14ch",sortable:!0,iskey:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫單號+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return null===e.單位?'<div class="text-danger text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.inboundnum"),field:"入庫數量",width:"14ch",sortable:!0,display:function(e,t){return null===e.單位?'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.入庫數量+' <small class="text-danger">'+r.appContext.config.globalProperties.$t("inboundpageLang.no_basic")+"</small></div>":'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.入庫數量+" <small>"+e.單位+"</small></div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.loc"),field:"儲位",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="position'+t+'" name="position'+t+'" value="'+e.儲位+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.inpeople"),field:"入庫人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundpeople'+t+'" name="inboundpeople'+t+'" value="'+e.入庫人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫人員+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.inreason"),field:"入庫原因",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundreason'+t+'" name="inboundreason'+t+'" value="'+e.入庫原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫原因+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.inboundtime"),field:"入庫時間",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundtime'+e.id+'" name="inboundtime'+t+'" value="'+e.入庫時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫時間+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.備註+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}}],rows:(0,d.EW)((function(){return u.filter((function(e){return e.料號.toLowerCase().includes(a.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return p.rows.length})),sortable:{order:"入庫時間",sort:"desc"},messages:{pagingInfo:r.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+r.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+r.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+r.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:r.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:r.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:r.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:a,table:p,updateCheckedRows:function(e){console.log(e),l=e},DeleteRowsClick:s,OutputExcelClick:c}}});var $n=n(9743),Rn={insert:"head",singleton:!1};ft()($n.A,Rn);$n.A.locals;const Tn=(0,y.A)(In,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",dn,[(0,d.Lk)("div",gn,[(0,d.Lk)("div",hn,[(0,d.Lk)("label",fn,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",bn,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("basicInfoLang.enterisn"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,mn),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",vn,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("inboundpageLang.download"),onClick:t[1]||(t[1]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,yn)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("span",wn,[(0,d.Lk)("strong",null,(0,d.v_)(e.$t("inboundpageLang.no_basic_are_highlighted")),1)]),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-34829a67"]]);var Mn={class:"row justify-content-between"},On={class:"row col col-auto"},Nn={class:"col col-auto"},jn={for:"pnInput",class:"col-form-label"},Bn={class:"col col-6 p-0 m-0"},Dn=["placeholder"],Fn={class:"col col-auto"},Un=["value"],qn={class:"CustomScrollbar text-nowrap",style:{"overflow-x":"auto",width:"100%","user-select":"text","z-index":"1",position:"relative"}},Kn={key:0},Gn={key:1};function Jn(e){return Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(e)}function Qn(){Qn=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Jn(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Jn(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function zn(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Hn(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){zn(r,o,a,i,l,"next",e)}function l(e){zn(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Xn(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n=Hn(Qn().mark((function n(){var o,a,r,i,l,s,c,u,p;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("inboundstockclient"),r=sessionStorage.getItem("inboundstockisn"),i=sessionStorage.getItem("inboundstockloc"),l=sessionStorage.getItem("inboundstocksend"),s=sessionStorage.getItem("inboundstockmonth"),c=sessionStorage.getItem("inboundstocknogood"),n.prev=10,n.next=13,yt.A.post("/api/inbound/searchstock",{DB:o.data,inboundclient:a,inboundisn:r,inboundloc:i,inboundsend:l,inboundmonth:s,inboundnogood:c});case 13:u=n.sent,e.value=JSON.stringify(u.data),n.next=22;break;case 17:for(p in n.prev=17,n.t0=n.catch(10),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[p][0]+"  ";console.log(t.value);case 22:case"end":return n.stop()}}),n,null,[[10,17]])})));return function(){return n.apply(this,arguments)}}()),o=function(){var n=Hn(Qn().mark((function n(o,a){var r,i;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return r=n.sent,n.prev=4,n.next=7,yt.A.post("/api/inbound/getExistingStock",{DB:r.data,isnArray:JSON.stringify(o),locArray:JSON.stringify(a)});case 7:return i=n.sent,e.value=JSON.stringify(i.data),n.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return n.prev=12,n.t0=n.catch(4),n.abrupt("return",new Promise((function(e,t){t(n.t0.response)})));case 15:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e,t){return n.apply(this,arguments)}}(),a=function(){var n=Hn(Qn().mark((function n(o,a,r){var i,l;return Qn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return i=n.sent,n.prev=4,n.next=7,yt.A.post("/api/inbound/locTransferRecord",{DB:i.data,timeRange:o,date1:a,date2:r});case 7:return l=n.sent,e.value=JSON.stringify(l.data),n.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return n.prev=12,n.t0=n.catch(4),console.log(n.t0),n.abrupt("return",n.t0);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(e,t,o){return n.apply(this,arguments)}}(),r=function(){var e=Hn(Qn().mark((function e(n,o,a,r){var i,l;return Qn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return i=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return l=e.sent,Date.now(),e.prev=8,e.next=11,yt.A.post("/api/inbound/locTransfer",{DB:i.data,User:l.data,number:JSON.stringify(n),oldposition:JSON.stringify(o),amount:JSON.stringify(r),newposition:JSON.stringify(a)});case 11:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(8),console.log(e.t0),t.value=e.t0.response.data,e.abrupt("return",new Promise((function(e,t){e("failed")})));case 20:case"end":return e.stop()}}),e,null,[[8,15]])})));return function(t,n,o,a){return e.apply(this,arguments)}}();return{mats:e,errors:t,getMats:n,getExistingStock:o,getLocTransferRecord:a,locTransfer:r}}var Wn=n(4692);function Yn(e){return Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yn(e)}function Vn(){Vn=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Yn(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Yn(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Zn(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function eo(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Zn(r,o,a,i,l,"next",e)}function l(e){Zn(r,o,a,i,l,"throw",e)}i(void 0)}))}}const to=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Xn(),t=e.mats,n=e.getMats;(0,S.KC)(eo(Vn().mark((function e(){return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=function(){var e=eo(Vn().mark((function e(){var t,n,o,r,i;return Vn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Wn("body").loadingModal({text:"Loading...",animation:"circle"}),t=new(fe().Workbook),n=t.addWorksheet(a.appContext.config.globalProperties.$t("inboundpageLang.stock")),o=(new Date).toISOString().slice(0,10),n.addRow([a.appContext.config.globalProperties.$t("inboundpageLang.isn"),a.appContext.config.globalProperties.$t("inboundpageLang.pName"),a.appContext.config.globalProperties.$t("inboundpageLang.format"),a.appContext.config.globalProperties.$t("inboundpageLang.stock"),a.appContext.config.globalProperties.$t("inboundpageLang.loc"),a.appContext.config.globalProperties.$t("basicInfoLang.month"),a.appContext.config.globalProperties.$t("inboundpageLang.safe"),a.appContext.config.globalProperties.$t("basicInfoLang.price"),a.appContext.config.globalProperties.$t("inboundpageLang.money"),a.appContext.config.globalProperties.$t("inboundpageLang.days")]),l.forEach((function(e){n.addRow([e.料號,e.品名,e.規格,"".concat(e.現有庫存," ").concat(e.單位),e.儲位,"是"===e.月請購?a.appContext.config.globalProperties.$t("basicInfoLang.yes"):a.appContext.config.globalProperties.$t("basicInfoLang.no"),e.安全庫存,e.單價,e.幣別,e.呆滯天數])})),e.next=8,t.xlsx.writeBuffer();case 8:r=e.sent,i=new Blob([r],{type:"application/octet-stream"}),me().saveAs(i,"".concat(a.appContext.config.globalProperties.$t("inboundpageLang.stock"),"_").concat(o,".xlsx")),Wn("body").loadingModal("hide"),Wn("body").loadingModal("destroy");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=(0,d.Kh)([]);(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)l.push(e.datas[n]);s.isLoading=!1}));var s=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("inboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0},{label:a.appContext.config.globalProperties.$t("inboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.stock"),field:"庫存",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.現有庫存+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.loc"),field:"儲位",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}},{label:a.appContext.config.globalProperties.$t("basicInfoLang.month"),field:"月請購",width:"10ch",sortable:!0},{label:a.appContext.config.globalProperties.$t("inboundpageLang.safe"),field:"安全庫存",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.安全庫存+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("basicInfoLang.price"),field:"單價",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.單價+"&nbsp;<small>"+e.幣別+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.days"),field:"呆滯天數",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="days'+t+'" name="days'+t+'" value="'+e.呆滯天數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.呆滯天數+"</div>"}}],rows:(0,d.EW)((function(){return l.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return s.rows.length})),sortable:{order:"料號",sort:"asc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:s,OutputExcelClick:i}}});var no=n(4483),oo={insert:"head",singleton:!1};ft()(no.A,oo);no.A.locals;const ao=(0,y.A)(to,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Mn,[(0,d.Lk)("div",On,[(0,d.Lk)("div",Nn,[(0,d.Lk)("label",jn,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Bn,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Dn),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Fn,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("inboundpageLang.download"),onClick:t[1]||(t[1]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill"},null,-1)]),8,Un)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1})},{料號:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",qn,(0,d.v_)(t.料號),1)]})),月請購:(0,d.k6)((function(t){var n=t.row;t.key;return["是"==n.月請購?((0,d.uX)(),(0,d.CE)("span",Kn,(0,d.v_)(e.$t("basicInfoLang.yes")),1)):((0,d.uX)(),(0,d.CE)("span",Gn,(0,d.v_)(e.$t("basicInfoLang.no")),1))]})),_:1},8,["is-loading","messages","columns","rows","total","page-options","sortable"])],64)}],["__scopeId","data-v-36fd5b5a"]]);var ro={class:"row justify-content-between"},io={class:"row col col-auto"},lo={class:"col col-auto"},so={for:"pnInput",class:"col-form-label"},co={class:"col col-6 p-0 m-0"},uo=["placeholder"],po={class:"col col-auto"},go=["value"],ho={key:0},fo={key:1};var bo=n(4692);function mo(e){return mo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mo(e)}function vo(){vo=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==mo(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(mo(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function yo(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function wo(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){yo(r,o,a,i,l,"next",e)}function l(e){yo(r,o,a,i,l,"throw",e)}i(void 0)}))}}const xo=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Xn(),t=e.mats,n=e.getMats;(0,S.KC)(wo(vo().mark((function e(){return vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=function(){var e=wo(vo().mark((function e(){var t,n,o,r,i;return vo().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return bo("body").loadingModal({text:"Loading...",animation:"circle"}),t=new(fe().Workbook),n=t.addWorksheet(a.appContext.config.globalProperties.$t("inboundpageLang.stockmonth")),o=(new Date).toISOString().slice(0,10),n.addRow([a.appContext.config.globalProperties.$t("inboundpageLang.isn"),a.appContext.config.globalProperties.$t("inboundpageLang.pName"),a.appContext.config.globalProperties.$t("inboundpageLang.format"),a.appContext.config.globalProperties.$t("inboundpageLang.nowstock"),a.appContext.config.globalProperties.$t("inboundpageLang.monthuse"),a.appContext.config.globalProperties.$t("inboundpageLang.stockmonth"),a.appContext.config.globalProperties.$t("basicInfoLang.price"),a.appContext.config.globalProperties.$t("basicInfoLang.money"),a.appContext.config.globalProperties.$t("basicInfoLang.month")]),l.forEach((function(e){n.addRow([e.料號,e.品名,e.規格,"".concat(e.現有庫存," ").concat(e.單位),e.月使用量,e.庫存使用月數,e.單價,e.幣別,"是"===e.月請購?a.appContext.config.globalProperties.$t("basicInfoLang.yes"):a.appContext.config.globalProperties.$t("basicInfoLang.no")])})),e.next=8,t.xlsx.writeBuffer();case 8:r=e.sent,i=new Blob([r],{type:"application/octet-stream"}),me().saveAs(i,"".concat(a.appContext.config.globalProperties.$t("inboundpageLang.stockmonth"),"_").concat(o,".xlsx")),bo("body").loadingModal("hide"),bo("body").loadingModal("destroy");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=(0,d.Kh)([]);(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)l.push(e.datas[n]);s.isLoading=!1}));var s=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("inboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="isn'+t+'" name="isn'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.nowstock"),field:"現有庫存",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="stock'+t+'" name="stock'+t+'" value="'+e.現有庫存+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.現有庫存+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.monthuse"),field:"月使用量",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="monthuse'+t+'" name="monthuse'+t+'" value="'+e.月使用量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.月使用量+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("inboundpageLang.stockmonth"),field:"庫存使用月數",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="monthstock'+t+'" name="monthstock'+t+'" value="'+e.庫存使用月數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.庫存使用月數+"</div>"}},{label:a.appContext.config.globalProperties.$t("basicInfoLang.price"),field:"單價",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="price'+t+'" name="price'+t+'" value="'+e.單價+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.單價+"</div>"}},{label:a.appContext.config.globalProperties.$t("basicInfoLang.money"),field:"幣別",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="money'+t+'" name="money'+t+'" value="'+e.幣別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.幣別+"</div>"}},{label:a.appContext.config.globalProperties.$t("basicInfoLang.month"),field:"月請購",width:"10ch",sortable:!0}],rows:(0,d.EW)((function(){return l.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return s.rows.length})),sortable:{order:"月使用量",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:s,updateCheckedRows:function(e){console.log(e)},OutputExcelClick:i}}});var ko=n(2752),Lo={insert:"head",singleton:!1};ft()(ko.A,Lo);ko.A.locals;const Co=(0,y.A)(xo,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",ro,[(0,d.Lk)("div",io,[(0,d.Lk)("div",lo,[(0,d.Lk)("label",so,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",co,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,uo),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",po,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("inboundpageLang.download"),onClick:t[1]||(t[1]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill"},null,-1)]),8,go)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{月請購:(0,d.k6)((function(t){var n=t.row;t.key;return["是"==n.月請購?((0,d.uX)(),(0,d.CE)("span",ho,(0,d.v_)(e.$t("basicInfoLang.yes")),1)):((0,d.uX)(),(0,d.CE)("span",fo,(0,d.v_)(e.$t("basicInfoLang.no")),1))]})),_:1},8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-844f11fa"]]);var _o={class:"card"},Po={class:"card-header"},So={class:"card-body"},Eo={class:"row justify-content-between"},Ao={class:"row col col-auto"},Io={class:"col col-auto"},$o={for:"sxbInput",class:"col-form-label"},Ro={class:"col col-auto p-0 m-0"},To=["placeholder"],Mo={key:0,class:"invalid-feedback d-block",role:"alert"},Oo={class:"text-nowrap CustomScrollbar",style:{"overflow-x":"auto",width:"100%"}},No=["onClick"],jo=["onClick","name"],Bo={class:"col col-auto align-items-center m-0 p-0"},Do=["onClick"],Fo=["onClick"],Uo={class:"modal fade",id:"detailTable",tabindex:"-1","aria-labelledby":"detailTable","aria-hidden":"true"},qo={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},Ko={class:"modal-content"},Go={class:"modal-header justify-content-center"},Jo={class:"col col-auto modal-title m-0 p-0 fs-4"},Qo={class:"modal-body"},zo={class:"row justify-content-between"},Ho={class:"row col col-auto"},Xo={class:"col col-auto"},Wo={for:"pnInput",class:"col-form-label"},Yo={class:"col col-auto p-0 m-0"},Vo=["placeholder"],Zo={class:"col col-auto align-items-center m-0 p-0"},ea={class:"text-nowrap CustomScrollbar",style:{"overflow-x":"auto",width:"100%"}},ta={key:0,class:"col col-auto p-0 m-0"},na=["onUpdate:modelValue","id","name"],oa={id:"noneSelected",value:"",selected:""},aa=["id","value"],ra={key:1},ia={class:"m-0 p-0",style:{color:"red"}},la={key:2},sa={class:"text-nowrap CustomScrollbar",style:{"overflow-x":"auto",width:"100%"}},ca={key:0,class:"modal-footer justify-content-center"};function ua(e){return ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ua(e)}function pa(){pa=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ua(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ua(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function da(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function ga(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){da(r,o,a,i,l,"next",e)}function l(e){da(r,o,a,i,l,"throw",e)}i(void 0)}))}}function ha(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n=ga(pa().mark((function n(){var o,a;return pa().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,n.prev=4,n.next=7,yt.A.post("/api/month/getTransit",{DB:o.data});case 7:return a=n.sent,e.value=JSON.stringify(a.data),n.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return n.prev=12,n.t0=n.catch(4),console.log(n.t0),n.abrupt("return",n.t0);case 16:case"end":return n.stop()}}),n,null,[[4,12]])})));return function(){return n.apply(this,arguments)}}()),o=function(){var e=ga(pa().mark((function e(n,o,a){var r,i;return pa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return i=e.sent,e.prev=7,e.next=10,yt.A.post("/api/month/updateTransit",{DB:r.data,username:i.data,isn:JSON.stringify(n),qty:JSON.stringify(o),descr:JSON.stringify(a)});case 10:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 14:return e.prev=14,e.t0=e.catch(7),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,n,o){return e.apply(this,arguments)}}();return{mats_inTransit:e,getTransit:n,updateInTransit:o}}function fa(e){return fa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fa(e)}function ba(){ba=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==fa(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(fa(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function ma(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function va(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){ma(r,o,a,i,l,"next",e)}function l(e){ma(r,o,a,i,l,"throw",e)}i(void 0)}))}}function ya(e){return ya="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ya(e)}function wa(){wa=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ya(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ya(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function xa(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function ka(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){xa(r,o,a,i,l,"next",e)}function l(e){xa(r,o,a,i,l,"throw",e)}i(void 0)}))}}function La(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),a=((0,b.rd)(),function(){var t=ka(wa().mark((function t(o){var a,r;return wa().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return a=t.sent,t.prev=4,t.next=7,yt.A.post("/api/validateISN",{DB:a.data,isnArray:JSON.stringify(o)});case 7:return r=t.sent,e.value=JSON.stringify(r.data),t.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return t.prev=12,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}()),r=function(){var e=ka(wa().mark((function e(t){var a,r;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return a=e.sent,e.prev=4,e.next=7,yt.A.post("/api/validateISN",{DB:a.data,isnArray:JSON.stringify(t)});case 7:return r=e.sent,o.value=JSON.stringify(r.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=ka(wa().mark((function e(){var o,a;return wa().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/getLocs",{DB:o.data});case 7:return a=e.sent,t.value=JSON.stringify(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}();return{queryResult:e,manualResult:o,locations:t,validateISN:a,validateISN_manual:r,getLocs:i}}function Ca(e){return Ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ca(e)}function _a(){_a=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Ca(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ca(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Pa(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Sa(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Pa(r,o,a,i,l,"next",e)}function l(e){Pa(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Ea(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),a=(0,d.Kh)([]),r=((0,b.rd)(),function(){var e=Sa(_a().mark((function e(){var n;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getCurrentUser");case 2:n=e.sent,t.value=n.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),i=function(){var e=Sa(_a().mark((function e(){var t;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getDBList");case 2:t=e.sent,Object.assign(a,t.data.data),a.shift();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var t=Sa(_a().mark((function t(){var o,a,r;return _a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,t.next=6,yt.A.post("/getCurrentUser");case 6:return a=t.sent,t.prev=7,t.next=10,yt.A.post("/api/member/getUsers",{DB:o.data,CurrentUser:a});case 10:return r=t.sent,e.value=JSON.stringify(r.data),t.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return t.prev=15,t.t0=t.catch(7),console.log(t.t0),t.abrupt("return",t.t0);case 19:case"end":return t.stop()}}),t,null,[[7,15]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var e=Sa(_a().mark((function e(){var t,a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return t=e.sent,e.prev=4,e.next=7,yt.A.post("/api/member/getStaffs",{DB:t.data});case 7:return a=e.sent,o.value=JSON.stringify(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=Sa(_a().mark((function e(t,o){var a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return a=e.sent,e.prev=4,e.next=7,yt.A.post("/api/member/usernamechange",{DB:a.data,username:t,priority:o});case 7:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){var e=Sa(_a().mark((function e(t,o){var a;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return a=e.sent,e.prev=4,e.next=7,yt.A.post("/api/member/update_available_dblist",{DB:a.data,username:t,list:o});case 7:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Sa(_a().mark((function e(t){var o;return _a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/member/username_del",{DB:o.data,username:t});case 7:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t){return e.apply(this,arguments)}}();return{users:e,staffs:o,current_user:t,db_list:a,getUsers:l,getStaffs:s,getCurrentUser:r,getDBList:i,setPriority:c,setDBList:u,delUser:p}}var Aa=n(4692);function Ia(e){return Ia="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ia(e)}function $a(e){return function(e){if(Array.isArray(e))return Ra(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return Ra(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ra(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ra(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function Ta(){Ta=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Ia(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ia(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Ma(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Oa(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Ma(r,o,a,i,l,"next",e)}function l(e){Ma(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Na=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=function(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=((0,b.rd)(),function(){var t=va(ba().mark((function t(){var o,a,r;return ba().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,t.prev=4,t.next=7,yt.A.post("/api/inbound/ssz",{DB:o.data});case 7:a=t.sent,e.value=JSON.stringify(a.data),t.next=15;break;case 11:for(r in t.prev=11,t.t0=t.catch(4),t.t0.response.data.errors)n.value+=t.t0.response.data.errors[r][0]+"  ";console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}()),a=function(){var e=va(ba().mark((function e(){var o,a,r;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/inbound/ssz_info",{DB:o.data});case 7:a=e.sent,t.value=JSON.stringify(a.data),e.next=15;break;case 11:for(r in e.prev=11,e.t0=e.catch(4),e.t0.response.data.errors)n.value+=e.t0.response.data.errors[r][0]+"  ";console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=va(ba().mark((function e(t,o,a){var r,i,l;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return i=e.sent,e.prev=7,e.next=10,yt.A.post("/api/inbound/claimSSZ",{DB:r.data,username:i.data,ssz:JSON.stringify(t),newStock:JSON.stringify(o),inboundRecords:JSON.stringify(a)});case 10:return l=e.sent,console.log(l.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n,o){return e.apply(this,arguments)}}(),i=function(){var e=va(ba().mark((function e(t,o,a,r,i,l,s,c,u,p,d,g,h){var f;return ba().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return f=e.sent,e.prev=4,e.next=7,yt.A.post("/api/basic/update_pn_fromSSZ",{DB:f.data,pn:JSON.stringify(t),name:JSON.stringify(o),spec:JSON.stringify(a),price:JSON.stringify(r),unit:JSON.stringify(i),currency:JSON.stringify(l),mpq:JSON.stringify(s),moq:JSON.stringify(c),lt:JSON.stringify(u),gradea:JSON.stringify(p),monthly:JSON.stringify(d),dispatcher:JSON.stringify(g),safe:JSON.stringify(h)});case 7:return e.sent,e.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n,o,a,r,i,l,s,c,u,p,d,g){return e.apply(this,arguments)}}();return{mats_SSZ:e,mats_SSZInfo:t,getSSZ:o,getSSZ_info:a,claim_a_mat:r,updateBasicInfo:i}}(),t=e.mats_SSZInfo,n=e.getSSZ_info,o=e.claim_a_mat,a=e.updateBasicInfo,r=ha(),i=r.mats_inTransit,l=r.getTransit,s=r.updateInTransit,c=Xn(),u=c.mats,p=c.getExistingStock,g=La(),h=g.locations,f=(g.validateISN,g.getLocs),m=Ea(),v=m.users,y=m.getUsers;m.current_user,m.getCurrentUser;(0,S.KC)(Oa(Ta().mark((function e(){var t,o;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Date.now(),M.isLoading=!0,O.isLoading=!0,e.next=5,f();case 5:return e.next=7,y();case 7:return e.next=9,n();case 9:o=Date.now()-t,console.log("Total time taken for first query : "+o+" milliseconds");case 11:case"end":return e.stop()}}),e)}))));var w=(0,d.KR)(""),x=(0,d.KR)(""),k=(0,d.KR)(""),L=(0,d.KR)(!1),C=(0,d.KR)(!1),_=(0,d.Kh)([]),P=(0,S.nI)(),E=document.getElementsByTagName("HTML")[0].getAttribute("lang");P.appContext.config.globalProperties.$lang.setLocale(E);var A=(0,d.Kh)([]),I=(0,d.Kh)([]),$=function(){var e=Oa(Ta().mark((function e(){return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Oa(Ta().mark((function e(t){var n,o,a,r;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Aa("body").loadingModal("destroy"),n=new(fe().Workbook),(o=n.addWorksheet(P.appContext.config.globalProperties.$t("inboundpageLang.stock"))).addRow([P.appContext.config.globalProperties.$t("inboundpageLang.isn"),P.appContext.config.globalProperties.$t("inboundpageLang.pName"),P.appContext.config.globalProperties.$t("inboundpageLang.format"),P.appContext.config.globalProperties.$t("inboundpageLang.stock"),P.appContext.config.globalProperties.$t("inboundpageLang.loc"),P.appContext.config.globalProperties.$t("basicInfoLang.month"),P.appContext.config.globalProperties.$t("inboundpageLang.safe"),P.appContext.config.globalProperties.$t("basicInfoLang.price"),P.appContext.config.globalProperties.$t("inboundpageLang.money"),P.appContext.config.globalProperties.$t("inboundpageLang.days")]),A.forEach((function(e){o.addRow([e.料號,e.品名,e.規格,"".concat(e.現有庫存," ").concat(e.單位),e.儲位,"是"===e.月請購?P.appContext.config.globalProperties.$t("basicInfoLang.yes"):P.appContext.config.globalProperties.$t("basicInfoLang.no"),e.安全庫存,e.單價,e.幣別,e.呆滯天數])})),e.next=7,n.xlsx.writeBuffer();case 7:a=e.sent,r=new Blob([a],{type:"application/octet-stream"}),me().saveAs(r,"".concat(P.appContext.config.globalProperties.$t("inboundpageLang.stock"),"_").concat(today,".xlsx"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Oa(Ta().mark((function e(){var t,r,c,d,g,h,f,b,m,v,y,w,x,L,C,_,S,E,A,R,T,M,O,N,j,B,D,F,U,q;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:if(0!==(t=I.filter((function(e){return""!==e.新儲位&&e.FlowNumber===k.value}))).length){e.next=8;break}return notyf.open({type:"warning",message:P.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Aa("body").loadingModal("hide"),Aa("body").loadingModal("destroy"),e.abrupt("return");case 8:return r=t.map((function(e){return e.MatShort})),c=t.map((function(e){return"N/A"})),d=t.map((function(e){return e.Spec})),g=t.map((function(e){return"9999.99"})),h=t.map((function(e){return"USD"})),f=t.map((function(e){return"N/A"})),b=t.map((function(e){return"9999"})),m=t.map((function(e){return"9999"})),v=t.map((function(e){return"9999.99"})),y=t.map((function(e){return"否"})),w=t.map((function(e){return"是"})),x=t.map((function(e){return"N/A"})),L=t.map((function(e){return"null"})),C="",e.next=24,a(r,c,d,g,f,h,b,m,v,y,w,x,L).then((function(e){"success"===e?C="success":(result="failed",console.log(e))}));case 24:return"success"===C?notyf.open({type:"success",message:P.appContext.config.globalProperties.$t("basicInfoLang.matsInfo")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:P.appContext.config.globalProperties.$t("basicInfoLang.matsInfo")+" "+P.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),_=Date.now(),S=t.map((function(e){return[e.MatShort,e.relQty,e.新儲位]})),E=t.map((function(e){return[e.MatShort,e.relQty,e.新儲位,"入庫("+e.FlowNumber+")"]})),A=[],R=[],S.forEach((function(e){A.push(e[0]),R.push(e[2])})),T="",e.next=34,p(A,R).then((function(e){"success"===e?T="success":(T="failed",console.log(e))}));case 34:if("success"!==T){e.next=44;break}M=Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==(n=JSON.parse(u.value).data.find((function(e){return e.料號===S[t][0].trim()&&e.儲位===S[t][2].trim()})))&&(S[t][1]=(parseInt(S[t][1])+parseInt(n.現有庫存)).toString());case 2:case"end":return e.stop()}}),e)})),O=0;case 37:if(!(O<S.length)){e.next=42;break}return e.delegateYield(M(O),"t0",39);case 39:O++,e.next=37;break;case 42:e.next=49;break;case 44:return Aa("body").loadingModal("hide"),Aa("body").loadingModal("destroy"),console.log("Failed to get existing stock"),notyf.open({type:"error",message:P.appContext.config.globalProperties.$t("inboundpageLang.nowstock_failed"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.abrupt("return");case 49:return N=Date.now()-_,console.log("Total time taken : "+N+" milliseconds"),j="",e.next=54,o(k.value,S,E).then((function(e){"success"===e?(j="success",n()):(j="failed",console.log(e))}));case 54:if("success"!==j){e.next=58;break}notyf.open({type:"success",message:P.appContext.config.globalProperties.$t("inboundpageLang.page_name")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=62;break;case 58:return notyf.open({type:"error",message:P.appContext.config.globalProperties.$t("inboundpageLang.page_name")+" "+P.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Aa("body").loadingModal("hide"),Aa("body").loadingModal("destroy"),e.abrupt("return");case 62:return e.next=64,l();case 64:return B=[],D=[],F=[],U="",t.forEach((function(e){var t=JSON.parse(i.value).data.find((function(t){return t.料號===e.MatShort}));void 0!==t&&(B.push(t.料號),parseFloat(t.請購數量)-parseFloat(e.relQty)<0?D.push("0"):D.push((parseFloat(t.請購數量)-parseFloat(e.relQty)).toString()),F.push("入庫("+e.FlowNumber+")"))})),e.next=71,s(B,D,F).then((function(e){"success"===e?(U="success",l()):(U="failed",console.log(e))}));case 71:return"success"===U?notyf.open({type:"success",message:P.appContext.config.globalProperties.$t("inboundpageLang.transit")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+P.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:P.appContext.config.globalProperties.$t("inboundpageLang.transit")+" "+P.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),q=k.value,k.value="",e.next=76,n();case 76:k.value=q,Aa("body").loadingModal("hide"),Aa("body").loadingModal("destroy");case 79:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(k,Oa(Ta().mark((function e(){var t;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:""!==k.value&&(C.value=!0,I.find((function(e){return e.FlowNumber===k.value})).status.toLowerCase().includes("reject")&&(C.value=!1),t=I.filter((function(e){return e.FlowNumber===k.value})),0===t.filter((function(e){return""===e.ClaimedBy||null===e.ClaimedBy})).length&&(C.value=!1));case 1:case"end":return e.stop()}}),e)})))),(0,S.wB)(t,Oa(Ta().mark((function e(){var n,o,a,r,i;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Date.now(),e.next=3,$();case 3:A.splice(0),I.splice(0),_.splice(0),o=JSON.parse(t.value),JSON.parse(h.value).data.forEach((function(e){_.push(e.儲存位置)})),Object.assign(A,$a(new Map(o.data.map((function(e){return[e.FlowNumber,e]}))).values())),a=Ta().mark((function e(t){var n;return Ta().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.data[t].新儲位="",o.data[t].姓名="N/A",void 0!==(n=JSON.parse(v.value).datas.find((function(e){return e.工號===o.data[t].ClaimedStaff})))&&(o.data[t].姓名=n.姓名),I.push(o.data[t]);case 5:case"end":return e.stop()}}),e)})),r=0;case 11:if(!(r<o.data.length)){e.next=16;break}return e.delegateYield(a(r),"t0",13);case 13:r++,e.next=11;break;case 16:Aa("body").loadingModal("hide"),Aa("body").loadingModal("destroy"),M.isLoading=!1,O.isLoading=!1,i=Date.now()-n,console.log("Total time taken for data processed : "+i+" milliseconds");case 22:case"end":return e.stop()}}),e)}))));var M=(0,d.Kh)({isLoading:!0,columns:[{label:P.appContext.config.globalProperties.$t("inboundpageLang.FlowNumber"),field:"FlowNumber",width:"10ch",sortable:!0},{label:P.appContext.config.globalProperties.$t("monthlyPRpageLang.status"),field:"status",width:"6ch",sortable:!0},{label:P.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),field:"Applicant",width:"8ch",sortable:!0,display:function(e,t){return null!==e.Applicant&&void 0!==e.Applicant||(e.Applicant="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.Applicant+"</div>"}},{label:P.appContext.config.globalProperties.$t("inboundpageLang.updatetime"),field:"received_time",width:"13ch",sortable:!0,display:function(e,t){return null!==e.received_time&&void 0!==e.received_time||(e.received_time="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.received_time+"</div>"}}],rows:(0,d.EW)((function(){return A.filter((function(e){return e.FlowNumber.toLowerCase().includes(w.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return M.rows.length})),sortable:{order:"received_time",sort:"desc"},messages:{pagingInfo:P.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+P.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+P.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+P.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:P.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:P.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:P.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]}),O=(0,d.Kh)({isLoading:!0,columns:[{label:P.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"MatShort",width:"13ch",sortable:!0,isKey:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">'+e.MatShort+"</div>"}},{label:P.appContext.config.globalProperties.$t("inboundpageLang.format"),field:"Spec",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.Spec+"</div>"}},{label:P.appContext.config.globalProperties.$t("inboundpageLang.amount"),field:"relQty",width:"12ch",sortable:!0},{label:P.appContext.config.globalProperties.$t("inboundpageLang.newloc"),field:"新儲位",width:"13ch",sortable:!1},{label:P.appContext.config.globalProperties.$t("inboundpageLang.mark"),field:"SSZMemo",width:"11ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.SSZMemo+"</div>"}},{label:P.appContext.config.globalProperties.$t("inboundpageLang.inbound_staff"),field:"ClaimedStaff",width:"15ch",sortable:!0,display:function(e,t){return null===e.ClaimedStaff||void 0===e.ClaimedStaff||""===e.ClaimedStaff?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">N/A</div>':'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.ClaimedStaff+" ("+e.姓名+")</div>"}},{label:P.appContext.config.globalProperties.$t("inboundpageLang.inboundtime"),field:"claimed_time",width:"13ch",sortable:!0,display:function(e,t){return null!==e.claimed_time&&void 0!==e.claimed_time&&""!==e.claimed_time||(e.claimed_time="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.claimed_time+"</div>"}}],rows:(0,d.EW)((function(){return I.filter((function(e){return e.FlowNumber===k.value&&(e.MatShort.toLowerCase().includes(x.value.toLowerCase())||e.Spec.toLowerCase().includes(x.value.toLowerCase()))}))})),totalRecordCount:(0,d.EW)((function(){return O.rows.length})),sortable:{order:"MatShort",sort:"asc"},messages:{pagingInfo:P.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+P.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+P.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+P.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:P.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:P.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:P.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:w,searchTerm2:x,table:M,table2:O,locsArray:_,modalTitle:k,showFooter:C,isInvalid_DB:L,openSSZDetails:function(e){k.value=e,x.value=""},OutputExcelClick:R,ssz_claim:T}}});var ja=n(8883),Ba={insert:"head",singleton:!1};ft()(ja.A,Ba);ja.A.locals;const Da=(0,y.A)(Na,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",_o,[(0,d.Lk)("div",Po,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("inboundpageLang.click_the_flow_number")),1)]),(0,d.Lk)("div",So,[(0,d.Lk)("div",Eo,[(0,d.Lk)("div",Ao,[(0,d.Lk)("div",Io,[(0,d.Lk)("label",$o,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Ro,[(0,d.bo)((0,d.Lk)("input",{id:"sxbInput",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterSSZ"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,To),[[d.Jo,e.searchTerm]])])])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Mo,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-loading":e.table.isLoading,"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-fixed-first-column":!1},{FlowNumber:(0,d.k6)((function(t){var n=t.row,o=t.key;return[(0,d.Lk)("div",Oo,[(0,d.Lk)("a",{onClick:function(t){return e.openSSZDetails(n.FlowNumber)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"m-0 p-0"},(0,d.v_)(n.FlowNumber),9,No),(0,d.Lk)("button",{onClick:function(t){return e.openSSZDetails(n.FlowNumber)},type:"button","data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"btn btn-outline-info btn-sm mx-1 my-0 px-1 py-0",style:{"border-radius":"20px"},name:"sxb"+o},"More",8,jo)])]})),status:(0,d.k6)((function(t){var n=t.row;t.key;return[(0,d.Lk)("div",Bo,[n.status.toLowerCase().includes("reject")?((0,d.uX)(),(0,d.CE)("a",{key:0,onClick:function(t){return e.openSSZDetails(n.FlowNumber)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"m-0 p-0",style:{color:"red"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_cancel")),9,Do)):((0,d.uX)(),(0,d.CE)("a",{key:1,class:"m-0 p-0",onClick:function(t){return e.openSSZDetails(n.FlowNumber)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",style:{color:"#2bb91b"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_complete")),9,Fo))])]})),_:1},8,["is-loading","messages","columns","rows","total","page-options","sortable"])])]),(0,d.Lk)("div",Uo,[(0,d.Lk)("div",qo,[(0,d.Lk)("div",Ko,[(0,d.Lk)("div",Go,[(0,d.Lk)("h1",Jo,(0,d.v_)(e.modalTitle),1),t[5]||(t[5]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",Qo,[(0,d.Lk)("div",zo,[(0,d.Lk)("div",Ho,[(0,d.Lk)("div",Xo,[(0,d.Lk)("label",Wo,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Yo,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterisn_or_spec"),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm2=t})},null,8,Vo),[[d.Jo,e.searchTerm2]])])])]),t[7]||(t[7]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{id:"searchTable2","is-loading":e.table2.isLoading,"is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table2.messages,columns:e.table2.columns,rows:e.table2.rows,total:e.table2.totalRecordCount,"page-options":e.table2.pageOptions,sortable:e.table2.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table2.isLoading=!1})},{relQty:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Zo,[(0,d.Lk)("div",ea,(0,d.v_)(parseInt(t.relQty).toLocaleString("en-US")),1)])]})),新儲位:(0,d.k6)((function(n){var o=n.row;n.key;return[o.status.toLowerCase().includes("reject")||null!=o.ClaimedStaff?o.status.toLowerCase().includes("reject")?((0,d.uX)(),(0,d.CE)("div",ra,[(0,d.Lk)("span",ia,(0,d.v_)(e.$t("monthlyPRpageLang.review_cancel")),1)])):((0,d.uX)(),(0,d.CE)("div",la,[(0,d.Lk)("div",sa,[(0,d.eW)((0,d.v_)(o.ClaimedBy)+" ",1),t[6]||(t[6]=(0,d.Lk)("br",null,null,-1)),(0,d.eW)(" "+(0,d.v_)("("+o.initial_loc+")"),1)])])):((0,d.uX)(),(0,d.CE)("div",ta,[(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.新儲位=e},style:{width:"11ch"},class:"col col-auto form-select form-select-lg ps-2 p-0 m-0",id:"newloc_"+o.MatShort,name:"newloc_"+o.MatShort},[(0,d.Lk)("option",oa,(0,d.v_)(e.$t("inboundpageLang.choose")),1),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.locsArray,(function(e){return(0,d.uX)(),(0,d.CE)("option",{id:e,value:e},(0,d.v_)(e),9,aa)})),256))],8,na),[[d.u1,o.新儲位]])]))]})),_:1},8,["is-loading","messages","columns","rows","total","page-options","sortable"])]),e.showFooter?((0,d.uX)(),(0,d.CE)("div",ca,[(0,d.Lk)("button",{onClick:t[3]||(t[3]=function(){return e.ssz_claim&&e.ssz_claim.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-info"},[t[8]||(t[8]=(0,d.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-inboxes-fill align-middle mb-1",viewBox:"0 0 16 16"},[(0,d.Lk)("path",{d:"M4.98 1a.5.5 0 0 0-.39.188L1.54 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h4.46l-3.05-3.812A.5.5 0 0 0 11.02 1H4.98zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .106-.374L3.81.563zM.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393z"})],-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("inboundpageLang.page_name")),1)])])):(0,d.Q3)("",!0)])])])],64)}],["__scopeId","data-v-885241c4"]]);var Fa={class:"card"},Ua={class:"card-header"},qa={class:"card-body"},Ka={class:"row justify-content-between"},Ga={class:"row col col-auto"},Ja={class:"col col-auto"},Qa={for:"pnInput",class:"col-form-label"},za={class:"col col-6 p-0 m-0"},Ha=["placeholder"],Xa={key:0,class:"invalid-feedback d-block",role:"alert"},Wa={class:"row"},Ya=["onUpdate:modelValue","id","name"],Va={class:"input-group-text text-center p-0 m-0 col col-auto",style:{"border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"}},Za=["onUpdate:modelValue","id","name"],er={id:"noneSelected",value:"",disabled:"",selected:""},tr=["id","value"],nr={class:"row justify-content-center"},or={class:"col col-auto"};var ar=n(4692);function rr(e){return rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rr(e)}function ir(){ir=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==rr(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(rr(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function lr(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function sr(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){lr(r,o,a,i,l,"next",e)}function l(e){lr(r,o,a,i,l,"throw",e)}i(void 0)}))}}const cr=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Xn(),t=e.mats,n=e.errors,o=e.getMats,a=e.locTransfer,r=La(),i=(r.queryResult,r.locations),l=(r.validateISN,r.getLocs),s=(0,d.KR)(!1),c=(0,d.KR)("");(0,S.KC)(sr(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.isLoading=!0,e.next=3,l();case 3:return e.next=5,o();case 5:case"end":return e.stop()}}),e)}))));var u=(0,d.KR)(""),p=(0,S.nI)(),g=document.getElementsByTagName("HTML")[0].getAttribute("lang");p.appContext.config.globalProperties.$lang.setLocale(g);var h=(0,d.Kh)([]),f=[],b=(0,d.Kh)([]),m=function(){var e=sr(ir().mark((function e(){return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ar("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var v=function(){var e=sr(ir().mark((function e(){var t,r,i,l,u,d,g,b,v,y,w,x,k,L,C,_,P;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:if(s.value=!1,t=!1,!(f.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:p.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),ar("body").loadingModal("hide"),ar("body").loadingModal("destroy"),e.abrupt("return");case 10:r=0;case 11:if(!(r<f.length)){e.next=45;break}if(i=f[r],l=i.料號,u=i.儲位,d=i.新儲位,g=i.調撥數量,""!==d){e.next=22;break}return t=!0,s.value=!0,c.value=l+" "+p.appContext.config.globalProperties.$t("inboundpageLang.newloc_empty"),e.abrupt("break",45);case 22:if(0!==parseInt(g)){e.next=27;break}return t=!0,s.value=!0,c.value=l+" "+p.appContext.config.globalProperties.$t("inboundpageLang.qty_empty"),e.abrupt("break",45);case 27:if(!(parseInt(g)>parseInt(i.現有庫存))){e.next=32;break}return t=!0,s.value=!0,c.value=l+" "+p.appContext.config.globalProperties.$t("inboundpageLang.qty_exceed"),e.abrupt("break",45);case 32:if(!(parseInt(g)>0&&""===d)){e.next=37;break}return t=!0,s.value=!0,c.value=l+" "+p.appContext.config.globalProperties.$t("inboundpageLang.newloc_empty"),e.abrupt("break",45);case 37:if(!(parseInt(g)>0&&d===u)){e.next=42;break}return t=!0,s.value=!0,c.value=l+" "+p.appContext.config.globalProperties.$t("inboundpageLang.newloc_same"),e.abrupt("break",45);case 42:r++,e.next=11;break;case 45:if(!t){e.next=51;break}return s.value=!0,notyf.open({type:"error",message:p.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),ar("body").loadingModal("hide"),ar("body").loadingModal("destroy"),e.abrupt("return");case 51:for(b=[],v=[],y=[],w=[],x=0;x<f.length;x++)b.push(f[x].料號),v.push(f[x].儲位),y.push(f[x].新儲位),w.push(f[x].調撥數量);return k=Date.now(),e.next=59,a(b,v,y,w);case 59:if(L=e.sent,C=Date.now()-k,console.log("Total time taken : "+C+" milliseconds"),ar("body").loadingModal("hide"),ar("body").loadingModal("destroy"),"success"!==L){e.next=72;break}return notyf.open({type:"success",message:p.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+p.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),h.splice(0),f.splice(0),e.next=70,o();case 70:e.next=83;break;case 72:if(!n.value.hasOwnProperty("insufficient_pn")){e.next=82;break}for(s.value=!0,_="",P=0;P<n.value.insufficient_pn.length;P++)_+=n.value.insufficient_pn[P]+"("+n.value.insufficient_oldLoc[P]+"), ";return _=_.slice(0,-2),c.value=_+" "+p.appContext.config.globalProperties.$t("inboundpageLang.altered_by_other_recently"),h.splice(0),f.splice(0),e.next=82,o();case 82:notyf.open({type:"error",message:p.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 83:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(t,sr(ir().mark((function e(){var n,o;return ir().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:for(n=JSON.parse(t.value),JSON.parse(i.value).data.forEach((function(e){b.push(e.儲存位置)})),o=0;o<n.datas.length;o++)n.datas[o].id=o,n.datas[o].新儲位="",n.datas[o].調撥數量=0,h.push(n.datas[o]);ar("body").loadingModal("hide"),ar("body").loadingModal("destroy"),y.isLoading=!1;case 8:case"end":return e.stop()}}),e)}))));var y=(0,d.Kh)({isLoading:!0,columns:[{label:p.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:p.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:p.appContext.config.globalProperties.$t("inboundpageLang.nowstock"),field:"現有庫存",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.現有庫存+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:p.appContext.config.globalProperties.$t("inboundpageLang.loc"),field:"儲位",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}},{label:p.appContext.config.globalProperties.$t("inboundpageLang.transferamount"),field:"調撥數量",width:"10ch",sortable:!0},{label:p.appContext.config.globalProperties.$t("inboundpageLang.newloc"),field:"新儲位",width:"13ch",sortable:!1},{label:p.appContext.config.globalProperties.$t("inboundpageLang.updatetime"),field:"最後更新時間",width:"13ch",sortable:!0,display:function(e,t){return null!==e.最後更新時間&&void 0!==e.最後更新時間||(e.最後更新時間="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.最後更新時間+"</div>"}}],rows:(0,d.EW)((function(){return h.filter((function(e){return e.料號.toLowerCase().includes(u.value.toLowerCase())||e.儲位.includes(u.value)}))})),totalRecordCount:(0,d.EW)((function(){return y.rows.length})),sortable:{order:"最後更新時間",sort:"desc"},messages:{pagingInfo:p.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+p.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+p.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+p.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:p.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:p.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:p.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:u,table:y,isInvalid_DB:s,validation_err_msg:c,updateCheckedRows:function(e){f=e},onSendToDBClick:v,locsArray:b,CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()}}}});var ur=n(1854),pr={insert:"head",singleton:!1};ft()(ur.A,pr);ur.A.locals;const dr=(0,y.A)(cr,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",Fa,[(0,d.Lk)("div",Ua,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("inboundpageLang.locationchange")),1)]),(0,d.Lk)("div",qa,[(0,d.Lk)("div",Ka,[(0,d.Lk)("div",Ga,[(0,d.Lk)("div",Ja,[(0,d.Lk)("label",Qa,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",za,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterisn_or_loc"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Ha),[[d.Jo,e.searchTerm]])])])]),t[6]||(t[6]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Xa,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[3]||(t[3]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{調撥數量:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.Lk)("div",Wa,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":function(e){return o.調撥數量=e},onInput:t[1]||(t[1]=function(t){e.CheckCurrentRow(t)}),class:(0,d.C4)([{"is-invalid":parseInt(o.調撥數量)>parseInt(o.現有庫存)||0==parseInt(o.調撥數量)&&""!=o.新儲位},"form-control text-center p-0 m-0 col col-auto"]),style:{width:"7ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",min:"0",id:"tqty"+o.id,name:"tqty"+a},null,42,Ya),[[d.Jo,o.調撥數量]]),(0,d.Lk)("span",Va,(0,d.v_)(o.單位),1)])]})),新儲位:(0,d.k6)((function(n){var o=n.row,a=n.key;return[(0,d.bo)((0,d.Lk)("select",{"onUpdate:modelValue":function(e){return o.新儲位=e},onInput:t[2]||(t[2]=function(t){e.CheckCurrentRow(t)}),style:{width:"11ch"},class:(0,d.C4)(["col col-auto form-select form-select-lg ps-2 p-0 m-0",{"is-invalid":parseInt(o.調撥數量)>0&&""==o.新儲位}]),id:"newloc"+o.id,name:"newloc"+a},[(0,d.Lk)("option",er,(0,d.v_)(e.$t("inboundpageLang.choose")),1),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.locsArray,(function(e){return(0,d.uX)(),(0,d.CE)(d.FK,null,[o.儲位!==e?((0,d.uX)(),(0,d.CE)("option",{key:0,id:e,value:e},(0,d.v_)(e),9,tr)):(0,d.Q3)("",!0)],64)})),256))],42,Za),[[d.u1,o.新儲位]])]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading","onReturnCheckedRows"]),t[7]||(t[7]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",nr,[(0,d.Lk)("div",or,[(0,d.Lk)("button",{type:"submit",id:"change",name:"change",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[4]||(t[4]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[5]||(t[5]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("basicInfoLang.change")),1)])])])])])}],["__scopeId","data-v-272e960e"]]);var gr={class:"card"},hr={class:"card-header"},fr={class:"card-body"},br={class:"row justify-content-between"},mr={class:"row col col-auto"},vr={class:"col col-auto"},yr={for:"pnInput",class:"col-form-label"},wr={class:"col col-6 p-0 m-0"},xr=["placeholder"],kr={class:"row col col-auto text-center align-items-center justify-content-between"},Lr={class:"form-check form-check-inline col col-auto m-0"},Cr={class:"form-check-label",for:"inlineRadio1"},_r={class:"form-check form-check-inline col col-auto m-0"},Pr={class:"form-check-label",for:"inlineRadio2"},Sr={class:"form-check form-check-inline col col-auto m-0"},Er={class:"form-check-label",for:"inlineRadio3"},Ar={class:"row justify-content-between"},Ir={class:"col col-auto text-danger fw-bold"};var $r=n(4692);function Rr(e){return Rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rr(e)}function Tr(){Tr=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Rr(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Rr(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Mr(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Or(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Mr(r,o,a,i,l,"next",e)}function l(e){Mr(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Nr=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Xn(),t=e.mats,n=(e.errors,e.getLocTransferRecord),o=La();o.queryResult,o.locations,o.validateISN,o.getLocs,(0,d.KR)(!1),(0,d.KR)("");(0,S.KC)(Or(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.isLoading=!0,e.next=3,n(JSON.stringify("month"),JSON.stringify("none"),JSON.stringify("none"));case 3:case"end":return e.stop()}}),e)}))));var a=(0,d.KR)(""),r=(0,S.nI)(),i=document.getElementsByTagName("HTML")[0].getAttribute("lang");r.appContext.config.globalProperties.$lang.setLocale(i);var l=(0,d.Kh)([]),s=(0,d.KR)("month"),c=function(){var e=Or(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $r("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(s,Or(Tr().mark((function e(){return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:return u.isLoading=!0,e.next=5,n(JSON.stringify(s.value),JSON.stringify("none"),JSON.stringify("none"));case 5:$r("body").loadingModal("hide"),$r("body").loadingModal("destroy"),u.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))),(0,S.wB)(t,Or(Tr().mark((function e(){var n,o;return Tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:for(u.isLoading=!0,l.splice(0),console.log(JSON.parse(t.value)),n=JSON.parse(t.value),o=0;o<n.data.length;o++)n.data[o].id=o,l.push(n.data[o]);$r("body").loadingModal("hide"),$r("body").loadingModal("destroy"),u.isLoading=!1;case 10:case"end":return e.stop()}}),e)}))));var u=(0,d.Kh)({isLoading:!0,columns:[{label:r.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">'+e.料號+"</div>"}},{label:r.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.orig_loc"),field:"調出儲位",width:"13ch",sortable:!0,display:function(e,t){return null!==e.調出儲位&&void 0!==e.調出儲位||(e.調出儲位="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.調出儲位+" <small>( "+e.原調出儲位庫存+" "+e.單位+" )</small></div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.transferamount"),field:"調動數量",width:"10ch",sortable:!0,display:function(e,t){return null!==e.調動數量&&void 0!==e.調動數量||(e.調動數量="N/A"),'<div class="text-nowrap CustomScrollbar row justify-content-between" style="overflow-x: auto;"><span class="col col-auto m-0 p-0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg></span><span class="col col-auto m-0 p-0 fw-bold">'+e.調動數量+" <small>"+e.單位+'</small></span><span class="col col-auto m-0 p-0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg></span></div>'}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.newloc"),field:"接收儲位",width:"13ch",sortable:!0,display:function(e,t){return null!==e.接收儲位&&void 0!==e.接收儲位||(e.接收儲位="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.接收儲位+" <small>( "+e.原接收儲位庫存+" "+e.單位+" )</small></div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.inpeople"),field:"操作人",width:"13ch",sortable:!0,display:function(e,t){return null!==e.操作人&&void 0!==e.操作人||(e.操作人="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.姓名+" ( "+e.操作人+" )</div>"}},{label:r.appContext.config.globalProperties.$t("inboundpageLang.operateTime"),field:"操作時間",width:"13ch",sortable:!0,display:function(e,t){return null!==e.操作時間&&void 0!==e.操作時間||(e.操作時間="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.操作時間+"</div>"}}],rows:(0,d.EW)((function(){return l.filter((function(e){return e.料號.toLowerCase().includes(a.value.toLowerCase())||e.調出儲位.includes(a.value)||e.接收儲位.includes(a.value)}))})),totalRecordCount:(0,d.EW)((function(){return u.rows.length})),sortable:{order:"操作時間",sort:"desc"},messages:{pagingInfo:r.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+r.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+r.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+r.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:r.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:r.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:r.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:a,table:u,picked:s}}});var jr=n(3988),Br={insert:"head",singleton:!1};ft()(jr.A,Br);jr.A.locals;const Dr=(0,y.A)(Nr,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",gr,[(0,d.Lk)("div",hr,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("inboundpageLang.LocationChangeRecord")),1)]),(0,d.Lk)("div",fr,[(0,d.Lk)("div",br,[(0,d.Lk)("div",mr,[(0,d.Lk)("div",vr,[(0,d.Lk)("label",yr,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",wr,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterisn_or_loc"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,xr),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",kr,[(0,d.Lk)("div",Lr,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"month","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.picked=t}),checked:""},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",Cr,(0,d.v_)(e.$t("inboundpageLang.within_a_month")),1)]),(0,d.Lk)("div",_r,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"quarter","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.picked=t})},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",Pr,(0,d.v_)(e.$t("inboundpageLang.within_three_months")),1)]),(0,d.Lk)("div",Sr,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio3",value:"year","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.picked=t})},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",Er,(0,d.v_)(e.$t("inboundpageLang.within_a_year")),1)])])]),t[6]||(t[6]=(0,d.Lk)("div",{class:"w-100",style:{height:"0ch"}},null,-1)),(0,d.Lk)("div",Ar,[t[5]||(t[5]=(0,d.Lk)("span",{class:"col col-auto text-danger fw-bold"},null,-1)),(0,d.Lk)("span",Ir,(0,d.v_)(e.$t("inboundpageLang.stock_within_brackets")),1)]),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[4]||(t[4]=function(t){return e.table.isLoading=!1})},null,8,["messages","columns","rows","total","page-options","sortable","is-loading"])])])}],["__scopeId","data-v-ac64277c"]]);var Fr={class:"row justify-content-between"},Ur={class:"row col col-auto"},qr={class:"col col-auto"},Kr={for:"pnInput",class:"col-form-label"},Gr={class:"col col-auto p-0 m-0"},Jr=["placeholder"],Qr={class:"col col-auto"},zr=["value"];function Hr(e){return Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hr(e)}function Xr(){Xr=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Hr(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Hr(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Wr(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Yr(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Wr(r,o,a,i,l,"next",e)}function l(e){Wr(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Vr(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),a=((0,b.rd)(),function(){var t=Yr(Xr().mark((function t(){var n,a,r,i,l,s,c,u,p;return Xr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return n=t.sent,a=sessionStorage.getItem("pickrecordclient"),r=sessionStorage.getItem("pickrecordproduction"),i=sessionStorage.getItem("pickrecordsend"),l=sessionStorage.getItem("pickrecordisn"),s=sessionStorage.getItem("pickrecordbegin"),c=sessionStorage.getItem("pickrecordend"),t.prev=10,t.next=13,yt.A.post("/api/outbound/pickrecord",{DB:n.data,pickrecordclient:a,pickrecordproduction:r,pickrecordsend:i,pickrecordisn:l,pickrecordbegin:s,pickrecordend:c});case 13:u=t.sent,e.value=JSON.stringify(u.data),t.next=23;break;case 17:for(p in t.prev=17,t.t0=t.catch(10),console.log(t.t0),t.t0.response.data.errors)o.value+=t.t0.response.data.errors[p][0]+"  ";return console.log(o.value),t.abrupt("return",t.t0);case 23:case"end":return t.stop()}}),t,null,[[10,17]])})));return function(){return t.apply(this,arguments)}}()),r=function(){var e=Yr(Xr().mark((function e(){var n,a,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return n=e.sent,e.prev=4,e.next=7,yt.A.post("/api/outbound/pickreason",{DB:n.data});case 7:a=e.sent,t.value=JSON.stringify(a.data),e.next=16;break;case 11:for(r in e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.t0.response.data.errors)o.value+=e.t0.response.data.errors[r][0]+"  ";console.log(o.value);case 16:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Yr(Xr().mark((function e(){var t,a,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return t=e.sent,e.prev=4,e.next=7,yt.A.post("/api/outbound/lines",{DB:t.data});case 7:a=e.sent,n.value=JSON.stringify(a.data),e.next=15;break;case 11:for(r in e.prev=11,e.t0=e.catch(4),console.log(e.t0),e.t0.response.data.errors)o.value+=e.t0.response.data.errors[r][0]+"  ";case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Yr(Xr().mark((function e(t){var n,a,r;return Xr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return n=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return a=e.sent,e.prev=7,e.next=10,yt.A.post("/api/outbound/addNewPicklist",{DB:n.data,username:a.data,AllData:JSON.stringify(t)});case 10:return r=e.sent,console.log(r.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}();return{mats:e,reasons:t,lines:n,getMats:a,getPickReason:r,getLines:i,uploadNewPickList:l}}var Zr=n(4692);function ei(e){return ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ei(e)}function ti(){ti=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ei(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ei(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function ni(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function oi(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){ni(r,o,a,i,l,"next",e)}function l(e){ni(r,o,a,i,l,"throw",e)}i(void 0)}))}}const ai=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Vr(),t=e.mats,n=e.getMats;(0,S.KC)(oi(ti().mark((function e(){return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]),l=function(){var e=oi(ti().mark((function e(){var t,n,o,r,l,s,c,u;return ti().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Zr("body").loadingModal({text:"Loading...",animation:"circle"}),t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),t=r+"_"+o+"_"+n,l=new(fe().Workbook),(s=l.addWorksheet(a.appContext.config.globalProperties.$t("outboundpageLang.pickrecord"))).columns=[{header:a.appContext.config.globalProperties.$t("outboundpageLang.isn"),key:"料號",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.pName"),key:"品名",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.format"),key:"規格",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.usereason"),key:"領用原因",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.line"),key:"線別",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.pickamount"),key:"預領數量",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.realpickamount"),key:"實際領用數量",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.diffreason"),key:"實領差異原因",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.loc"),key:"儲位",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.pickpeople"),key:"領料人員",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.sendpeople"),key:"發料人員",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.picklistnum"),key:"領料單號",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.opentime"),key:"開單時間",width:20},{header:a.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),key:"開單人員",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.outboundtime"),key:"出庫時間",width:20},{header:a.appContext.config.globalProperties.$t("outboundpageLang.mark"),key:"備註",width:20}],i.forEach((function(e){s.addRow({料號:e.料號,品名:e.品名,規格:e.規格,領用原因:e.領用原因,線別:e.線別,預領數量:e.預領數量+" "+e.單位,實際領用數量:e.實際領用數量+" "+e.單位,實領差異原因:e.實領差異原因,儲位:e.儲位,領料人員:e.領料人員,發料人員:e.發料人員,領料單號:e.領料單號,開單時間:e.開單時間,開單人員:e.開單人員,出庫時間:e.出庫時間,備註:e.備註})})),e.next=12,l.xlsx.writeBuffer();case 12:c=e.sent,u=new Blob([c],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(u,a.appContext.config.globalProperties.$t("outboundpageLang.pickrecord")+"_"+t+".xlsx"),Zr("body").loadingModal("hide"),Zr("body").loadingModal("destroy");case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);s.isLoading=!1}));var s=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("outboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.usereason"),field:"領用原因",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領用原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.line"),field:"線別",width:"8ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.線別+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.pickamount"),field:"預領數量",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.預領數量+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.realpickamount"),field:"實際領用數量",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實際領用數量+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.diffreason"),field:"實領差異原因",width:"12ch",sortable:!0,display:function(e,t){return null===e.實領差異原因&&(e.實領差異原因=""),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實領差異原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.loc"),field:"儲位",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.pickpeople"),field:"領料人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.sendpeople"),field:"發料人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.發料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.picklistnum"),field:"領料單號",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領料單號+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.opentime"),field:"開單時間",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),field:"開單人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.outboundtime"),field:"出庫時間",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.出庫時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return s.rows.length})),sortable:{order:"開單時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:s,OutputExcelClick:l,updateCheckedRows:function(e){console.log(e)}}}});var ri=n(3659),ii={insert:"head",singleton:!1};ft()(ri.A,ii);ri.A.locals;const li=(0,y.A)(ai,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Fr,[(0,d.Lk)("div",Ur,[(0,d.Lk)("div",qr,[(0,d.Lk)("label",Kr,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Gr,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Jr),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Qr,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[1]||(t[1]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,zr)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-c6f7453c"]]);var si={class:"row justify-content-between"},ci={class:"row col col-auto"},ui={class:"col col-auto"},pi={for:"pnInput",class:"col-form-label"},di={class:"col col-auto p-0 m-0"},gi=["placeholder"],hi={class:"col col-auto"},fi=["value"];function bi(e){return bi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(e)}function mi(){mi=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==bi(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(bi(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function vi(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function yi(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=mi().mark((function n(){var o,a,r,i,l,s,c,u,p;return mi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("backrecordclient"),r=sessionStorage.getItem("backrecordproduction"),i=sessionStorage.getItem("backrecordsend"),l=sessionStorage.getItem("backrecordisn"),s=sessionStorage.getItem("backrecordbegin"),c=sessionStorage.getItem("backrecordend"),n.prev=10,n.next=13,yt.A.post("/api/outbound/backrecord",{DB:o.data,backrecordclient:a,backrecordproduction:r,backrecordsend:i,backrecordisn:l,backrecordbegin:s,backrecordend:c});case 13:u=n.sent,e.value=JSON.stringify(u.data),n.next=22;break;case 17:for(p in n.prev=17,n.t0=n.catch(10),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[p][0]+"  ";console.log(t.value);case 22:case"end":return n.stop()}}),n,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){vi(r,o,a,i,l,"next",e)}function l(e){vi(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}var wi=n(4692);function xi(e){return xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xi(e)}function ki(){ki=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==xi(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(xi(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Li(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Ci(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Li(r,o,a,i,l,"next",e)}function l(e){Li(r,o,a,i,l,"throw",e)}i(void 0)}))}}const _i=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=yi(),t=e.mats,n=e.getMats;(0,S.KC)(Ci(ki().mark((function e(){return ki().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]),l=function(){var e=Ci(ki().mark((function e(){var t,n,o,r,l,s,c,u,p,d,g;return ki().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(wi("body").loadingModal({text:"Loading...",animation:"circle"}),t=new Date,n=String(t.getDate()).padStart(2,"0"),o=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear(),t=r+"_"+o+"_"+n,l=Array(),s=0;s<i.length;s++)(c=new Object).isn=i[s].料號,c.pName=i[s].品名,c.format=i[s].規格,c.backReason=i[s].退回原因,c.status=i[s].功能狀況,c.line=i[s].線別,c.backAmount=i[s].預退數量+" "+i[s].單位,c.realBackAmount=i[s].實際退回數量+" "+i[s].單位,c.backDiffReason=i[s].實退差異原因,c.loc=i[s].儲位,c.receivePeople=i[s].收料人員,c.backPeople=i[s].退料人員,c.backListNum=i[s].退料單號,c.openTime=i[s].開單時間,c.sender=i[s].開單人員,c.inboundTime=i[s].入庫時間,c.mark=i[s].備註,l.push(c);return u=new(fe().Workbook),(p=u.addWorksheet(a.appContext.config.globalProperties.$t("outboundpageLang.backrecord"))).columns=[{header:a.appContext.config.globalProperties.$t("outboundpageLang.isn"),key:"isn"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.pName"),key:"pName"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.format"),key:"format"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.backreason"),key:"backReason"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.status"),key:"status"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.line"),key:"line"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.backamount"),key:"backAmount"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.realbackamount"),key:"realBackAmount"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.backdiffreason"),key:"backDiffReason"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.loc"),key:"loc"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.receivepeople"),key:"receivePeople"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.backpeople"),key:"backPeople"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.backlistnum"),key:"backListNum"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.opentime"),key:"openTime"},{header:a.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),key:"sender"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.inboundtime"),key:"inboundTime"},{header:a.appContext.config.globalProperties.$t("outboundpageLang.mark"),key:"mark"}],p.addRows(l),e.next=14,u.xlsx.writeBuffer();case 14:d=e.sent,g=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(g,a.appContext.config.globalProperties.$t("outboundpageLang.backrecord")+"_"+t+".xlsx"),wi("body").loadingModal("hide"),wi("body").loadingModal("destroy");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);s.isLoading=!1}));var s=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("outboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.backreason"),field:"退回原因",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退回原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.status"),field:"功能狀況",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.功能狀況+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.line"),field:"線別",width:"8ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.線別+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.backamount"),field:"預退數量",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.預退數量+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.realbackamount"),field:"實際退回數量",width:"15ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實際退回數量+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.backdiffreason"),field:"實退差異原因",width:"23ch",sortable:!0,display:function(e,t){return null===e.實退差異原因&&(e.實退差異原因=""),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實退差異原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.loc"),field:"儲位",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.receivepeople"),field:"收料人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.收料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.backpeople"),field:"退料人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.backlistnum"),field:"退料單號",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退料單號+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.opentime"),field:"開單時間",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),field:"開單人員",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.inboundtime"),field:"入庫時間",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("outboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return s.rows.length})),sortable:{order:"開單時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:s,OutputExcelClick:l,updateCheckedRows:function(e){console.log(e)}}}});var Pi=n(6227),Si={insert:"head",singleton:!1};ft()(Pi.A,Si);Pi.A.locals;const Ei=(0,y.A)(_i,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",si,[(0,d.Lk)("div",ci,[(0,d.Lk)("div",ui,[(0,d.Lk)("label",pi,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",di,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,gi),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",hi,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[1]||(t[1]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,fi)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-b6ba7ab6"]]);var Ai={class:"row justify-content-between"},Ii={class:"row col col-auto"},$i={class:"col col-auto"},Ri={for:"sxbInput",class:"col-form-label"},Ti={class:"col col-auto p-0 m-0"},Mi=["placeholder"],Oi={class:"col col-auto"},Ni=["value"],ji={class:"col col-auto align-items-center m-0 p-0"},Bi={class:"m-0 p-0",style:{width:"12ch"}},Di=["onClick","id","name"],Fi={class:"modal fade",id:"detailTable",tabindex:"-1","aria-labelledby":"detailTable","aria-hidden":"true"},Ui={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},qi={class:"modal-content"},Ki={class:"modal-header justify-content-center"},Gi={class:"col col-auto modal-title m-0 p-0 fs-4"},Ji={class:"modal-body"},Qi={class:"row g-3"},zi={class:"col-md-4"},Hi={for:"inputQty",class:"form-label"},Xi={class:"input-group"},Wi=["placeholder"],Yi={class:"input-group-text"},Vi={key:0,class:"invalid-feedback d-block",role:"alert"},Zi={class:"col-md-8"},el={for:"inputDescr",class:"form-label"},tl={key:0,class:"invalid-feedback d-block",role:"alert"},nl={class:"modal-footer justify-content-between"},ol={type:"button",class:"btn btn-lg btn-danger",style:{"border-radius":"5px"},"data-bs-dismiss":"modal","aria-label":"Close"};var al=n(4692);function rl(e){return rl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rl(e)}function il(){il=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==rl(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(rl(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function ll(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function sl(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){ll(r,o,a,i,l,"next",e)}function l(e){ll(r,o,a,i,l,"throw",e)}i(void 0)}))}}const cl=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=ha(),o=n.mats_inTransit,a=n.getTransit,r=n.updateInTransit;(0,S.KC)(sl(il().mark((function e(){return il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.isLoading=!0,e.next=3,a();case 3:case"end":return e.stop()}}),e)}))));var i=(0,d.KR)(!1),l=(0,d.KR)(!1),s=(0,d.KR)(""),c=(0,d.KR)(""),u=(0,d.KR)(""),p=(0,d.KR)(""),g=(0,d.KR)(""),h=(0,d.KR)(""),f=(0,d.KR)(""),b=((0,d.KR)(),(0,d.KR)("")),m=(0,d.Kh)([]),v=function(){var e=sl(il().mark((function e(){return il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return al("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var t=sl(il().mark((function t(){var n,o,a,r,i,l,s,c,u,p,d;return il().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v();case 2:for(n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,i=Array(),l=0;l<m.length;l++)(s=new Object).isn=m[l].料號,s.transitQty=parseInt(m[l].請購數量).toLocaleString("en",{useGrouping:!0})+" "+m[l].單位,s.description=m[l].說明,s.reviser=m[l].修改人員,s.updateTime=m[l].最後更新時間,i.push(s);return c=new(fe().Workbook),(u=c.addWorksheet(e.appContext.config.globalProperties.$t("monthlyPRpageLang.on_the_way_search"))).columns=[{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),key:"isn"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"),key:"transitQty"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.description"),key:"description"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit_reviser"),key:"reviser"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.updatetime"),key:"updateTime"}],u.addRows(i),t.next=15,c.xlsx.writeBuffer();case 15:p=t.sent,d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(d,e.appContext.config.globalProperties.$t("monthlyPRpageLang.on_the_way_search")+"_"+n+".xlsx"),al("body").loadingModal("hide"),al("body").loadingModal("destroy");case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=sl(il().mark((function t(){var n,o,p,d;return il().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.value=!1,l.value=!1,""!==h.value.toString().trim()&&null!==h.value&&void 0!==h.value||(s.value=e.appContext.config.globalProperties.$t("validation.required"),i.value=!0),""!==f.value.trim()&&null!==f.value&&void 0!==f.value||(c.value=e.appContext.config.globalProperties.$t("validation.required"),l.value=!0),!0!==i.value&&!0!==l.value){t.next=6;break}return t.abrupt("return");case 6:return t.next=8,v();case 8:return n=[u.value],o=[h.value],p=[f.value],t.next=13,r(n,o,p);case 13:return d=t.sent,t.next=16,a();case 16:"success"===d?notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),al("body").loadingModal("hide"),al("body").loadingModal("destroy");case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,S.wB)(o,sl(il().mark((function e(){var t,n;return il().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:if(m.splice(0),""!=o.value){e.next=7;break}return al("body").loadingModal("hide"),al("body").loadingModal("destroy"),e.abrupt("return");case 7:for(t=JSON.parse(o.value),n=0;n<t.data.length;n++)t.data[n].id=n,m.push(t.data[n]);al("body").loadingModal("hide"),al("body").loadingModal("destroy"),x.isLoading=!1;case 12:case"end":return e.stop()}}),e)}))));var x=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="isn'+e.id+'" name="isn'+e.id+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"),field:"請購數量",width:"12ch",sortable:!0},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit_reviser"),field:"修改人員",width:"10ch",sortable:!0,display:function(e,t){return null!==e.修改人員&&void 0!==e.修改人員||(e.修改人員="N/A"),'<input type="hidden" id="reviser'+t+'" name="reviser'+t+'" value="'+e.修改人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.修改人員+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.description"),field:"說明",width:"10ch",sortable:!0,display:function(e,t){return null!==e.說明&&void 0!==e.說明||(e.說明="N/A"),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.說明+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.說明+"</div>"}},{label:e.appContext.config.globalProperties.$t("inboundpageLang.updatetime"),field:"最後更新時間",width:"13ch",sortable:!0,display:function(e,t){return null!==e.最後更新時間&&void 0!==e.最後更新時間||(e.最後更新時間="N/A"),'<input type="hidden" id="updatetime'+t+'" name="updatetime'+t+'" value="'+e.最後更新時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.最後更新時間+"</div>"}}],rows:(0,d.EW)((function(){return m.filter((function(e){return e.料號.toLowerCase().includes(b.value.toLowerCase())||e.品名.includes(b.value)}))})),totalRecordCount:(0,d.EW)((function(){return x.rows.length})),sortable:{order:"最後更新時間",sort:"desc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{isInvalid:i,isInvalid2:l,validation_err_msg:s,validation_err_msg2:c,searchTerm:b,modalTitle:u,unit:g,originalQty:p,inputQty:h,inputDescr:f,table:x,updateCheckedRows:function(e){0},OutputExcelClick:y,openQtyDetails:function(e){u.value=e.料號,g.value=e.單位,p.value=parseInt(e.請購數量).toLocaleString("en",{useGrouping:!0})},sxb_approve:w}}});var ul=n(7359),pl={insert:"head",singleton:!1};ft()(ul.A,pl);ul.A.locals;const dl=(0,y.A)(cl,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Ai,[(0,d.Lk)("div",Ii,[(0,d.Lk)("div",$i,[(0,d.Lk)("label",Ri,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Ti,[(0,d.bo)((0,d.Lk)("input",{id:"sxbInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Mi),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Oi,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[1]||(t[1]=function(t){return e.OutputExcelClick("All")})},t[6]||(t[6]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Ni)])]),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,hasCheckbox:!1,isStaticMode:!0,isSlotMode:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onReturnCheckedRows:e.updateCheckedRows,"is-loading":e.table.isLoading,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1})},{請購數量:(0,d.k6)((function(t){var n=t.row,o=t.key;return[(0,d.Lk)("div",ji,[(0,d.Lk)("span",Bi,[(0,d.eW)((0,d.v_)(parseInt(n.請購數量).toLocaleString("en",{useGrouping:!0}))+" ",1),(0,d.Lk)("small",null,(0,d.v_)(n.單位),1)]),(0,d.Lk)("button",{onClick:function(t){return e.openQtyDetails(n)},type:"button","data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0",style:{"border-radius":"20px"},id:"sxb"+n.id,name:"sxb"+o},"Edit",8,Di)])]})),_:1},8,["messages","columns","rows","total","page-options","sortable","onReturnCheckedRows","is-loading"]),(0,d.Lk)("div",Fi,[(0,d.Lk)("div",Ui,[(0,d.Lk)("div",qi,[(0,d.Lk)("div",Ki,[(0,d.Lk)("h1",Gi,(0,d.v_)(e.modalTitle),1),t[7]||(t[7]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",Ji,[(0,d.Lk)("div",Qi,[(0,d.Lk)("div",zi,[(0,d.Lk)("label",Hi,(0,d.v_)(e.$t("monthlyPRpageLang.on_the_way_search")),1),(0,d.Lk)("div",Xi,[(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.inputQty=t}),type:"number",class:(0,d.C4)([{"is-invalid":e.isInvalid},"form-control"]),id:"inputQty",placeholder:e.originalQty,min:"0"},null,10,Wi),[[d.Jo,e.inputQty]]),(0,d.Lk)("div",Yi,(0,d.v_)(e.unit),1)]),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",Vi,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),(0,d.Lk)("div",Zi,[(0,d.Lk)("label",el,(0,d.v_)(e.$t("monthlyPRpageLang.description")),1),(0,d.bo)((0,d.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.inputDescr=t}),type:"text",class:(0,d.C4)([{"is-invalid":e.isInvalid2},"form-control"]),id:"inputDescr"},null,2),[[d.Jo,e.inputDescr]]),e.isInvalid2?((0,d.uX)(),(0,d.CE)("span",tl,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg2),1)])):(0,d.Q3)("",!0)])])]),(0,d.Lk)("div",nl,[(0,d.Lk)("button",ol,(0,d.v_)(e.$t("templateWords.cancel")),1),(0,d.Lk)("button",{onClick:t[5]||(t[5]=function(){return e.sxb_approve&&e.sxb_approve.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-success",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("checkInvLang.edit")),1)])])])])],64)}],["__scopeId","data-v-158fab07"]]);var gl={class:"row justify-content-between"},hl={class:"row col col-auto"},fl={class:"col col-auto"},bl={for:"sxbInput",class:"col-form-label"},ml={class:"col col-auto p-0 m-0"},vl=["placeholder"],yl={class:"col col-auto"},wl=["value"],xl={class:"col col-auto align-items-center m-0 p-0"},kl=["onClick","id","name"],Ll={class:"col col-auto align-items-center m-0 p-0"},Cl=["onClick"],_l=["onClick"],Pl=["onClick"],Sl={class:"modal fade",id:"detailTable",tabindex:"-1","aria-labelledby":"detailTable","aria-hidden":"false"},El={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},Al={class:"modal-content"},Il={class:"modal-header justify-content-center"},$l={class:"col col-auto modal-title m-0 p-0 fs-4"},Rl={class:"modal-body"},Tl={class:"row justify-content-between"},Ml={class:"row col col-auto"},Ol={class:"col col-auto"},Nl={for:"pnInput",class:"col-form-label"},jl={class:"col col-auto p-0 m-0"},Bl=["placeholder"],Dl={class:"col col-auto"},Fl=["value"],Ul={key:0,class:"modal-footer justify-content-between"};function ql(e){return ql="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ql(e)}function Kl(){Kl=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ql(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ql(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Gl(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Jl(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Gl(r,o,a,i,l,"next",e)}function l(e){Gl(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Ql(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=((0,b.rd)(),function(){var t=Jl(Kl().mark((function t(){var o,a,r,i,l,s,c;return Kl().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,a=sessionStorage.getItem("sxbisn"),r=sessionStorage.getItem("sxbsend"),i=sessionStorage.getItem("sxbbegin"),l=sessionStorage.getItem("sxbend"),t.prev=8,t.next=11,yt.A.post("/api/month/sxb",{DB:o.data,sxbisn:a,sxbsend:r,sxbbegin:i,sxbend:l});case 11:s=t.sent,e.value=JSON.stringify(s.data),t.next=20;break;case 15:for(c in t.prev=15,t.t0=t.catch(8),console.log(t.t0),t.t0.response.data.errors)n.value+=t.t0.response.data.errors[c][0]+"  ";console.log(n.value);case 20:case"end":return t.stop()}}),t,null,[[8,15]])})));return function(){return t.apply(this,arguments)}}()),a=function(){var e=Jl(Kl().mark((function e(t){var o,a;return Kl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/rejectSXB",{DB:o.data,sxb:JSON.stringify(t)});case 7:return a=e.sent,console.log(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Jl(Kl().mark((function e(t,o,a){var r,i;return Kl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/approveSXB",{DB:r.data,sxb:JSON.stringify(t),isn:JSON.stringify(o),amount:JSON.stringify(a)});case 7:return i=e.sent,console.log(i.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,o){return e.apply(this,arguments)}}(),i=function(){var e=Jl(Kl().mark((function e(o){var a,r;return Kl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return a=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/getTransit",{DB:a.data,transitisn:JSON.stringify(o)});case 7:return r=e.sent,t.value=JSON.stringify(r.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}();return{mats_SXB:e,inTransit:t,getMats:o,SXB_Reject:a,SXB_Approve:r,getTransit:i}}var zl=n(4692);function Hl(e){return Hl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hl(e)}function Xl(){Xl=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Hl(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Hl(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Wl(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Yl(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Wl(r,o,a,i,l,"next",e)}function l(e){Wl(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Vl=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Ql(),t=e.mats_SXB,n=e.inTransit,o=e.getMats,a=e.SXB_Reject,r=e.SXB_Approve,i=e.getTransit;(0,S.KC)(Yl(Xl().mark((function e(){return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.isLoading=!0,k.isLoading=!0,e.next=4,o();case 4:case"end":return e.stop()}}),e)}))));var l=(0,d.KR)(""),s=(0,d.KR)(""),c=(0,d.KR)(""),u=(0,d.KR)(!1),p=[],g=(0,S.nI)(),h=document.getElementsByTagName("HTML")[0].getAttribute("lang");g.appContext.config.globalProperties.$lang.setLocale(h);var f=(0,d.Kh)([]),b=(0,d.Kh)([]),m=function(){var e=Yl(Xl().mark((function e(){return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zl("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Yl(Xl().mark((function e(t){var n,o,a,r,i,l,s,c;return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,i=new(fe().Workbook),"All"===t?((l=i.addWorksheet("ALL")).columns=[{header:g.appContext.config.globalProperties.$t("checkInvLang.serial_number"),key:"單號",width:20},{header:g.appContext.config.globalProperties.$t("basicInfoLang.isn"),key:"料號",width:20},{header:g.appContext.config.globalProperties.$t("basicInfoLang.pName"),key:"品名",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"),key:"MOQ",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"),key:"本次請購數量",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),key:"總價",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"),key:"請購時間",width:20}],p.forEach((function(e){l.addRow({單號:e.SXB單號,料號:e.料號,品名:e.品名,MOQ:e.MOQ,本次請購數量:e.本次請購數量,總價:parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" "+e.幣別,請購時間:e.請購時間})}))):((l=i.addWorksheet(b[0].SXB單號)).columns=[{header:g.appContext.config.globalProperties.$t("checkInvLang.serial_number"),key:"單號",width:20},{header:g.appContext.config.globalProperties.$t("basicInfoLang.isn"),key:"料號",width:20},{header:g.appContext.config.globalProperties.$t("basicInfoLang.pName"),key:"品名",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"),key:"MOQ",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"),key:"本次請購數量",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),key:"總價",width:20},{header:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"),key:"請購時間",width:20}],b.forEach((function(e){l.addRow({單號:e.SXB單號,料號:e.料號,品名:e.品名,MOQ:e.MOQ,本次請購數量:e.本次請購數量,總價:parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" "+e.幣別,請購時間:e.請購時間})}))),e.next=11,i.xlsx.writeBuffer();case 11:s=e.sent,c=new Blob([s],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(c,g.appContext.config.globalProperties.$t("monthlyPRpageLang.SXB_search")+("All"===t?"(ALL)":"("+b[0].SXB單號+")")+"_"+n+".xlsx"),zl("body").loadingModal("hide"),zl("body").loadingModal("destroy");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Yl(Xl().mark((function e(){return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:return e.next=4,a(b[0].SXB單號);case 4:if("success"!==e.sent){e.next=12;break}return u.value=!1,notyf.open({type:"success",message:g.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+g.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=10,o();case 10:e.next=13;break;case 12:notyf.open({type:"error",message:g.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 13:zl("body").loadingModal("hide"),zl("body").loadingModal("destroy");case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Yl(Xl().mark((function e(){var t,a,l,s,c,p,d;return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:for(t=[],a=0;a<b.length;a++)t.push(b[a].料號);return e.next=6,i(t);case 6:l=JSON.parse(n.value).data,s=[],c=[],p=Xl().mark((function e(t){var n;return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.push(b[t].料號),-1===(n=l.findIndex((function(e){return e.料號===b[t].料號})))?c.push(parseInt(b[t].本次請購數量)):c.push(parseInt(b[t].本次請購數量)+parseInt(l[n].請購數量));case 3:case"end":return e.stop()}}),e)})),d=0;case 11:if(!(d<b.length)){e.next=16;break}return e.delegateYield(p(d),"t0",13);case 13:d++,e.next=11;break;case 16:return e.next=18,r(b[0].SXB單號,s,c);case 18:if("success"!==e.sent){e.next=26;break}return u.value=!1,notyf.open({type:"success",message:g.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+g.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=24,o();case 24:e.next=27;break;case 26:notyf.open({type:"error",message:g.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 27:zl("body").loadingModal("hide"),zl("body").loadingModal("destroy");case 29:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(t,Yl(Xl().mark((function e(){var n,o,a;return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:n=JSON.parse(t.value),f.splice(0),p=[],o=Xl().mark((function e(t){return Xl().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.datas[t].本次請購數量=parseInt(n.datas[t].本次請購數量),n.datas[t].狀態=n.datas[t].SRM單號,n.datas[t].id=t+1,null!==n.datas[t].開單人員&&void 0!==n.datas[t].開單人員||(n.datas[t].開單人員="N/A"),p.push(n.datas[t]),-1===f.findIndex((function(e){return e.SXB單號===n.datas[t].SXB單號}))&&f.push(n.datas[t]);case 7:case"end":return e.stop()}}),e)})),a=0;case 7:if(!(a<n.datas.length)){e.next=12;break}return e.delegateYield(o(a),"t0",9);case 9:a++,e.next=7;break;case 12:zl("body").loadingModal("hide"),zl("body").loadingModal("destroy"),x.isLoading=!1;case 15:case"end":return e.stop()}}),e)}))));var x=(0,d.Kh)({isLoading:!0,columns:[{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"),field:"請購時間",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="srm'+t+'" name="srm'+t+'" value="'+e.請購時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.請購時間+"</div>"}},{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.status"),field:"狀態",width:"6ch",sortable:!0},{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.info"),field:"SXB單號",width:"4ch",sortable:!1},{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),field:"開單人員",width:"8ch",sortable:!0,display:function(e,t){return null!==e.開單人員&&void 0!==e.開單人員||(e.開單人員="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單人員+"</div>"}}],rows:(0,d.EW)((function(){return f.filter((function(e){return e.開單人員.toLowerCase().includes(l.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return x.rows.length})),sortable:{order:"請購時間",sort:"desc"},messages:{pagingInfo:g.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+g.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+g.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+g.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:g.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:g.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:g.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]}),k=(0,d.Kh)({isLoading:!0,columns:[{label:g.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<input type="hidden" id="number'+e.id+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:g.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:g.appContext.config.globalProperties.$t("basicInfoLang.moq"),field:"MOQ",width:"8ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="moq'+e.id+'" name="moq'+t+'" value="'+e.MOQ+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.MOQ+" <small>"+e.單位+"</small></div>"}},{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"),field:"本次請購數量",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyamount'+e.id+'" name="buyamount'+t+'" value="'+e.本次請購數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.本次請購數量).toLocaleString("en-US")+" <small>"+e.單位+"</small></div>"}},{label:g.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),field:"請購金額",width:"11ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyprice'+e.id+'" name="buyprice'+t+'" value="'+e.請購金額+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" <small>"+e.幣別+"</small></div>"}}],rows:(0,d.EW)((function(){return b.filter((function(e){return e.料號.toLowerCase().includes(s.value.toLowerCase())||e.品名.includes(s.value)}))})),totalRecordCount:(0,d.EW)((function(){return k.rows.length})),sortable:{order:"請購金額",sort:"desc"},messages:{pagingInfo:g.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+g.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+g.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+g.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:g.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:g.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:g.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:l,searchTerm2:s,table:x,table2:k,modalTitle:c,showFooter:u,rowClicked:function(e){},openSXBDetails:function(e){k.isLoading=!0,c.value=e,b.splice(0);for(var t=0;t<p.length;t++)p[t].SXB單號===e&&b.push(p[t]);"未簽核"===b[0].狀態?u.value=!0:u.value=!1,k.isLoading=!1},sxb_approve:w,sxb_reject:y,OutputExcelClick:v}}});var Zl=n(2109),es={insert:"head",singleton:!1};ft()(Zl.A,es);Zl.A.locals;const ts=(0,y.A)(Vl,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",gl,[(0,d.Lk)("div",hl,[(0,d.Lk)("div",fl,[(0,d.Lk)("label",bl,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",ml,[(0,d.bo)((0,d.Lk)("input",{id:"sxbInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.entersxb"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,vl),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",yl,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[1]||(t[1]=function(t){return e.OutputExcelClick("All")})},t[8]||(t[8]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,wl)])]),t[12]||(t[12]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-fixed-first-column":!1,"is-loading":e.table.isLoading,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1})},{SXB單號:(0,d.k6)((function(t){var n=t.row,o=t.key;return[(0,d.Lk)("div",xl,[(0,d.Lk)("button",{onClick:function(t){return e.openSXBDetails(n.SXB單號)},type:"button","data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0",style:{"border-radius":"20px"},id:"sxb"+n.id,name:"sxb"+o},"More",8,kl)])]})),狀態:(0,d.k6)((function(t){var n=t.row;t.key;return[(0,d.Lk)("div",Ll,["未簽核"===n.狀態?((0,d.uX)(),(0,d.CE)("a",{key:0,onClick:function(t){return e.openSXBDetails(n.SXB單號)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"m-0 p-0",style:{color:"#dca120"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_pending")),9,Cl)):"已退單"===n.狀態?((0,d.uX)(),(0,d.CE)("a",{key:1,onClick:function(t){return e.openSXBDetails(n.SXB單號)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"m-0 p-0",style:{color:"#808080"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_cancel")),9,_l)):((0,d.uX)(),(0,d.CE)("a",{key:2,class:"m-0 p-0",onClick:function(t){return e.openSXBDetails(n.SXB單號)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",style:{color:"#2bb91b"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_complete")),9,Pl))])]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading"]),(0,d.Lk)("div",Sl,[(0,d.Lk)("div",El,[(0,d.Lk)("div",Al,[(0,d.Lk)("div",Il,[(0,d.Lk)("h1",$l,(0,d.v_)(e.modalTitle),1),t[9]||(t[9]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",Rl,[(0,d.Lk)("div",Tl,[(0,d.Lk)("div",Ml,[(0,d.Lk)("div",Ol,[(0,d.Lk)("label",Nl,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",jl,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm2=t})},null,8,Bl),[[d.Jo,e.searchTerm2]])])]),(0,d.Lk)("div",Dl,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[4]||(t[4]=function(t){return e.OutputExcelClick(e.modalTitle)})},t[10]||(t[10]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Fl)])]),t[11]||(t[11]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table2.messages,columns:e.table2.columns,rows:e.table2.rows,total:e.table2.totalRecordCount,"page-options":e.table2.pageOptions,sortable:e.table2.sortable,"is-fixed-first-column":!1,onRowClicked:e.rowClicked,"is-loading":e.table2.isLoading,onIsFinished:t[5]||(t[5]=function(t){return e.table2.isLoading=!1})},null,8,["messages","columns","rows","total","page-options","sortable","onRowClicked","is-loading"])]),e.showFooter?((0,d.uX)(),(0,d.CE)("div",Ul,[(0,d.Lk)("button",{onClick:t[6]||(t[6]=function(){return e.sxb_reject&&e.sxb_reject.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-danger",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_cancel")),1),(0,d.Lk)("button",{onClick:t[7]||(t[7]=function(){return e.sxb_approve&&e.sxb_approve.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-success",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_complete")),1)])):(0,d.Q3)("",!0)])])])],64)}],["__scopeId","data-v-40257998"]]);var ns={class:"card"},os={class:"card-header"},as={class:"card-body"},rs={class:"row justify-content-center mb-3"},is={class:"col col-auto"},ls=["href"],ss={class:"col col-auto form-label"},cs={class:"col col-auto"},us={key:0,class:"invalid-feedback d-block",role:"alert"},ps={class:"row justify-content-center"},ds={class:"card"},gs={class:"card-body"},hs={class:"row justify-content-between"},fs={class:"row col col-auto"},bs={class:"col col-auto"},ms={for:"pnInput",class:"col-form-label"},vs={class:"col col-6 p-0 m-0"},ys=["placeholder"],ws={class:"col col-auto"},xs={class:"fs-4"},ks={key:0,class:"invalid-feedback d-block",role:"alert"},Ls={class:"row"},Cs=["id","name","value","onUpdate:modelValue"],_s={class:"input-group-text text-center p-0 m-0 col col-auto",style:{"border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"}},Ps={class:"row justify-content-between align-items-center"},Ss={class:"form-label col col-auto"},Es={class:"col col-auto"},As={class:"input-group"},Is={style:{display:"none"},disabled:"",selected:"",value:""},$s=["value"],Rs={class:"input-group-text input-group-text-lg",id:"emailTail"},Ts={class:"col col-auto"};function Ms(e){return Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ms(e)}function Os(){Os=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Ms(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ms(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Ns(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function js(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Ns(r,o,a,i,l,"next",e)}function l(e){Ns(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Bs(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),a=((0,b.rd)(),function(){var t=js(Os().mark((function t(){var o,a;return Os().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,t.prev=4,t.next=7,yt.A.post("/api/month/allUC",{DB:o.data});case 7:a=t.sent,e.value=JSON.stringify(a.data),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}()),r=function(){var t=js(Os().mark((function t(){var o,a;return Os().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,t.prev=4,t.next=7,yt.A.post("/api/month/rejectedUC",{DB:o.data});case 7:a=t.sent,e.value=JSON.stringify(a.data),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var e=js(Os().mark((function e(){var o,a;return Os().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/checkersMail",{DB:o.data});case 7:return a=e.sent,t.value=JSON.stringify(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=js(Os().mark((function e(t,a,r,i){var l,s,c;return Os().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return l=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return s=e.sent,e.prev=7,e.next=10,yt.A.post("/api/month/send_UC_to_DB",{DB:l.data,username:s.data,number:JSON.stringify(t),number90:JSON.stringify(a),consume:JSON.stringify(r),email:i});case 10:return c=e.sent,o.value=JSON.stringify(c.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n,o,a){return e.apply(this,arguments)}}(),s=function(){var e=js(Os().mark((function e(t,a){var r,i;return Os().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/deleteUC",{DB:r.data,number:JSON.stringify(t),number90:JSON.stringify(a)});case 7:return i=e.sent,o.value=JSON.stringify(i.data),console.log(JSON.stringify(i.data)),e.abrupt("return",new Promise((function(e,t){e("success")})));case 13:return e.prev=13,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t,n){return e.apply(this,arguments)}}();return{mats:e,mails:t,recordCount:o,getAll:a,getRejected:r,getCheckersMails:i,uploadToDB:l,deleteUC:s}}var Ds=n(4692);function Fs(e){return Fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fs(e)}function Us(){Us=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Fs(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Fs(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function qs(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Ks(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){qs(r,o,a,i,l,"next",e)}function l(e){qs(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Gs=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,d.KR)(window.location.origin+"/download/ConsumeExample.xlsx"),t=(0,S.nI)(),n=document.getElementsByTagName("HTML")[0].getAttribute("lang");t.appContext.config.globalProperties.$lang.setLocale(n);var o=Bs(),a=o.mats,r=o.mails,i=o.recordCount,l=o.getRejected,s=o.getCheckersMails,c=o.uploadToDB,u=La(),p=u.queryResult,g=(u.manualResult,u.validateISN);u.validateISN_manual;(0,S.KC)(Ks(Us().mark((function e(){return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $.isLoading=!0,e.next=3,s();case 3:case"end":return e.stop()}}),e)}))));var h,f=(0,d.KR)(!1),b=(0,d.KR)(!1),m=(0,d.KR)(""),v=(0,d.KR)(!1),y=(0,d.Kh)([]),w=(0,d.KR)(),x=[],k=(0,d.KR)(""),L=(0,d.KR)(""),C=(0,d.Kh)([]),_=function(e){for(var t=e.slice().sort(),n=[],o=0;o<t.length-1;o++)t[o+1]==t[o]&&n.push(t[o]);return n},P=function(){var e=Ks(Us().mark((function e(){var n,o,r,i;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l();case 2:if(!(JSON.parse(a.value).datas.length<1)){e.next=6;break}notyf.open({type:"warning",message:t.appContext.config.globalProperties.$t("monthlyPRpageLang.noload"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=16;break;case 6:for(n=0;n<C.length;n++)C[n].doubleCheck&&C.splice(n,1);o=JSON.parse(a.value),r=Us().mark((function e(t){var n;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0==C.length?o.datas[t].id=0:o.datas[t].id=parseInt(C[C.length-1].id)+1,o.datas[t].doubleCheck=!0,-1!=(n=C.findIndex((function(e){return e.料號90===o.datas[t].料號90&&e.料號===o.datas[t].料號})))&&C.splice(n,1),C.push(o.datas[t]);case 5:case"end":return e.stop()}}),e)})),i=0;case 10:if(!(i<o.datas.length)){e.next=15;break}return e.delegateYield(r(i),"t0",12);case 12:i++,e.next=10;break;case 15:notyf.open({type:"success",message:t.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+o.datas.length+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.loadsuccess"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Ks(Us().mark((function e(){var n;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.value=!1,e.next=3,A();case 3:w.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==w.value.type||"application/vnd.ms-excel"==w.value.type||"application/vnd.ms-excel"==w.value.type||".csv"==w.value.type?((n=new FileReader).onload=function(){var e=Ks(Us().mark((function e(n){var o,a,r,i,l,s;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.target.result,a=tn.LF(o,{type:"binary"}),r=a.SheetNames[0],i=a.Sheets[r],void 0!==(h=tn.Wp.sheet_to_json(i,{header:1}))&&void 0!==h[0]&&void 0!==h[0][0]&&void 0!==h[0][1]&&void 0!==h[0][2]){e.next=10;break}f.value=!0,m.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 10:if("90料號"===h[0][0].trim()&&"料號"===h[0][1].trim()&&"單耗"===h[0][2].trim()){e.next=15;break}f.value=!0,m.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 15:for(l=Array(),s=1;s<h.length;s++)null!=h[s][1]&&h[s].length>2&&""!=h[s][0].trim()&&null!=h[s][0].trim()?l.push(h[s][1].trim()):(h.splice(s,1),s-=1);return e.next=19,A();case 19:return e.next=21,g(l);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsBinaryString(w.value)):(f.value=!0,m.value=t.appContext.config.globalProperties.$t("validation.mimetypes")):(f.value=!0,m.value=t.appContext.config.globalProperties.$t("validation.required")),w.value=null,document.getElementById("excel_input").value="",Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var A=function(){var e=Ks(Us().mark((function e(){return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ds("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Ks(Us().mark((function e(){var n,o,a,r,l,s,u,p,d,g,h,f,y;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(b.value=!1,n=0,o=!1,!(C.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:t.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),e.abrupt("return");case 10:for(a=0;a<C.length&&0==o;a++)""!==C[a].月請購&&null!==C[a].月請購&&"null"!==C[a].月請購.toLowerCase()||(o=!0,n=a);if(!o){e.next=18;break}return b.value=!0,m.value=C[n].料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn"),notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),e.abrupt("return");case 18:for(r=Array(),l=0;l<C.length;l++)null!=C[l].料號&&""!=C[l].料號.trim()&&r.push(C[l].料號.toString().trim()+"_"+C[l].料號90.toString().trim());if(!((s=_(r)).length>0)){e.next=28;break}return b.value=!0,m.value=t.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_90_pair")+" : "+s[0].split("_")[0]+" ("+s[0].split("_")[1]+")",notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),e.abrupt("return");case 28:for(u=[],p=[],d=[],g=0;g<C.length;g++)u.push(C[g].料號),p.push(C[g].料號90),d.push(C[g].單耗);return h=Date.now(),e.next=35,c(u,p,d,L.value);case 35:f=e.sent,y=Date.now()-h,console.log("Total time taken : "+y+" milliseconds"),Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),"success"===f?(v.value=!1,notyf.open({type:"success",message:t.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+JSON.parse(i.value).record+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})):notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(p,Ks(Us().mark((function e(){var t,n,o,a;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(""!=p.value){e.next=7;break}return Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),$.isLoading=!1,e.abrupt("return");case 7:for(t=JSON.parse(p.value),n={},o=1;o<h.length;o++)n.料號90=h[o][0].toString().trim(),n.料號=h[o][1].toString().trim(),n.單耗=h[o][2],n.doubleCheck=!1,0==C.length?n.id=0:n.id=parseInt(C[C.length-1].id)+1,-1!=(a=t.data.findIndex((function(e){return e.料號===n.料號})))?n=Object.assign(n,t.data[a]):n.月請購="",C.push(n),n={};Ds("body").loadingModal("hide"),Ds("body").loadingModal("destroy"),$.isLoading=!1;case 13:case"end":return e.stop()}}),e)})))),(0,S.wB)(r,Ks(Us().mark((function e(){var t,n;return Us().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=JSON.parse(r.value),n=0;n<t.data.length;n++)y.push(t.data[n]);$.isLoading=!1;case 3:case"end":return e.stop()}}),e)})))),(0,S.wB)(L,(function(){null!=L.value&&""!=L.value&&null!=L.value&&(v.value=!0)})),(0,S.wB)(C,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var $=(0,d.Kh)({isLoading:!0,columns:[{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":e.doubleCheck?'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; color: #e67300;">'+e.料號+"</div>":'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),field:"料號90",width:"14ch",sortable:!0,display:function(e,t){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="number90'+t+'" name="number90'+t+'" value="'+e.料號90+'"><div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號90+"</div>":e.doubleCheck?'<input type="hidden" id="number90'+t+'" name="number90'+t+'" value="'+e.料號90+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; color: #e67300;">'+e.料號90+"</div>":'<input type="hidden" id="number90'+t+'" name="number90'+t+'" value="'+e.料號90+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號90+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"),field:"單耗",width:"12ch",sortable:!0},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,n){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="name'+n+'" name="name'+n+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":'<input type="hidden" id="name'+n+'" name="name'+n+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,n){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="format'+n+'" name="format'+n+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":'<input type="hidden" id="format'+n+'" name="format'+n+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.lt"),field:"LT",width:"8ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="lt'+t+'" name="lt'+t+'" value="'+Math.round(e.LT)+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+Math.round(e.LT)+"</div>"}}],rows:(0,d.EW)((function(){return C.filter((function(e){return e.料號.toLowerCase().includes(k.value.toLowerCase())||e.品名.includes(k.value)}))})),totalRecordCount:(0,d.EW)((function(){return $.rows.length})),messages:{pagingInfo:t.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+t.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+t.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+t.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:t.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:t.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:t.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{exampleUrl:e,isInvalid:f,isInvalid_DB:b,validation_err_msg:m,uploadToDBReady:v,searchTerm:k,table:$,all_mails:y,selected_mail:L,updateCheckedRows:function(e){x=e},addRejectedToTable:P,onUploadClick:E,onInputChange:function(e){f.value=!1,p.value="",w.value=e.target.files?e.target.files[0]:null},onSendToDBClick:I,CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()},ScientificNotaionToFixed:function(e){var t;return Math.abs(e)<1?(t=parseInt(e.toString().split("e-")[1]))&&(e*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+e.toString().substring(2)):(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0")),e},deleteRow:function(){for(var e=function(e){var t=C.findIndex((function(t){return parseInt(t.id)===parseInt(x[e].id)}));-1!=t&&C.splice(t,1)},t=0;t<x.length;t++)e(t);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),x=[]}}}});var Js=n(7242),Qs={insert:"head",singleton:!1};ft()(Js.A,Qs);Js.A.locals;const zs=(0,y.A)(Gs,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",ns,[(0,d.Lk)("div",os,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("monthlyPRpageLang.isnConsumeAdd")),1)]),(0,d.Lk)("div",as,[(0,d.Lk)("div",rs,[(0,d.Lk)("div",is,[(0,d.Lk)("a",{href:e.exampleUrl,download:""},(0,d.v_)(e.$t("monthlyPRpageLang.exampleExcel")),9,ls)]),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",ss,(0,d.v_)(e.$t("monthlyPRpageLang.plz_upload")),1),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",cs,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[0]||(t[0]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",us,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[10]||(t[10]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",ps,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[1]||(t[1]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])])])]),(0,d.Lk)("div",ds,[(0,d.Lk)("div",gs,[(0,d.Lk)("div",hs,[(0,d.Lk)("div",fs,[(0,d.Lk)("div",bs,[(0,d.Lk)("label",ms,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",vs,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.searchTerm=t})},null,8,ys),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",ws,[(0,d.Lk)("button",{class:"col col-auto btn btn-lg btn-warning",onClick:t[3]||(t[3]=function(){return e.addRejectedToTable&&e.addRejectedToTable.apply(e,arguments)})},[(0,d.Lk)("span",xs,(0,d.v_)(e.$t("monthlyPRpageLang.loadconsume")),1)]),t[12]||(t[12]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",onClick:t[4]||(t[4]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[11]||(t[11]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]))])]),t[15]||(t[15]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",ks,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[5]||(t[5]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{單耗:(0,d.k6)((function(t){var n=t.row;t.key;return[(0,d.Lk)("div",Ls,[(0,d.bo)((0,d.Lk)("input",{style:{width:"10ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",id:"unitConsumption"+n.id,name:"unitConsumption"+n.id,value:e.ScientificNotaionToFixed(parseFloat(n.單耗)),"onUpdate:modelValue":function(e){return n.單耗=e},class:"form-control text-center p-0 m-0 col col-auto",step:"0.000001",min:"0"},null,8,Cs),[[d.Jo,n.單耗]]),(0,d.Lk)("small",_s,(0,d.v_)(n.單位),1)])]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading","onReturnCheckedRows"]),t[16]||(t[16]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",Ps,[(0,d.Lk)("label",Ss,(0,d.v_)(e.$t("monthlyPRpageLang.surepeopleemail"))+":",1),t[14]||(t[14]=(0,d.Lk)("div",{class:"w-100",style:{height:"0ch"}},null,-1)),(0,d.Lk)("div",Es,[(0,d.Lk)("div",As,[(0,d.bo)((0,d.Lk)("select",{class:"form-select form-select-lg col col-auto text-center","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.selected_mail=t})},[(0,d.Lk)("option",Is,(0,d.v_)(e.$t("monthlyPRpageLang.noemail")),1),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.all_mails,(function(e){return(0,d.uX)(),(0,d.CE)("option",{value:e.email},(0,d.v_)(e.姓名),9,$s)})),256))],512),[[d.u1,e.selected_mail]]),(0,d.Lk)("span",Rs,(0,d.v_)(e.selected_mail),1)])]),(0,d.Lk)("div",Ts,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[7]||(t[7]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[13]||(t[13]=(0,d.Lk)("i",{class:"bi bi-envelope-check-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.submit")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-53a1344c"]]);var Hs={class:"card"},Xs={class:"card-header"},Ws={class:"card-body"},Ys={class:"row justify-content-between"},Vs={class:"row col col-auto"},Zs={class:"col col-auto"},ec={for:"pnInput",class:"col-form-label"},tc={class:"col col-6 p-0 m-0"},nc=["placeholder"],oc={class:"col col-auto"},ac=["value"],rc={key:0,class:"invalid-feedback d-block",role:"alert"},ic={class:"row"},lc=["id","name","value","onUpdate:modelValue"],sc={class:"input-group-text text-center p-0 m-0 col col-auto",style:{"border-bottom-left-radius":"0px !important","border-top-left-radius":"0px !important"}},cc={class:"row justify-content-between align-items-center"},uc={class:"form-label col col-auto"},pc={class:"col col-auto"},dc={class:"input-group"},gc={style:{display:"none"},disabled:"",selected:"",value:""},hc=["value"],fc={class:"input-group-text input-group-text-lg",id:"emailTail"},bc={class:"col col-auto"};var mc=n(4692);function vc(e){return vc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vc(e)}function yc(){yc=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==vc(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(vc(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function wc(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function xc(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){wc(r,o,a,i,l,"next",e)}function l(e){wc(r,o,a,i,l,"throw",e)}i(void 0)}))}}const kc=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){(0,d.KR)(window.location.origin+"/download/ConsumeExample.xlsx");var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=Bs(),o=n.mats,a=n.mails,r=n.recordCount,i=n.getAll,l=n.getCheckersMails,s=n.uploadToDB,c=n.deleteUC;(0,S.KC)(xc(yc().mark((function e(){return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C.isLoading=!0,e.next=3,l();case 3:return e.next=5,i();case 5:case"end":return e.stop()}}),e)}))));var u=(0,d.KR)(!1),p=(0,d.KR)(!1),g=(0,d.KR)(""),h=(0,d.KR)(!1),f=(0,d.Kh)([]),b=((0,d.KR)(),[]),m=(0,d.KR)(""),v=(0,d.KR)(""),y=(0,d.Kh)([]),w=function(){var t=xc(yc().mark((function t(){var n,o,a,r,l,s,c,u,p,d,g;return yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:return t.next=4,i();case 4:for(n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,l=Array(),s=0;s<y.length;s++)(c=new Object).isn=y[s].料號,c.isn90=y[s].料號90,c.pName=y[s].品名,c.format=y[s].規格,c.consume=y[s].單耗,c.email=y[s].畫押信箱,c.status="已完成"===y[s].狀態?e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_complete"):e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_pending"),l.push(c);return u=new(fe().Workbook),(p=u.addWorksheet(e.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"))).columns=[{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),key:"isn"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),key:"isn90"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),key:"pName"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.format"),key:"format"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"),key:"consume"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.email"),key:"email"},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.status"),key:"status"}],p.addRows(l),t.next=17,u.xlsx.writeBuffer();case 17:d=t.sent,g=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(g,e.appContext.config.globalProperties.$t("monthlyPRpageLang.consume")+"_"+n+".xlsx"),mc("body").loadingModal("hide"),mc("body").loadingModal("destroy");case 22:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var e=xc(yc().mark((function e(){return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return mc("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var t=xc(yc().mark((function t(){var n,o,a,i,l;return yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:for(n=[],o=[],a=0;a<b.length;a++)n.push(b[a].料號),o.push(b[a].料號90);return t.next=7,c(n,o);case 7:if("success"!==t.sent){t.next=22;break}notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+JSON.parse(r.value).record+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.delete")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),i=yc().mark((function e(t){var n;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=(n=y.findIndex((function(e){return parseInt(e.id)===parseInt(b[t].id)})))&&y.splice(n,1);case 2:case"end":return e.stop()}}),e)})),l=0;case 12:if(!(l<b.length)){t.next=17;break}return t.delegateYield(i(l),"t0",14);case 14:l++,t.next=12;break;case 17:document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),b=[],t.next=23;break;case 22:notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 23:mc("body").loadingModal("hide"),mc("body").loadingModal("destroy");case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=xc(yc().mark((function t(){var n,o,a,l,c,u,d;return yc().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:if(p.value=!1,!(b.length<=0)){t.next=10;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),mc("body").loadingModal("hide"),mc("body").loadingModal("destroy"),t.abrupt("return");case 10:for(n=[],o=[],a=[],l=0;l<b.length;l++)n.push(b[l].料號),o.push(b[l].料號90),a.push(b[l].單耗.toString());return c=Date.now(),t.next=17,s(n,o,a,v.value);case 17:return u=t.sent,d=Date.now()-c,console.log("Total time taken : "+d+" milliseconds"),mc("body").loadingModal("hide"),mc("body").loadingModal("destroy"),t.next=24,i();case 24:"success"===u?notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+JSON.parse(r.value).record+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 25:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,S.wB)(o,xc(yc().mark((function e(){var t,n,a;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(y.splice(0),h.value=!1,v.value="",""!=o.value){e.next=9;break}return mc("body").loadingModal("hide"),mc("body").loadingModal("destroy"),e.abrupt("return");case 9:for(t=JSON.parse(o.value),n={},a=0;a<t.data.length;a++)(n=t.data[a]).id=a,y.push(n),n={};mc("body").loadingModal("hide"),mc("body").loadingModal("destroy"),C.isLoading=!1;case 15:case"end":return e.stop()}}),e)})))),(0,S.wB)(a,xc(yc().mark((function e(){var t,n;return yc().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=JSON.parse(a.value),n=0;n<t.data.length;n++)f.push(t.data[n]);case 2:case"end":return e.stop()}}),e)})))),(0,S.wB)(v,(function(){null!=v.value&&""!=v.value&&null!=v.value&&(h.value=!0)}));var C=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),field:"料號90",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number90'+t+'" name="number90'+t+'" value="'+e.料號90+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號90+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"),field:"單耗",width:"12ch",sortable:!0},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto !important; width: 100%; -ms-overflow-style: none !important;">'+e.規格+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.surepeopleemail"),field:"畫押信箱",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto !important; width: 100%; -ms-overflow-style: none !important;">'+e.畫押信箱+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.remark"),field:"狀態",width:"8ch",sortable:!0,display:function(t,n){return"已完成"===t.狀態?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_complete")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_pending")+"</div>"}}],rows:(0,d.EW)((function(){return y.filter((function(e){return e.料號.toLowerCase().includes(m.value.toLowerCase())||e.料號90.toLowerCase().includes(m.value.toLowerCase())||e.品名.includes(m.value)}))})),rowClasses:function(e){return"已完成"===e.狀態?["table-success"]:["table-danger"]},totalRecordCount:(0,d.EW)((function(){return C.rows.length})),sortable:{order:"料號90",sort:"asc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{isInvalid:u,isInvalid_DB:p,validation_err_msg:g,uploadToDBReady:h,searchTerm:m,table:C,all_mails:f,selected_mail:v,updateCheckedRows:function(e){b=e},onSendToDBClick:L,deleteRow:k,ScientificNotaionToFixed:function(e){var t;return Math.abs(e)<1?(t=parseInt(e.toString().split("e-")[1]))&&(e*=Math.pow(10,t-1),e="0."+new Array(t).join("0")+e.toString().substring(2)):(t=parseInt(e.toString().split("+")[1]))>20&&(t-=20,e/=Math.pow(10,t),e+=new Array(t+1).join("0")),e},CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()},OutputExcelClick:w}}});var Lc=n(1668),Cc={insert:"head",singleton:!1};ft()(Lc.A,Cc);Lc.A.locals;const _c=(0,y.A)(kc,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",Hs,[(0,d.Lk)("div",Xs,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("monthlyPRpageLang.isnConsumeUpdate")),1)]),(0,d.Lk)("div",Ws,[(0,d.Lk)("div",Ys,[(0,d.Lk)("div",Vs,[(0,d.Lk)("div",Zs,[(0,d.Lk)("label",ec,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",tc,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_90pn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,nc),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",oc,[(0,d.Lk)("button",{type:"submit",id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",onClick:t[1]||(t[1]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[7]||(t[7]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)])),t[9]||(t[9]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[2]||(t[2]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[8]||(t[8]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,ac)])]),t[12]||(t[12]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",rc,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,rowClasses:e.table.rowClasses,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[4]||(t[4]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{單耗:(0,d.k6)((function(n){var o=n.row;n.key;return[(0,d.Lk)("div",ic,[(0,d.bo)((0,d.Lk)("input",{style:{width:"10ch","border-bottom-right-radius":"0px !important","border-top-right-radius":"0px !important"},type:"number",id:"unitConsumption"+o.id,name:"unitConsumption"+o.id,value:e.ScientificNotaionToFixed(parseFloat(o.單耗)),"onUpdate:modelValue":function(e){return o.單耗=e},onInput:t[3]||(t[3]=function(t){e.CheckCurrentRow(t)}),class:"form-control text-center p-0 m-0 col col-auto",step:"0.000001",min:"0"},null,40,lc),[[d.Jo,o.單耗]]),(0,d.Lk)("small",sc,(0,d.v_)(o.單位),1)])]})),_:1},8,["messages","columns","rows","rowClasses","total","page-options","sortable","is-loading","onReturnCheckedRows"]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",cc,[(0,d.Lk)("label",uc,(0,d.v_)(e.$t("monthlyPRpageLang.surepeopleemail"))+":",1),t[11]||(t[11]=(0,d.Lk)("div",{class:"w-100",style:{height:"0ch"}},null,-1)),(0,d.Lk)("div",pc,[(0,d.Lk)("div",dc,[(0,d.bo)((0,d.Lk)("select",{class:"form-select form-select-lg col col-auto text-center","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.selected_mail=t})},[(0,d.Lk)("option",gc,(0,d.v_)(e.$t("monthlyPRpageLang.noemail")),1),((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.all_mails,(function(e){return(0,d.uX)(),(0,d.CE)("option",{value:e.email},(0,d.v_)(e.姓名),9,hc)})),256))],512),[[d.u1,e.selected_mail]]),(0,d.Lk)("span",fc,(0,d.v_)(e.selected_mail),1)])]),(0,d.Lk)("div",bc,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[6]||(t[6]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[10]||(t[10]=(0,d.Lk)("i",{class:"bi bi-envelope-check-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.submit")),1)])):(0,d.Q3)("",!0)])])])])}],["__scopeId","data-v-15d7c3db"]]);var Pc={class:"flip-card",ref:"detectclasschange"},Sc={class:"flip-card-inner row w-100"},Ec={class:"flip-card-front col col-12",id:"cardFront"},Ac={class:"flip-card-back col col-12",id:"cardBack"};var Ic={class:"card"},$c={class:"card-header"},Rc={class:"row"},Tc={class:"col col-auto m-0"},Mc={class:"card-body"},Oc={class:"row justify-content-center mb-3"},Nc={class:"col col-auto"},jc=["href"],Bc={class:"col col-auto form-label"},Dc={class:"col col-auto"},Fc={key:0,class:"invalid-feedback d-block",role:"alert"},Uc={class:"row justify-content-center"},qc={class:"card collapse",id:"importedtable"},Kc={class:"card-body"},Gc={class:"row justify-content-between"},Jc={class:"row col col-auto"},Qc={class:"col col-auto"},zc={for:"pnInput1",class:"col-form-label"},Hc={class:"col col-auto p-0 m-0"},Xc=["placeholder"],Wc={class:"col col-auto"},Yc=["value"],Vc={key:0,class:"invalid-feedback d-block",role:"alert"},Zc={class:"row justify-content-center"},eu={class:"col col-auto"};function tu(e){return tu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tu(e)}function nu(){nu=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==tu(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(tu(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function ou(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function au(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){ou(r,o,a,i,l,"next",e)}function l(e){ou(r,o,a,i,l,"throw",e)}i(void 0)}))}}function ru(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=(0,d.KR)(""),o=(0,d.KR)(""),a=((0,b.rd)(),function(){var e=au(nu().mark((function e(o,a){var r,i;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/validateUC",{DB:r.data,number:JSON.stringify(o),number90:JSON.stringify(a)});case 7:return i=e.sent,t.value=JSON.stringify(i.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()),r=function(){var t=au(nu().mark((function t(){var o,a;return nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,t.prev=4,t.next=7,yt.A.post("/api/month/mps",{DB:o.data});case 7:return a=t.sent,e.value=JSON.stringify(a.data),t.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return t.prev=12,t.t0=t.catch(4),console.log(t.t0),t.abrupt("return",t.t0);case 16:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(){return t.apply(this,arguments)}}(),i=function(){var e=au(nu().mark((function e(t,o){var a,r;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return a=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/delete_mps",{DB:a.data,isn90:JSON.stringify(t),isn:JSON.stringify(o)});case 7:return r=e.sent,console.log(r.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=au(nu().mark((function e(t){var o,a;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return o=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/delete_nonmps",{DB:o.data,number:JSON.stringify(t)});case 7:return a=e.sent,console.log(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var t=au(nu().mark((function t(){var o,a,r;return nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.value="",t.next=3,yt.A.post("/getCurrentDB");case 3:return o=t.sent,sessionStorage.getItem("notmonthclient"),sessionStorage.getItem("notmonthisn"),t.prev=6,t.next=9,yt.A.post("/api/month/notmonth",{DB:o.data});case 9:return a=t.sent,e.value=JSON.stringify(a.data),t.abrupt("return",new Promise((function(e,t){e("success")})));case 14:for(r in t.prev=14,t.t0=t.catch(6),console.log(t.t0),t.t0.response.data.errors)n.value+=t.t0.response.data.errors[r][0]+"  ";console.log(n.value);case 19:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(){return t.apply(this,arguments)}}(),c=function(){var e=au(nu().mark((function e(t,o,a,r,i,l){var s,c;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return s=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/submit_monthlypr",{DB:s.data,number:JSON.stringify(t),number90:JSON.stringify(o),nextmps:JSON.stringify(a),nextday:JSON.stringify(r),nowmps:JSON.stringify(i),nowday:JSON.stringify(l)});case 7:return c=e.sent,console.log(c.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),console.log(e.t0),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,o,a,r,i){return e.apply(this,arguments)}}(),u=function(){var e=au(nu().mark((function e(t,o,a,r,i){var l,s;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return l=e.sent,e.prev=4,e.next=7,yt.A.post("/api/month/submit_nonmonthlypr",{DB:l.data,number:JSON.stringify(t),thisdemand:JSON.stringify(o),nextdemand:JSON.stringify(a),amount:JSON.stringify(r),desc:JSON.stringify(i)});case 7:return s=e.sent,console.log(s.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 12:return e.prev=12,e.t0=e.catch(4),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n,o,a,r){return e.apply(this,arguments)}}(),p=function(){var e=au(nu().mark((function e(){var t,n;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getCurrentDB");case 2:return t=e.sent,e.prev=3,e.next=6,yt.A.post("/api/month/getCurrency",{DB:t.data});case 6:return'""'===(n=e.sent).data.data?o.value="Not Found":o.value=JSON.parse(JSON.parse(n.data.data)),e.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return e.prev=11,e.t0=e.catch(3),console.log(e.t0),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var t=au(nu().mark((function t(){var n,o;return nu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yt.A.post("/getCurrentDB");case 2:return n=t.sent,t.prev=3,t.next=6,yt.A.post("/api/month/generate_buylist",{DB:n.data});case 6:return o=t.sent,e.value=JSON.stringify(o.data),t.abrupt("return",new Promise((function(e,t){e("success")})));case 11:return t.prev=11,t.t0=t.catch(3),console.log(t.t0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(){return t.apply(this,arguments)}}(),h=function(){var e=au(nu().mark((function e(t,o,a,r,i,l,s,c,u,p,d,g,h){var f,b,m;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return f=e.sent,e.next=6,yt.A.post("/getCurrentUser");case 6:return b=e.sent,e.prev=7,e.next=10,yt.A.post("/api/month/sendPRMail",{DB:f.data,User:b.data,PN:JSON.stringify(t),pName:JSON.stringify(o),Spec:JSON.stringify(a),Unit_price:JSON.stringify(r),nowNeed:JSON.stringify(i),nextNeed:JSON.stringify(l),Stock:JSON.stringify(s),in_Transit:JSON.stringify(c),ReqAmount:JSON.stringify(u),total_price1:JSON.stringify(p),currency_name:JSON.stringify(d),total_price2:JSON.stringify(g),MOQ:JSON.stringify(h)});case 10:return m=e.sent,console.log(m.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n,o,a,r,i,l,s,c,u,p,d,g){return e.apply(this,arguments)}}(),f=function(){var e=au(nu().mark((function e(t,o,a,r,i,l,s,c,u,p,d,g,h,f,b,m){var v,y,w;return nu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return v=e.sent,e.next=6,yt.A.post("/getCurrentUser");case 6:return y=e.sent,e.prev=7,e.next=10,yt.A.post("/api/month/submit_buylist",{DB:v.data,User:y.data,PN:JSON.stringify(t),pName:JSON.stringify(o),Spec:JSON.stringify(a),Unit_price:JSON.stringify(r),nowNeed:JSON.stringify(i),nextNeed:JSON.stringify(l),Stock:JSON.stringify(s),in_Transit:JSON.stringify(c),ReqAmount:JSON.stringify(u),total_price1:JSON.stringify(p),currency_name:JSON.stringify(d),total_price2:JSON.stringify(g),MOQ:JSON.stringify(h),nonMPS_PN_Array:JSON.stringify(f),MPS_PN_Array:JSON.stringify(m),MPS_90PN_Array:JSON.stringify(b)});case 10:return w=e.sent,console.log(w.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),console.log(e.t0),e.abrupt("return",e.t0);case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n,o,a,r,i,l,s,c,u,p,d,g,h,f,b){return e.apply(this,arguments)}}();return{mats:e,uc:t,Currency:o,validate_UnitConsume:a,getMats_MPS:r,deleteMPS:i,getMats_nonMonthly:s,deleteNonMPS:l,uploadMonthlyToDB:c,uploadNonMonthlyToDB:u,getCurrency:p,getMats_Buylist:g,sendBuylistMail:h,submitBuylist:f}}var iu=n(4692);function lu(e){return lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lu(e)}function su(){su=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==lu(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(lu(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function cu(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function uu(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){cu(r,o,a,i,l,"next",e)}function l(e){cu(r,o,a,i,l,"throw",e)}i(void 0)}))}}const pu=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,d.KR)(window.location.origin+"/download/ImportMonthExample.xlsx"),t=(0,S.nI)(),n=document.getElementsByTagName("HTML")[0].getAttribute("lang");t.appContext.config.globalProperties.$lang.setLocale(n);var o,a=ru(),r=a.mats,i=a.uc,l=a.uploadMonthlyToDB,s=a.validate_UnitConsume,c=La(),u=c.queryResult,p=c.validateISN,g=(0,d.KR)(!1),h=(0,d.KR)(!1),f=(0,d.KR)(""),b=(0,d.KR)(!1),m=(0,d.KR)(),v=[],y=function(e){for(var t=e.slice().sort(),n=[],o=0;o<t.length-1;o++)t[o+1]==t[o]&&n.push(t[o]);return n},w=function(){var e=uu(su().mark((function e(){var n;return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h.value=!1,r.value="",e.next=4,L();case 4:m.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==m.value.type||"application/vnd.ms-excel"==m.value.type||"application/vnd.ms-excel"==m.value.type||".csv"==m.value.type?((n=new FileReader).onload=function(){var e=uu(su().mark((function e(n){var a,r,i,l,c,u,d;return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.result,r=tn.LF(a,{type:"binary"}),i=r.SheetNames[0],l=r.Sheets[i],void 0!==(o=tn.Wp.sheet_to_json(l,{header:1}))&&void 0!==o[0]&&void 0!==o[0][0]&&void 0!==o[0][1]&&void 0!==o[0][2]){e.next=10;break}g.value=!0,f.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=24;break;case 10:if("90料號"===o[0][0].toString().trim()&&"料號"===o[0][1].toString().trim()&&o[0][2].toString().trim().toLowerCase().includes("mps")){e.next=15;break}g.value=!0,f.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=24;break;case 15:for(c=Array(),u=Array(),d=1;d<o.length;d++)null!=o[d][0]&&o[d].length>2&&""!=o[d][0].toString().trim()&&null!=o[d][0].toString().trim()?(c.push(o[d][1].toString().trim()),u.push(o[d][0].toString().trim())):(o.splice(d,1),d-=1);return e.next=20,L();case 20:return e.next=22,p(c);case 22:return e.next=24,s(c,u);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsBinaryString(m.value)):(g.value=!0,f.value=t.appContext.config.globalProperties.$t("validation.mimetypes")):(g.value=!0,f.value=t.appContext.config.globalProperties.$t("validation.required")),m.value=null,document.getElementById("excel_input").value="",iu("body").loadingModal("hide"),iu("body").loadingModal("destroy");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=(0,d.KR)(""),k=(0,d.Kh)([]),L=function(){var e=uu(su().mark((function e(){return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return iu("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=uu(su().mark((function e(){var n,o,a,r,i,s,c,u,p,d,g,m,v,w,x,C,_,P,S,E;return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:if(h.value=!1,n=0,o=!1,!(k.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:t.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 10:for(a=0;a<k.length&&0==o;a++)""!==k[a].月請購&&null!==k[a].月請購&&"null"!==k[a].月請購.toLowerCase()||(o=!0,n=a);if(!o){e.next=18;break}return h.value=!0,f.value="Excel "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.row")+" "+k[n].excel_row_num+" ("+k[n].料號+") "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn"),notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 18:for(r=0;r<k.length&&0==o;r++)""!==k[r].單耗&&null!==k[r].單耗&&"null"!==k[r].單耗.toLowerCase()&&"已完成"===k[r].狀態||(o=!0,n=r);if(!o){e.next=26;break}return h.value=!0,f.value="Excel "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.row")+" "+k[n].excel_row_num+": "+k[n].料號90+"("+k[n].料號+") "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nounitconsumption"),notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 26:for(i=Array(),s=0;s<k.length;s++)null!=k[s].料號&&""!=k[s].料號.trim()&&i.push(k[s].料號.toString().trim()+"_"+k[s].料號90.toString().trim());if(!((c=y(i)).length>0)){e.next=36;break}return h.value=!0,f.value=t.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_90_pair")+" : "+c[0].split("_")[0]+" ("+c[0].split("_")[1]+")",notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 36:for(u=[],p=[],d=[],g=[],m=[],v=[],w=0;w<k.length;w++)u.push(k[w].料號),p.push(k[w].料號90),d.push(k[w].下月MPS),g.push(k[w].下月生產天數),m.push(k[w].本月MPS),v.push(k[w].本月生產天數);return x=Date.now(),e.next=46,l(u,p,d,g,m,v);case 46:if(C=e.sent,_=Date.now()-x,console.log("Total time taken : "+_+" milliseconds"),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),"success"===C)b.value=!1,notyf.open({type:"success",message:t.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+k.length+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});else{if(420==C.response.status){for(h.value=!0,P=JSON.parse(C.response.data.PR_ALREADY),S=1,f.value=t.appContext.config.globalProperties.$t("monthlyPRpageLang.nonmonthly_pr_already_sxb")+"\n",E=0;E<P.length;E++)2===S?(f.value=f.value+P[E].料號90+"("+P[E].料號+")、\n",S=0):f.value=f.value+P[E].料號90+"("+P[E].料號+")、",S++;f.value=f.value.slice(0,-1)}notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})}case 52:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(i,uu(su().mark((function e(){var n,a,r,l,s;return su().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:if(""!=u.value){e.next=6;break}return iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 6:n=JSON.parse(u.value),a=JSON.parse(i.value),r={},l=1;case 10:if(!(l<o.length)){e.next=52;break}if(r.料號90=o[l][0].toString().trim(),r.料號=o[l][1].toString().trim(),null!=o[l][2]&&""!=o[l][2].toString().trim()){e.next=19;break}return g.value=!0,f.value=r.料號90+"->"+r.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowmps")+" "+t.appContext.config.globalProperties.$t("validation.required"),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 19:if(r.本月MPS=parseFloat(o[l][2].toString().replace(/,/g,"")),null!=o[l][3]&&""!=o[l][3].toString().trim()){e.next=26;break}return g.value=!0,f.value=r.料號90+"->"+r.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowday")+" "+t.appContext.config.globalProperties.$t("validation.required"),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 26:if(r.本月生產天數=parseFloat(o[l][3].toString().replace(/,/g,"")),null!=o[l][4]&&""!=o[l][4].toString().trim()){e.next=33;break}return g.value=!0,f.value=r.料號90+"->"+r.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextmps")+" "+t.appContext.config.globalProperties.$t("validation.required"),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 33:if(r.下月MPS=parseFloat(o[l][4].toString().replace(/,/g,"")),null!=o[l][5]&&""!=o[l][5].toString().trim()){e.next=40;break}return g.value=!0,f.value=r.料號90+"->"+r.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextday")+" "+t.appContext.config.globalProperties.$t("validation.required"),iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),e.abrupt("return");case 40:r.下月生產天數=parseFloat(o[l][5].toString().replace(/,/g,"")),r.excel_row_num=l+1,0==k.length?r.id=0:r.id=parseInt(k[k.length-1].id)+1,-1!=(s=n.data.findIndex((function(e){return e.料號===r.料號})))?r=Object.assign(r,n.data[s]):r.月請購="",-1!=(s=a.data.findIndex((function(e){return e.料號===r.料號&&e.料號90===r.料號90})))?(r.單耗=a.data[s].單耗,r.狀態=a.data[s].狀態):(r.單耗=null,r.狀態=null),k.push(r),r={};case 49:l++,e.next=10;break;case 52:iu("#importedtable").hasClass("show")||iu("#togglebtn").click(),console.log(k),b.value=!0,iu("body").loadingModal("hide"),iu("body").loadingModal("destroy"),_.isLoading=!1;case 58:case"end":return e.stop()}}),e)})))),(0,S.wB)(k,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var _=(0,d.Kh)({isLoading:!0,columns:[{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),field:"料號90",width:"14ch",sortable:!0,display:function(e,t){return null===e.單耗?'<input type="hidden" id="ninetyisn'+e.excel_row_num+'" name="ninetyisn'+t+'" value="'+e.料號90+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.料號90+"</div>":'<input type="hidden" id="ninetyisn'+e.excel_row_num+'" name="ninetyisn'+t+'" value="'+e.料號90+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號90+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()||null===e.單耗?'<input type="hidden" id="isn'+e.excel_row_num+'" name="isn'+t+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":'<input type="hidden" id="isn'+e.excel_row_num+'" name="isn'+t+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowmps"),field:"本月MPS",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowmps'+t+'" name="nowmps'+t+'" value="'+e.本月MPS+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.本月MPS).toLocaleString("en",{useGrouping:!0})+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowday"),field:"本月生產天數",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowday'+t+'" name="nowday'+t+'" value="'+e.本月生產天數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.本月生產天數).toLocaleString("en",{useGrouping:!0})+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextmps"),field:"下月MPS",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextmps'+t+'" name="nextmps'+t+'" value="'+e.下月MPS+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.下月MPS).toLocaleString("en",{useGrouping:!0})+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextday"),field:"下月生產天數",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextday'+t+'" name="nextday'+t+'" value="'+e.下月生產天數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.下月生產天數).toLocaleString("en",{useGrouping:!0})+"</div>"}}],rows:(0,d.EW)((function(){return k.filter((function(e){return e.料號90.toLowerCase().includes(x.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return _.rows.length})),messages:{pagingInfo:t.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+t.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+t.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+t.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:t.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:t.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:t.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{flip:(0,d.KR)(!1),exampleUrl:e,isInvalid:g,isInvalid_DB:h,validation_err_msg:f,uploadToDBReady:b,searchTerm:x,table:_,updateCheckedRows:function(e){v=e},onUploadClick:w,onInputChange:function(e){g.value=!1,k.splice(0),u.value="",m.value=e.target.files?e.target.files[0]:null,iu("#importedtable").hasClass("show")&&iu("#togglebtn").click()},onSendToDBClick:C,deleteRow:function(){for(var e=function(e){var t=k.findIndex((function(t){return parseInt(t.excel_row_num)===parseInt(v[e].excel_row_num)}));-1!=t&&k.splice(t,1)},t=0;t<v.length;t++)e(t);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),v=[]}}}});var du=n(1299),gu={insert:"head",singleton:!1};ft()(du.A,gu);du.A.locals;const hu=(0,y.A)(pu,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Ic,[(0,d.Lk)("div",$c,[(0,d.Lk)("div",Rc,[(0,d.Lk)("h3",Tc,(0,d.v_)(e.$t("monthlyPRpageLang.importMonthlyData")),1),(0,d.Lk)("button",{class:"col col-auto btn btn-light m-0 p-0 flip-btn",onClick:t[0]||(t[0]=function(t){return e.flip=!e.flip})},[t[7]||(t[7]=(0,d.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.search")),1)])])]),(0,d.Lk)("div",Mc,[(0,d.Lk)("div",Oc,[(0,d.Lk)("div",Nc,[(0,d.Lk)("a",{href:e.exampleUrl,download:""},(0,d.v_)(e.$t("monthlyPRpageLang.exampleExcel")),9,jc)]),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",Bc,(0,d.v_)(e.$t("monthlyPRpageLang.plz_upload")),1),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",Dc,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[1]||(t[1]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",Fc,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[10]||(t[10]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",Uc,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[2]||(t[2]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])])])]),t[15]||(t[15]=(0,d.Lk)("button",{id:"togglebtn",class:"btn btn-primary col col-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#importedtable","aria-expanded":"false","aria-controls":"importedtable",style:{display:"none"}},null,-1)),(0,d.Lk)("div",qc,[(0,d.Lk)("div",Kc,[(0,d.Lk)("div",Gc,[(0,d.Lk)("div",Jc,[(0,d.Lk)("div",Qc,[(0,d.Lk)("label",zc,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Hc,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput1",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enter90isn"),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t})},null,8,Xc),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Wc,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",value:e.$t("basicInfoLang.delete"),onClick:t[4]||(t[4]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[11]||(t[11]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]),8,Yc)):(0,d.Q3)("",!0)])]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Vc,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[5]||(t[5]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[14]||(t[14]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",Zc,[(0,d.Lk)("div",eu,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,type:"submit",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[6]||(t[6]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[12]||(t[12]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-de1f6fc0"]]);var fu={class:"card"},bu={class:"card-header"},mu={class:"row"},vu={class:"col col-auto m-0"},yu={class:"card-body"},wu={class:"row justify-content-between"},xu={class:"row col col-auto"},ku={class:"col col-auto"},Lu={for:"pnInput",class:"col-form-label"},Cu={class:"col col-auto p-0 m-0"},_u=["placeholder"],Pu={class:"col col-auto"},Su=["value"],Eu={key:0,class:"invalid-feedback d-block",role:"alert"};var Au=n(4692);function Iu(e){return Iu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iu(e)}function $u(){$u=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Iu(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Iu(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Ru(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Tu(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Ru(r,o,a,i,l,"next",e)}function l(e){Ru(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Mu=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=ru(),o=n.mats,a=n.getMats_MPS,r=n.deleteMPS,i=La();i.queryResult,i.validateISN;(0,S.KC)(Tu($u().mark((function e(){return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.isLoading=!0;case 1:case"end":return e.stop()}}),e)}))));var l=function(){var e=Tu($u().mark((function e(){return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",new Promise((function(e,t){e("success")})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=(0,d.KR)(!1),c=(0,d.KR)(""),u=((0,d.KR)(),[]),p=function(){var t=Tu($u().mark((function t(){var n,o,a,i,l;return $u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],o=[],0!=u.length){t.next=5;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),t.abrupt("return");case 5:for(a=0;a<u.length;a++)n.push(u[a].料號90),o.push(u[a].料號);return t.next=8,b();case 8:return t.next=10,r(n,o);case 10:if("success"!==t.sent){t.next=25;break}i=$u().mark((function e(t){var n;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=(n=f.findIndex((function(e){return parseInt(e.id)===parseInt(u[t].id)})))&&f.splice(n,1);case 2:case"end":return e.stop()}}),e)})),l=0;case 14:if(!(l<u.length)){t.next=19;break}return t.delegateYield(i(l),"t0",16);case 16:l++,t.next=14;break;case 19:notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),u=[],t.next=26;break;case 25:notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 26:Au("body").loadingModal("hide"),Au("body").loadingModal("destroy");case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Tu($u().mark((function t(){var n,o,a,r,i,l,s,c,u,p,d;return $u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(Au("body").loadingModal({text:"Loading...",animation:"circle"}),n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,i=[],l=0;l<f.length;l++)(s={}).料號90=f[l].料號90,s.料號=f[l].料號,s.本月MPS=parseInt(f[l].本月MPS).toLocaleString("en",{useGrouping:!0}),s.本月生產天數=parseInt(f[l].本月生產天數),s.下月MPS=parseInt(f[l].下月MPS).toLocaleString("en",{useGrouping:!0}),s.下月生產天數=parseInt(f[l].下月生產天數),s.填寫時間=f[l].填寫時間,i.push(s);return c=new(fe().Workbook),(u=c.addWorksheet(e.appContext.config.globalProperties.$t("templateWords.monthly"))).columns=[{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),key:"料號90",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),key:"料號",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowmps"),key:"本月MPS",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowday"),key:"本月生產天數",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextmps"),key:"下月MPS",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextday"),key:"下月生產天數",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.writetime"),key:"填寫時間",width:20}],i.forEach((function(e){u.addRow(e)})),t.next=14,c.xlsx.writeBuffer();case 14:p=t.sent,d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(d,e.appContext.config.globalProperties.$t("templateWords.monthly")+"_"+n+".xlsx"),Au("body").loadingModal("hide"),Au("body").loadingModal("destroy");case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=(0,d.KR)(""),f=(0,d.Kh)([]),b=function(){var e=Tu($u().mark((function e(){return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Au("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(o,Tu($u().mark((function e(){var t,n;return $u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:if(f.splice(0),""!=o.value){e.next=7;break}return Au("body").loadingModal("hide"),Au("body").loadingModal("destroy"),e.abrupt("return");case 7:for(t=JSON.parse(o.value),n=0;n<t.data.length;n++)t.data[n].id=n,f.push(t.data[n]);Au("body").loadingModal("hide"),Au("body").loadingModal("destroy"),m.isLoading=!1;case 12:case"end":return e.stop()}}),e)}))));var m=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"),field:"料號90",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="ninetyisn'+e.id+'" name="ninetyisn'+t+'" value="'+e.料號90+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%; height: 100%;">'+e.料號90+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="isn'+e.id+'" name="isn'+t+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%; height: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowmps"),field:"本月MPS",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowmps'+t+'" name="nowmps'+t+'" value="'+e.本月MPS+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.本月MPS).toLocaleString("en",{useGrouping:!0})+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowday"),field:"本月生產天數",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowday'+t+'" name="nowday'+t+'" value="'+e.本月生產天數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.本月生產天數)+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextmps"),field:"下月MPS",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextmps'+t+'" name="nextmps'+t+'" value="'+e.下月MPS+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.下月MPS).toLocaleString("en",{useGrouping:!0})+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextday"),field:"下月生產天數",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextday'+t+'" name="nextday'+t+'" value="'+e.下月生產天數+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.下月生產天數)+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.writetime"),field:"填寫時間",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="time'+t+'" name="time'+t+'" value="'+e.填寫時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.填寫時間+"</div>"}}],rows:(0,d.EW)((function(){return f.filter((function(e){return e.料號90.toLowerCase().includes(h.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return m.rows.length})),sortable:{order:"填寫時間",sort:"desc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{flip:(0,d.KR)(!1),isInvalid_DB:s,validation_err_msg:c,searchTerm:h,table:m,updateCheckedRows:function(e){console.log(e),u=e},rowClicked:function(e){},deleteRow:p,OutputExcelClick:g,triggerSearchUpdate:l}}}),Ou=(0,y.A)(Mu,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",fu,[(0,d.Lk)("div",bu,[(0,d.Lk)("div",mu,[(0,d.Lk)("h3",vu,(0,d.v_)(e.$t("monthlyPRpageLang.search")),1),(0,d.Lk)("button",{class:"col col-auto btn btn-light m-0 p-0 flip-btn",onClick:t[0]||(t[0]=function(t){return e.flip=!e.flip})},[t[5]||(t[5]=(0,d.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.importMonthlyData")),1)])])]),t[10]||(t[10]=(0,d.Lk)("div",{class:"w-100",style:{height:"2rem"}},null,-1)),(0,d.Lk)("div",yu,[(0,d.Lk)("div",wu,[(0,d.Lk)("div",xu,[(0,d.Lk)("div",ku,[(0,d.Lk)("label",Lu,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Cu,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enter90isn"),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t})},null,8,_u),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Pu,[(0,d.Lk)("button",{id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",onClick:t[2]||(t[2]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[6]||(t[6]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)])),t[8]||(t[8]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[3]||(t[3]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[7]||(t[7]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Su)])]),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Eu,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onReturnCheckedRows:e.updateCheckedRows,"is-loading":e.table.isLoading,onIsFinished:t[4]||(t[4]=function(t){return e.table.isLoading=!1}),onRowClicked:e.rowClicked},null,8,["messages","columns","rows","total","page-options","sortable","onReturnCheckedRows","is-loading","onRowClicked"])])])}]]);var Nu=n(4692);function ju(e){return ju="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ju(e)}function Bu(){Bu=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==ju(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(ju(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Du(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Fu(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Du(r,o,a,i,l,"next",e)}function l(e){Du(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Uu(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return qu(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?qu(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw r}}}}function qu(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}const Ku=(0,d.pM)({name:"App",components:{MonthlyPRImportTable:hu,MonthlyPRSearchTable:Ou},setup:function(){var e=(0,d.KR)(null),t=(0,d.KR)(null),n=(0,d.KR)(null),o=new MutationObserver((function(e){var t,n=Uu(e);try{var o=function(){var e=t.value,n=e.target.getAttribute(e.attributeName);(0,d.dY)((function(){r(n,e.oldValue)}))};for(n.s();!(t=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}));(0,S.xo)(o.disconnect()),(0,S.sV)((function(){o.observe(n.value,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),(0,S.wB)((function(){return e.value.flip}),(function(e){Nu(".flip-card").toggleClass("transition")})),(0,S.wB)((function(){return t.value.flip}),(function(e){Nu(".flip-card").toggleClass("transition")}))}));var a=function(){var e=Fu(Bu().mark((function e(){return Bu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Nu("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=Fu(Bu().mark((function e(n){return Bu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(!n.split(" ").includes("transition")){e.next=6;break}return e.next=6,t.value.triggerSearchUpdate();case 6:Nu("body").loadingModal("hide"),Nu("body").loadingModal("destroy");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{myChild:e,myChild2:t,detectclasschange:n}}});var Gu=n(3677),Ju={insert:"head",singleton:!1};ft()(Gu.A,Ju);Gu.A.locals;const Qu=(0,y.A)(Ku,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("MonthlyPRImportTable"),l=(0,d.g2)("MonthlyPRSearchTable");return(0,d.uX)(),(0,d.CE)("div",Pc,[(0,d.Lk)("div",Sc,[(0,d.Lk)("div",Ec,[(0,d.bF)(i,{ref:"myChild"},null,512)]),(0,d.Lk)("div",Ac,[(0,d.bF)(l,{ref:"myChild2"},null,512)])])],512)}],["__scopeId","data-v-8cf998e4"]]);var zu={class:"flip-card",ref:"detectclasschange"},Hu={class:"flip-card-inner row w-100"},Xu={class:"flip-card-front col col-12",id:"cardFront",style:{height:"auto !important"}},Wu={class:"flip-card-back col col-12",id:"cardBack"};var Yu={class:"card"},Vu={class:"card-header"},Zu={class:"row"},ep={class:"col col-auto m-0"},tp={class:"card-body"},np={class:"row justify-content-center mb-3"},op={class:"col col-auto"},ap=["href"],rp={class:"col col-auto form-label"},ip={class:"col col-auto"},lp={key:0,class:"invalid-feedback d-block",role:"alert"},sp={class:"row justify-content-center"},cp={class:"card collapse",id:"importedtable"},up={class:"card-body"},pp={class:"row justify-content-between"},dp={class:"row col col-auto"},gp={class:"col col-auto"},hp={for:"pnInput1",class:"col-form-label"},fp={class:"col col-auto p-0 m-0"},bp=["placeholder"],mp={class:"col col-auto"},vp=["value"],yp={key:0,class:"invalid-feedback d-block",role:"alert"},wp={style:{"white-space":"pre-wrap"}},xp={class:"row justify-content-center"},kp={class:"col col-auto"};var Lp=n(4692);function Cp(e){return Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(e)}function _p(){_p=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Cp(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Cp(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Pp(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Sp(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Pp(r,o,a,i,l,"next",e)}function l(e){Pp(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Ep=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,d.KR)(window.location.origin+"/download/ImportNotmonthExample.xlsx"),t=(0,S.nI)(),n=document.getElementsByTagName("HTML")[0].getAttribute("lang");t.appContext.config.globalProperties.$lang.setLocale(n);var o,a=ru(),r=a.mats,i=a.uploadNonMonthlyToDB,l=La(),s=l.queryResult,c=l.validateISN,u=(0,d.KR)(!1),p=(0,d.KR)(!1),g=(0,d.KR)(""),h=(0,d.KR)(!1),f=(0,d.KR)(),b=[];(0,S.KC)((function(){L.isLoading=!0}));var m=function(e){for(var t=e.slice().sort(),n=[],o=0;o<t.length-1;o++)t[o+1]==t[o]&&n.push(t[o]);return n},v=function(){var e=Sp(_p().mark((function e(){var n;return _p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p.value=!1,r.value="",e.next=4,x();case 4:f.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==f.value.type||"application/vnd.ms-excel"==f.value.type||"application/vnd.ms-excel"==f.value.type||".csv"==f.value.type?((n=new FileReader).onload=function(){var e=Sp(_p().mark((function e(n){var a,r,i,l,s,p;return _p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.target.result,r=tn.LF(a,{type:"binary",WTF:!0}),i=r.SheetNames[0],l=r.Sheets[i],void 0!==(o=tn.Wp.sheet_to_json(l,{header:1}))&&void 0!==o[0]&&void 0!==o[0][0]&&void 0!==o[0][1]&&void 0!==o[0][2]){e.next=10;break}u.value=!0,g.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 10:if("料號"===o[0][0].trim()&&o[0][1].trim().toLowerCase().includes("當月需求")){e.next=15;break}u.value=!0,g.value=t.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),e.next=21;break;case 15:for(s=Array(),p=1;p<o.length;p++)null!=o[p][0]&&o[p].length>2&&""!=o[p][0].trim()&&null!=o[p][0].trim()?s.push(o[p][0].trim()):(o.splice(p,1),p-=1),null!==o[p][3]&&void 0!==o[p][3]||(o[p][3]=o[p][1]+o[p][2]);return e.next=19,x();case 19:return e.next=21,c(s);case 21:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.readAsBinaryString(f.value)):(u.value=!0,g.value=t.appContext.config.globalProperties.$t("validation.mimetypes")):(u.value=!0,g.value=t.appContext.config.globalProperties.$t("validation.required")),f.value=null,document.getElementById("excel_input").value="",Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy");case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=(0,d.KR)(""),w=(0,d.Kh)([]),x=function(){var e=Sp(_p().mark((function e(){return _p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lp("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Sp(_p().mark((function e(){var n,o,a,r,l,s,c,u,d,f,b,v,y,k,L,C,_,P;return _p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:if(p.value=!1,n=0,o=!1,!(w.length<=0)){e.next=10;break}return notyf.open({type:"warning",message:t.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 10:for(a=0;a<w.length&&0==o;a++)""!==w[a].月請購&&null!==w[a].月請購&&"null"!==w[a].月請購.toLowerCase()||(o=!0,n=a);if(!o){e.next=18;break}return p.value=!0,g.value="Excel "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.row")+" "+w[n].excel_row_num+" ("+w[n].料號+") "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn"),notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 18:for(r=Array(),l=0;l<w.length;l++)null!=w[l].料號&&""!=w[l].料號.trim()&&r.push(w[l].料號.toString().trim());if(!((s=m(r)).length>0)){e.next=28;break}return p.value=!0,g.value=t.appContext.config.globalProperties.$t("monthlyPRpageLang.repeated_isn")+" : "+s[0],notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 28:for(c=[],u=[],d=[],f=[],b=[],v=0;v<w.length;v++)c.push(w[v].料號),u.push(parseInt(w[v].當月需求)),d.push(parseInt(w[v].下月需求)),f.push(parseInt(w[v].請購數量)),b.push(w[v].說明);return y=Date.now(),e.next=37,i(c,u,d,f,b);case 37:if(k=e.sent,L=Date.now()-y,console.log("Total time taken : "+L+" milliseconds"),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),"success"===k)h.value=!1,notyf.open({type:"success",message:t.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+w.length+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});else{if(420==k.response.status){for(p.value=!0,C=JSON.parse(k.response.data.PR_ALREADY),_=1,g.value=t.appContext.config.globalProperties.$t("monthlyPRpageLang.nonmonthly_pr_already_sxb")+"\n",P=0;P<C.length;P++)4===_?(g.value=g.value+C[P].料號+"、\n",_=0):g.value=g.value+C[P].料號+"、",_++;g.value=g.value.slice(0,-1)}notyf.open({type:"error",message:t.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})}case 43:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(s,Sp(_p().mark((function e(){var n,a,r,i;return _p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.value=t.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error")+" Excel "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.row"),e.next=3,x();case 3:if(""!=s.value){e.next=7;break}return Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 7:n=JSON.parse(s.value),a={},r=1;case 10:if(!(r<o.length)){e.next=51;break}if(e.prev=11,a.料號=o[r][0].toString().trim(),null!=o[r][1]&&""!=o[r][1].toString().trim()){e.next=19;break}return u.value=!0,g.value=a.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed")+" "+t.appContext.config.globalProperties.$t("validation.required"),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 19:if(a.當月需求=parseFloat(o[r][1].toString().replace(/,/g,"")),null!=o[r][2]&&""!=o[r][2].toString().trim()){e.next=26;break}return u.value=!0,g.value=a.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed")+" "+t.appContext.config.globalProperties.$t("validation.required"),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 26:if(a.下月需求=parseFloat(o[r][2].toString().replace(/,/g,"")),null!=o[r][3]&&""!=o[r][3].toString().trim()){e.next=33;break}return u.value=!0,g.value=a.料號+" "+t.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1")+" "+t.appContext.config.globalProperties.$t("validation.required"),Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),e.abrupt("return");case 33:a.請購數量=parseInt(o[r][3].toString().replace(/,/g,""),10),void 0===o[r][4]||null===o[r][4]?a.說明="":a.說明=o[r][4].toString().trim(),a.excel_row_num=r+1,0==w.length?a.id=0:a.id=parseInt(w[w.length-1].id)+1,-1!=(i=n.data.findIndex((function(e){return e.料號===a.料號})))?a=Object.assign(a,n.data[i]):a.月請購="",w.push(a),e.next=47;break;case 42:e.prev=42,e.t0=e.catch(11),console.log(e.t0),g.value=g.value+" "+r+"、",p.value=!0;case 47:a={};case 48:r++,e.next=10;break;case 51:g.value=g.value.slice(0,-1),Lp("#importedtable").hasClass("show")||Lp("#togglebtn").click(),h.value=!0,Lp("body").loadingModal("hide"),Lp("body").loadingModal("destroy"),L.isLoading=!1;case 57:case"end":return e.stop()}}),e,null,[[11,42]])})))),(0,S.wB)(w,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var L=(0,d.Kh)({isLoading:!0,columns:[{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="isn'+e.excel_row_num+'" name="isn'+t+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":'<input type="hidden" id="isn'+e.excel_row_num+'" name="isn'+t+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,n){return""===e.月請購||null===e.月請購||"null"===e.月請購.toLowerCase()?'<input type="hidden" id="name'+n+'" name="name'+n+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+t.appContext.config.globalProperties.$t("inboundpageLang.row")+" "+e.excel_row_num+"</div>":'<input type="hidden" id="name'+n+'" name="name'+n+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"),field:"當月需求",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowneed'+t+'" name="nowneed'+t+'" value="'+e.當月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.當月需求).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"),field:"下月需求",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextneed'+e.id+'" name="nextneed'+t+'" value="'+e.下月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.下月需求).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1"),field:"請購數量",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyamount'+t+'" name="buyamount'+t+'" value="'+e.請購數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.請購數量).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:t.appContext.config.globalProperties.$t("monthlyPRpageLang.description"),field:"說明",width:"10ch",sortable:!0,display:function(e,t){return null===e.說明&&(e.說明=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.說明+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.說明+"</div>"}}],rows:(0,d.EW)((function(){return w.filter((function(e){return e.料號.toLowerCase().includes(y.value.toLowerCase())||e.品名.includes(y.value)}))})),totalRecordCount:(0,d.EW)((function(){return L.rows.length})),messages:{pagingInfo:t.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+t.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+t.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+t.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:t.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:t.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:t.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{flip:(0,d.KR)(!1),exampleUrl:e,isInvalid:u,isInvalid_DB:p,validation_err_msg:g,uploadToDBReady:h,searchTerm:y,table:L,updateCheckedRows:function(e){b=e},onUploadClick:v,onInputChange:function(e){u.value=!1,w.splice(0),s.value="",f.value=e.target.files?e.target.files[0]:null,Lp("#importedtable").hasClass("show")&&Lp("#togglebtn").click()},onSendToDBClick:k,deleteRow:function(){for(var e=function(e){var t=w.findIndex((function(t){return parseInt(t.excel_row_num)===parseInt(b[e].excel_row_num)}));-1!=t&&w.splice(t,1)},t=0;t<b.length;t++)e(t);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),b=[]}}}});var Ap=n(6596),Ip={insert:"head",singleton:!1};ft()(Ap.A,Ip);Ap.A.locals;const $p=(0,y.A)(Ep,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Yu,[(0,d.Lk)("div",Vu,[(0,d.Lk)("div",Zu,[(0,d.Lk)("h3",ep,(0,d.v_)(e.$t("monthlyPRpageLang.importNonMonthlyData")),1),(0,d.Lk)("button",{class:"col col-auto btn btn-light m-0 p-0 flip-btn",onClick:t[0]||(t[0]=function(t){return e.flip=!e.flip})},[t[7]||(t[7]=(0,d.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.search")),1)])])]),(0,d.Lk)("div",tp,[(0,d.Lk)("div",np,[(0,d.Lk)("div",op,[(0,d.Lk)("a",{href:e.exampleUrl,download:""},(0,d.v_)(e.$t("monthlyPRpageLang.exampleExcel")),9,ap)]),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",rp,(0,d.v_)(e.$t("monthlyPRpageLang.plz_upload")),1),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",ip,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[1]||(t[1]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",lp,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[10]||(t[10]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",sp,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[2]||(t[2]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])])])]),t[15]||(t[15]=(0,d.Lk)("button",{id:"togglebtn",class:"btn btn-primary col col-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#importedtable","aria-expanded":"false","aria-controls":"importedtable",style:{display:"none"}},null,-1)),(0,d.Lk)("div",cp,[(0,d.Lk)("div",up,[(0,d.Lk)("div",pp,[(0,d.Lk)("div",dp,[(0,d.Lk)("div",gp,[(0,d.Lk)("label",hp,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+": ",1)]),(0,d.Lk)("div",fp,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput1",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t})},null,8,bp),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",mp,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",value:e.$t("basicInfoLang.delete"),onClick:t[4]||(t[4]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[11]||(t[11]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]),8,vp)):(0,d.Q3)("",!0)])]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",yp,[(0,d.Lk)("strong",wp,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[5]||(t[5]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[14]||(t[14]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",xp,[(0,d.Lk)("div",kp,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,type:"submit",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[6]||(t[6]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[12]||(t[12]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-46c651b0"]]);var Rp={class:"card"},Tp={class:"card-header"},Mp={class:"row"},Op={class:"col col-auto m-0"},Np={class:"card-body"},jp={class:"row justify-content-between"},Bp={class:"row col col-auto"},Dp={class:"col col-auto"},Fp={for:"pnInput",class:"col-form-label"},Up={class:"col col-auto p-0 m-0"},qp=["placeholder"],Kp={class:"col col-auto"},Gp=["value"],Jp=["value"],Qp={key:0,class:"invalid-feedback d-block",role:"alert"};var zp=n(4692);function Hp(e){return Hp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hp(e)}function Xp(){Xp=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Hp(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Hp(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Wp(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Yp(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Wp(r,o,a,i,l,"next",e)}function l(e){Wp(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Vp=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=ru(),o=n.mats,a=n.getMats_nonMonthly,r=n.deleteNonMPS,i=La();i.queryResult,i.validateISN;(0,S.KC)(Yp(Xp().mark((function e(){return Xp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.isLoading=!0;case 1:case"end":return e.stop()}}),e)}))));var l=function(){var e=Yp(Xp().mark((function e(){return Xp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:return e.abrupt("return",new Promise((function(e,t){e("success")})));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=(0,d.KR)(!1),c=(0,d.KR)(""),u=((0,d.KR)(),[]),p=function(){var t=Yp(Xp().mark((function t(){var n,o,a,i;return Xp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],0!=u.length){t.next=4;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),t.abrupt("return");case 4:for(o=0;o<u.length;o++)n.push(u[o].料號);return t.next=7,b();case 7:return t.next=9,r(n);case 9:if("success"!==t.sent){t.next=24;break}a=Xp().mark((function e(t){var n;return Xp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!=(n=f.findIndex((function(e){return parseInt(e.id)===parseInt(u[t].料號)})))&&f.splice(n,1);case 2:case"end":return e.stop()}}),e)})),i=0;case 13:if(!(i<u.length)){t.next=18;break}return t.delegateYield(a(i),"t0",15);case 15:i++,t.next=13;break;case 18:notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),u=[],t.next=25;break;case 24:notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 25:zp("body").loadingModal("hide"),zp("body").loadingModal("destroy");case 27:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Yp(Xp().mark((function t(){var n,o,a,r,i,l,s,c,u,p,d;return Xp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(zp("body").loadingModal({text:"Loading...",animation:"circle"}),n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,i=[],l=0;l<f.length;l++)(s={}).料號=f[l].料號,s.品名=f[l].品名,s.當月需求=parseInt(f[l].當月需求).toLocaleString("en",{useGrouping:!0}),s.下月需求=parseInt(f[l].下月需求).toLocaleString("en",{useGrouping:!0}),s.請購數量=parseInt(f[l].請購數量).toLocaleString("en",{useGrouping:!0}),s.單位=f[l].單位,s.說明=f[l].說明,i.push(s);return c=new(fe().Workbook),(u=c.addWorksheet(e.appContext.config.globalProperties.$t("templateWords.nonmonthly"))).columns=[{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),key:"料號",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),key:"品名",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"),key:"當月需求",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"),key:"下月需求",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1"),key:"請購數量",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.unit"),key:"單位",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.description"),key:"說明",width:20}],i.forEach((function(e){u.addRow(e)})),t.next=14,c.xlsx.writeBuffer();case 14:p=t.sent,d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(d,e.appContext.config.globalProperties.$t("templateWords.nonmonthly")+"_"+n+".xlsx"),zp("body").loadingModal("hide"),zp("body").loadingModal("destroy");case 19:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=(0,d.KR)(""),f=(0,d.Kh)([]),b=function(){var e=Yp(Xp().mark((function e(){return Xp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zp("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(o,Yp(Xp().mark((function e(){var t,n;return Xp().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:if(f.splice(0),""!=o.value){e.next=7;break}return zp("body").loadingModal("hide"),zp("body").loadingModal("destroy"),e.abrupt("return");case 7:for(t=JSON.parse(o.value),n=0;n<t.data.length;n++)t.data[n].id=n,f.push(t.data[n]);zp("body").loadingModal("hide"),zp("body").loadingModal("destroy"),m.isLoading=!1;case 12:case"end":return e.stop()}}),e)}))));var m=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="isn'+e.id+'" name="isn'+e.id+'" value="'+e.料號+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"),field:"當月需求",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowneed'+t+'" name="nowneed'+t+'" value="'+e.當月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.當月需求).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"),field:"下月需求",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextneed'+e.id+'" name="nextneed'+t+'" value="'+e.下月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.下月需求).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1"),field:"請購數量",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyamount'+t+'" name="buyamount'+t+'" value="'+e.請購數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.請購數量).toLocaleString("en",{useGrouping:!0})+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.description"),field:"說明",width:"10ch",sortable:!0,display:function(e,t){return null===e.說明&&(e.說明=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.說明+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.說明+"</div>"}}],rows:(0,d.EW)((function(){return f.filter((function(e){return e.料號.toLowerCase().includes(h.value.toLowerCase())||e.品名.includes(h.value)}))})),totalRecordCount:(0,d.EW)((function(){return m.rows.length})),sortable:{order:"料號",sort:"asc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{flip:(0,d.KR)(!1),isInvalid_DB:s,validation_err_msg:c,searchTerm:h,table:m,updateCheckedRows:function(e){u=e},deleteRow:p,OutputExcelClick:g,triggerSearchUpdate:l}}}),Zp=(0,y.A)(Vp,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",Rp,[(0,d.Lk)("div",Tp,[(0,d.Lk)("div",Mp,[(0,d.Lk)("h3",Op,(0,d.v_)(e.$t("monthlyPRpageLang.search")),1),(0,d.Lk)("button",{class:"col col-auto btn btn-light m-0 p-0 flip-btn",onClick:t[0]||(t[0]=function(t){return e.flip=!e.flip})},[t[5]||(t[5]=(0,d.Lk)("i",{class:"bi bi-arrow-left-right"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.importNonMonthlyData")),1)])])]),(0,d.Lk)("div",Np,[(0,d.Lk)("div",jp,[(0,d.Lk)("div",Bp,[(0,d.Lk)("div",Dp,[(0,d.Lk)("label",Fp,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Up,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.searchTerm=t})},null,8,qp),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Kp,[(0,d.Lk)("button",{id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",value:e.$t("basicInfoLang.delete"),onClick:t[2]||(t[2]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[6]||(t[6]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]),8,Gp),t[8]||(t[8]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[3]||(t[3]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[7]||(t[7]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Jp)])]),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Qp,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[4]||(t[4]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])])])}]]);var ed=n(4692);function td(e){return td="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},td(e)}function nd(){nd=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==td(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(td(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function od(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function ad(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){od(r,o,a,i,l,"next",e)}function l(e){od(r,o,a,i,l,"throw",e)}i(void 0)}))}}function rd(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return id(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?id(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,a=function(){};return{s:a,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){l=!0,r=e},f:function(){try{i||null==n.return||n.return()}finally{if(l)throw r}}}}function id(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}const ld=(0,d.pM)({name:"App",components:{NonMonthlyPRImportTable:$p,NonMonthlyPRSearchTable:Zp},setup:function(){var e=(0,d.KR)(null),t=(0,d.KR)(null),n=(0,d.KR)(null),o=new MutationObserver((function(e){var t,n=rd(e);try{var o=function(){var e=t.value,n=e.target.getAttribute(e.attributeName);(0,d.dY)((function(){r(n,e.oldValue)}))};for(n.s();!(t=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}));(0,S.xo)(o.disconnect()),(0,S.sV)((function(){o.observe(n.value,{attributes:!0,attributeOldValue:!0,attributeFilter:["class"]}),(0,S.wB)((function(){return e.value.flip}),(function(e){ed(".flip-card").toggleClass("transition")})),(0,S.wB)((function(){return t.value.flip}),(function(e){ed(".flip-card").toggleClass("transition")}))}));var a=function(){var e=ad(nd().mark((function e(){return nd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ed("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),r=function(){var e=ad(nd().mark((function e(n){return nd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a();case 2:if(!n.split(" ").includes("transition")){e.next=6;break}return e.next=6,t.value.triggerSearchUpdate();case 6:ed("body").loadingModal("hide"),ed("body").loadingModal("destroy");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return{myChild:e,myChild2:t,detectclasschange:n}}});var sd=n(8733),cd={insert:"head",singleton:!1};ft()(sd.A,cd);sd.A.locals;const ud=(0,y.A)(ld,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("NonMonthlyPRImportTable"),l=(0,d.g2)("NonMonthlyPRSearchTable");return(0,d.uX)(),(0,d.CE)("div",zu,[(0,d.Lk)("div",Hu,[(0,d.Lk)("div",Xu,[(0,d.bF)(i,{ref:"myChild"},null,512)]),(0,d.Lk)("div",Wu,[(0,d.bF)(l,{ref:"myChild2"},null,512)])])],512)}],["__scopeId","data-v-57b1c3ff"]]);var pd={class:"card"},dd={class:"card-header"},gd={class:"card-body"},hd={class:"row justify-content-between"},fd={class:"row col col-auto"},bd={class:"col col-auto"},md={for:"pnInput",class:"col-form-label"},vd={class:"col col-6 p-0 m-0"},yd=["placeholder"],wd={class:"col col-auto"},xd=["value"],kd={class:"row justify-content-between"},Ld={key:0,class:"col col-auto text-danger m-0 p-0",role:"alert"},Cd={key:1,class:"col col-auto text-danger m-0 p-0",role:"alert"},_d={class:"col col-auto text-sm text-danger m-0 p-0"},Pd={class:"row justify-content-center"},Sd={key:0,class:"col col-auto m-0 p-0"},Ed={type:"button",name:"upload","data-bs-toggle":"modal","data-bs-target":"#sendPRConfirmTable","aria-controls":"sendPRConfirmTable",class:"col col-auto fs-3 text-center btn btn-lg btn-outline-info"},Ad={key:1,class:"col col-auto m-0 p-0"},Id={key:2,class:"col col-auto m-0 p-0"},$d={type:"button",name:"upload","data-bs-toggle":"modal","data-bs-target":"#sendPRConfirmTable","aria-controls":"sendPRConfirmTable",class:"col col-auto fs-3 text-center btn btn-lg btn-info"},Rd={key:3,class:"col col-auto m-0 p-0"},Td={class:"modal fade",id:"sendPRConfirmTable",tabindex:"-1","aria-labelledby":"sendPRConfirmTable","aria-hidden":"true"},Md={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},Od={class:"modal-content"},Nd={class:"modal-header justify-content-center"},jd={class:"col col-10"},Bd={class:"text-danger"},Dd={class:"text-danger"},Fd={class:"modal-body"},Ud={class:"row justify-content-between"},qd={class:"row col col-auto"},Kd={class:"col col-auto"},Gd={for:"pnInput2",class:"col-form-label"},Jd={class:"col col-auto p-0 m-0"},Qd=["placeholder"],zd={key:0,class:"modal-footer justify-content-between"},Hd={type:"button",class:"btn btn-lg btn-danger",style:{"border-radius":"5px"},"data-bs-dismiss":"modal","aria-label":"Close"};var Xd=n(4692);function Wd(e){return Wd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wd(e)}function Yd(){Yd=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Wd(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Wd(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Vd(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Zd(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Vd(r,o,a,i,l,"next",e)}function l(e){Vd(r,o,a,i,l,"throw",e)}i(void 0)}))}}const eg=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=ru(),o=n.mats,a=n.Currency,r=n.getMats_Buylist,i=n.getMats_nonMonthly,l=n.sendBuylistMail,s=n.submitBuylist,c=n.getCurrency,u=Ql(),p=u.mats_SXB,g=u.getMats;(0,S.KC)(Zd(Yd().mark((function e(){return Yd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B.isLoading=!0,e.next=3,c();case 3:case"end":return e.stop()}}),e)}))));var h=(0,d.KR)("USD"),f=(0,d.KR)(!0),b=(0,d.KR)(!1),m=(0,d.KR)(e.appContext.config.globalProperties.$t("validation.required")),v=[],y=(0,d.KR)(!1),w=(0,d.KR)(!1),x=(0,d.KR)(!1),k=(0,d.KR)(null),L=(0,d.KR)(null),C=((0,d.KR)(null),[]),_=[],P=[],E=(0,d.KR)(""),A=(0,d.KR)(""),I=(0,d.KR)(""),$=(0,d.KR)(""),R=(0,d.KR)(!0),T=(0,d.Kh)([]),M=(0,d.Kh)([]),O=function(){var e=Zd(Yd().mark((function e(){return Yd().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xd("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var t=Zd(Yd().mark((function t(){var n,o,a,r,i,l,s,c,u,p,d;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:for(n=new Date,o=String(n.getDate()).padStart(2,"0"),a=String(n.getMonth()+1).padStart(2,"0"),r=n.getFullYear(),n=r+"_"+a+"_"+o,i=[],l=0;l<T.length;l++)(s={}).料號=T[l].料號,s.品名=T[l].品名,s.規格=T[l].規格,s.單價=T[l].單價,s.幣別1=T[l].幣別,s.當月需求=parseFloat(T[l].當月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),s.下月需求=parseFloat(T[l].下月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),s.現有庫存=parseInt(T[l].現有庫存).toLocaleString("en-US"),s.在途量=parseInt(T[l].在途量).toLocaleString("en-US"),s.本次請購數量=parseInt(T[l].本次請購數量).toLocaleString("en-US"),s.請購金額=parseFloat(T[l].請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),s.幣別2=T[l].幣別,s.匯率=parseFloat(T[l].匯率).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),s.MOQ=T[l].MOQ,i.push(s);return c=new(fe().Workbook),(u=c.addWorksheet(e.appContext.config.globalProperties.$t("monthlyPRpageLang.PR"))).columns=[{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),key:"料號",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),key:"品名",width:20},{header:e.appContext.config.globalProperties.$t("inboundpageLang.format"),key:"規格",width:20},{header:e.appContext.config.globalProperties.$t("basicInfoLang.price"),key:"單價",width:20},{header:e.appContext.config.globalProperties.$t("basicInfoLang.money"),key:"幣別1",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"),key:"當月需求",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"),key:"下月需求",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowstock"),key:"現有庫存",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"),key:"在途量",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"),key:"本次請購數量",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),key:"請購金額",width:20},{header:e.appContext.config.globalProperties.$t("basicInfoLang.money"),key:"幣別2",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice")+"(USD)",key:"匯率",width:20},{header:e.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"),key:"MOQ",width:20}],i.forEach((function(e){u.addRow(e)})),t.next=15,c.xlsx.writeBuffer();case 15:p=t.sent,d=new Blob([p],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(d,e.appContext.config.globalProperties.$t("monthlyPRpageLang.PR")+"_"+n+".xlsx"),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy");case 20:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Zd(Yd().mark((function t(n){var o,a,r,i,u,p,d,g,h,f,w,k,L,S,E,A,I,$,R,M,N,j;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:if(b.value=!1,o=!1,!n&&!x.value){t.next=13;break}if(!(v.length<=0)){t.next=11;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy"),t.abrupt("return");case 11:t.next=18;break;case 13:if(!(T.length<=0)){t.next=18;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy"),t.abrupt("return");case 18:for(a=[],r=[],i=[],u=[],p=[],d=[],g=[],h=[],f=[],w=[],k=[],L=[],S=[],(E=n||x.value?v:T).sort((function(e,t){return t.匯率-e.匯率})),A=0;A<E.length;A++)parseInt(E[A].本次請購數量)>0?(a.push(E[A].料號),r.push(E[A].品名),i.push(E[A].規格),u.push(E[A].單價),p.push(parseFloat(E[A].當月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),d.push(parseFloat(E[A].下月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),g.push(parseInt(E[A].現有庫存).toLocaleString("en-US")),h.push(parseInt(E[A].在途量).toLocaleString("en-US")),f.push(parseInt(E[A].本次請購數量).toLocaleString("en-US")),w.push(parseFloat(E[A].請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),k.push(E[A].幣別),L.push(parseFloat(E[A].匯率).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")),S.push(E[A].MOQ)):o=!0;if(!(a.length<=0)){t.next=43;break}return b.value=!0,m.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.no_req_amount_to_submit"),notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy"),t.abrupt("return");case 43:o&&(b.value=!0,m.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.some_data_has_no_amount"),notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.some_data_has_no_amount"),duration:5e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}));case 44:return I=Date.now(),t.next=47,l(a,r,i,u,p,d,g,h,f,w,k,L,S);case 47:if($=t.sent,R=Date.now()-I,console.log("Total time taken : "+R+" milliseconds"),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy"),n||x.value){for(M=v.map((function(e){return e.料號})),N=_.length-1;N>=0;N--)M.includes(_[N])||(_.splice(N,1),P.splice(N,1));for(j=C.length-1;j>=0;j--)M.includes(C[j])||C.splice(j,1)}if("success"!==$){t.next=60;break}return t.next=56,s(a,r,i,u,p,d,g,h,f,w,k,L,S,C,P,_);case 56:"success"===($=t.sent)?(y.value=!1,notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.total")+" "+T.length+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.record")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})):notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),t.next=61;break;case 60:notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.sent_email_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 61:return t.next=63,c();case 63:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();(0,S.wB)(a,Zd(Yd().mark((function t(){var n,l,s,c,u,d,h,b,m,v,x;return Yd().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O();case 2:return T.splice(0),"Not Found"===a.value&&(notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("monthlyPRpageLang.exchangerate_notfound"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy")),n=new Date,(l=new Date).setDate(n.getDate()-20),sessionStorage.clear(),sessionStorage.setItem("sxbisn",null),sessionStorage.setItem("sxbsend",null),sessionStorage.setItem("sxbbegin",JSON.stringify(l.toISOString().split("T")[0])),sessionStorage.setItem("sxbend",JSON.stringify(n.toISOString().split("T")[0])),t.next=14,g();case 14:if(C=[],_=[],P=[],f.value=!1,s=a.value.rates,!1!==f.value){t.next=38;break}return t.next=22,r();case 22:return k.value=JSON.parse(o.value).data,t.next=25,i();case 25:for(L.value=JSON.parse(o.value).data,c={},u=[],d=0;d<k.value.length;d++)c.料號=k.value[d].料號.toString().trim(),c.品名=k.value[d].品名.toString().trim(),c.單位=k.value[d].單位.toString().trim(),c.規格=k.value[d].規格.toString().trim(),c.單價=parseFloat(k.value[d].單價),c.當月需求=parseInt(k.value[d].本月MPS)*parseFloat(k.value[d].單耗)/1e3,c.下月需求=parseInt(k.value[d].下月MPS)*parseFloat(k.value[d].單耗)/1e3,null===k.value[d].total_stock?c.現有庫存=0:c.現有庫存=parseInt(k.value[d].total_stock),null===k.value[d].in_transit?c.在途量=0:c.在途量=Math.round(parseFloat(k.value[d].in_transit)),c.本次請購數量=Math.ceil(c.當月需求+c.下月需求),c.請購金額=parseFloat((c.本次請購數量*c.單價).toFixed(5)),c.幣別=k.value[d].幣別.toString().trim().toUpperCase(),"RMB"==c.幣別?c.匯率=parseFloat((c.請購金額*(s.USD/s.CNY)).toFixed(5)):c.匯率=parseFloat((c.請購金額*(s.USD/s[c.幣別])).toFixed(5)),c.MOQ=parseInt(k.value[d].MOQ.toString().trim()),c.id=d,u.push(c),_.push(c.料號),P.push(k.value[d].料號90),c={};for(h=0;h<L.value.length;h++)c.料號=L.value[h].料號.toString().trim(),c.品名=L.value[h].品名.toString().trim(),c.單位=L.value[h].單位.toString().trim(),c.規格=L.value[h].規格.toString().trim(),c.單價=parseFloat(L.value[h].單價),c.當月需求=parseFloat(L.value[h].當月需求),c.下月需求=parseFloat(L.value[h].下月需求),null===L.value[h].total_stock?c.現有庫存=0:c.現有庫存=parseInt(L.value[h].total_stock),null===L.value[h].in_transit?c.在途量=0:c.在途量=Math.round(parseFloat(L.value[h].in_transit)),c.本次請購數量=Math.ceil(c.當月需求+c.下月需求),c.請購金額=parseFloat((c.本次請購數量*c.單價).toFixed(5)),c.幣別=L.value[h].幣別.toString().trim().toUpperCase(),"RMB"==c.幣別?c.匯率=parseFloat((c.請購金額*(s.USD/s.CNY)).toFixed(5)):c.匯率=parseFloat((c.請購金額*(s.USD/s[c.幣別])).toFixed(5)),c.MOQ=parseInt(L.value[h].MOQ.toString().trim()),c.id=h+k.value.length,u.push(c),C.push(c.料號),c={};b=Object.values(u.reduce((function(e,t){return e[t.料號]||(e[t.料號]={id:t.id,料號:t.料號,品名:t.品名,規格:t.規格,單位:t.單位,單價:t.單價,當月需求:0,下月需求:0,現有庫存:t.現有庫存,在途量:t.在途量,本次請購數量:0,請購金額:0,幣別:t.幣別,匯率:0,MOQ:t.MOQ}),e[t.料號].當月需求+=t.當月需求,e[t.料號].下月需求+=t.下月需求,e}),{})),m=Object.values(b.reduce((function(e,t){return e[t.料號]||(e[t.料號]={id:t.id,料號:t.料號,品名:t.品名,單位:t.單位,規格:t.規格,單價:t.單價,當月需求:t.當月需求,下月需求:t.下月需求,現有庫存:t.現有庫存,在途量:t.在途量,本次請購數量:0,請購金額:0,幣別:t.幣別,匯率:0,MOQ:t.MOQ}),e[t.料號].本次請購數量=Math.ceil(t.當月需求+t.下月需求-t.現有庫存-t.在途量),e[t.料號].本次請購數量<0&&(e[t.料號].本次請購數量=0),e[t.料號].請購金額=parseFloat((e[t.料號].本次請購數量*t.單價).toFixed(5)),"RMB"==t.幣別?e[t.料號].匯率=parseFloat((e[t.料號].請購金額*(s.USD/s.CNY)).toFixed(5)):e[t.料號].匯率=parseFloat((e[t.料號].請購金額*(s.USD/s[t.幣別])).toFixed(5)),e}),{})),Object.assign(T,m.map((function(e){return e}))),v=m.map((function(e){return e.料號})),x=JSON.parse(p.value).datas.map((function(e){return e.料號})),w.value=v.some((function(e){return x.includes(e)})),w.value&&(I.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning1"),$.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning2"),M.splice(0),Object.assign(M,JSON.parse(p.value).datas.flatMap((function(e){if("已退單"!==e.SRM單號){var t={};return t.料號=e.料號,t.品名=e.品名,t.單位=e.單位,t.規格=e.規格,t.單號=e.SXB單號,t.狀態=e.SRM單號,t.請購金額=parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),t.幣別=e.幣別.toString().trim().toUpperCase(),t.請購量=parseInt(e.本次請購數量),t.請購時間=e.請購時間,t.開單人員=e.開單人員,t.現有庫存=parseInt(e.現有庫存),t}return[]})))),M.length<=0&&(w.value=!1);case 38:T.length>0?y.value=!0:y.value=!1,Xd("body").loadingModal("hide"),Xd("body").loadingModal("destroy"),B.isLoading=!1;case 42:case"end":return t.stop()}}),t)}))));var B=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="isn'+e.id+'" name="isn'+t+'" value="'+e.料號+'"><div class="scrollableWithoutScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("inboundpageLang.format"),field:"規格",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:e.appContext.config.globalProperties.$t("basicInfoLang.price"),field:"單價",width:"9ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="price'+t+'" name="price'+t+'" value="'+e.單價+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.單價+" <small>"+e.幣別+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"),field:"當月需求",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowneed'+t+'" name="nowneed'+t+'" value="'+e.當月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.當月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"),field:"下月需求",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nextneed'+e.id+'" name="nextneed'+t+'" value="'+e.下月需求+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.下月需求).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.nowstock"),field:"現有庫存",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="nowstock'+e.id+'" name="nowstock'+t+'" value="'+e.現有庫存+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.現有庫存).toLocaleString("en-US")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"),field:"在途量",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="transit'+t+'" name="transit'+t+'" value="'+e.在途量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.在途量).toLocaleString("en-US")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"),field:"本次請購數量",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyamount'+e.id+'" name="buyamount'+t+'" value="'+e.本次請購數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.本次請購數量).toLocaleString("en-US")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),field:"請購金額",width:"11ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="buyprice'+e.id+'" name="buyprice'+t+'" value="'+e.請購金額+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" <small>"+e.幣別+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice")+"(USD)",field:"匯率",width:"13ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="rate'+e.id+'" name="rate'+t+'" value="'+e.匯率+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseFloat(e.匯率).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,",")+" <small>USD</small></div>"}},{label:e.appContext.config.globalProperties.$t("basicInfoLang.moq"),field:"MOQ",width:"8ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="moq'+e.id+'" name="moq'+t+'" value="'+e.MOQ+'"><div class="scrollableWithoutScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.MOQ+" <small>"+e.單位+"</small></div>"}}],rows:(0,d.EW)((function(){return T.filter((function(e){return e.料號.toLowerCase().includes(E.value.toLowerCase())||e.品名.includes(E.value)}))})),totalRecordCount:(0,d.EW)((function(){return B.rows.length})),sortable:{order:"匯率",sort:"desc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]}),D=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"),field:"請購時間",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.請購時間+"</div>"}},{label:e.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1"),field:"請購量",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+parseInt(e.請購量).toLocaleString("en-US")+" <small>"+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"),field:"請購金額",width:"11ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.請購金額+" <small>"+e.幣別+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"),field:"開單人員",width:"8ch",sortable:!0,display:function(e,t){return null!==e.開單人員&&void 0!==e.開單人員||(e.開單人員="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單人員+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.status"),field:"狀態",width:"6ch",sortable:!0,display:function(t,n){return"未簽核"===t.狀態?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; color: #dca120;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_pending")+"</div>":"已退單"===t.狀態?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; color: #808080;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_cancel")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%; color: #2bb91b;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.review_complete")+"</div>"}}],rows:(0,d.EW)((function(){return M.filter((function(e){return e.料號.toLowerCase().includes(A.value.toLowerCase())||e.品名.includes(A.value)}))})),totalRecordCount:(0,d.EW)((function(){return D.rows.length})),sortable:{order:"請購金額",sort:"desc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{selectedValue2:h,isInvalid:f,isInvalid_DB:b,validation_err_msg:m,uploadToDBReady:y,needConfirm:w,needConfirm2:x,searchTerm:E,searchTerm2:A,table:B,table2:D,modalTitle1:I,modalTitle2:$,showFooter:R,updateCheckedRows:function(t){v=t;var n=JSON.parse(p.value).datas.map((function(e){return e.料號})),o=t.map((function(e){return e.料號}));x.value=o.some((function(e){return n.includes(e)})),M.splice(0),x.value&&(I.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning1"),$.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning2"),Object.assign(M,JSON.parse(p.value).datas.flatMap((function(e){if("已退單"!==e.SRM單號){var t={};return t.料號=e.料號,t.品名=e.品名,t.單位=e.單位,t.規格=e.規格,t.單號=e.SXB單號,t.狀態=e.SRM單號,t.請購金額=parseFloat(e.請購金額).toFixed(2).replace(/\B(?<!\.\d*)(?=(\d{3})+(?!\d))/g,","),t.幣別=e.幣別.toString().trim().toUpperCase(),t.請購量=parseInt(e.本次請購數量),t.請購時間=e.請購時間,t.開單人員=e.開單人員,t.現有庫存=parseInt(e.現有庫存),t}return[]})))),M.length<=0&&(x.value=!1)},deleteRow:function(){if(0!=v.length){for(var t=function(e){var t=T.findIndex((function(t){return parseInt(t.id)===parseInt(v[e].id)}));-1!=t&&T.splice(t,1)},n=0;n<v.length;n++)t(n);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),v=[]}else notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})},OutputExcelClick:N,onSendClick:j}}});var tg=n(9534),ng={insert:"head",singleton:!1};ft()(tg.A,ng);tg.A.locals;const og=(0,y.A)(eg,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",pd,[(0,d.Lk)("div",dd,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("monthlyPRpageLang.PR")),1)]),(0,d.Lk)("div",gd,[(0,d.Lk)("div",hd,[(0,d.Lk)("div",fd,[(0,d.Lk)("div",bd,[(0,d.Lk)("label",md,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",vd,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,yd),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",wd,[(0,d.Lk)("button",{id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",onClick:t[1]||(t[1]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[8]||(t[8]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)])),t[10]||(t[10]=(0,d.eW)("   ")),(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[2]||(t[2]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)})},t[9]||(t[9]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,xd)])]),t[17]||(t[17]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",kd,[e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Ld,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):((0,d.uX)(),(0,d.CE)("span",Cd,t[11]||(t[11]=[(0,d.Lk)("strong",null,null,-1)]))),(0,d.Lk)("span",_d,(0,d.v_)(e.$t("monthlyPRpageLang.shallow_delete")),1)]),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[3]||(t[3]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[18]||(t[18]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.bo)((0,d.Lk)("div",Pd,[e.needConfirm2?((0,d.uX)(),(0,d.CE)("div",Sd,[(0,d.Lk)("button",Ed,[t[12]||(t[12]=(0,d.Lk)("i",{class:"bi bi-envelope-check"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.SendSelectedPRReview")),1)])])):((0,d.uX)(),(0,d.CE)("div",Ad,[(0,d.Lk)("button",{onClick:t[4]||(t[4]=function(t){return e.onSendClick(!0,t)}),type:"button",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-outline-info"},[t[13]||(t[13]=(0,d.Lk)("i",{class:"bi bi-envelope-check"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.SendSelectedPRReview")),1)])])),t[16]||(t[16]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.needConfirm?((0,d.uX)(),(0,d.CE)("div",Id,[(0,d.Lk)("button",$d,[t[14]||(t[14]=(0,d.Lk)("i",{class:"bi bi-envelope-at-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.SendPRReview")),1)])])):((0,d.uX)(),(0,d.CE)("div",Rd,[(0,d.Lk)("button",{onClick:t[5]||(t[5]=function(t){return e.onSendClick(!1,t)}),type:"button",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info"},[t[15]||(t[15]=(0,d.Lk)("i",{class:"bi bi-envelope-at-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.SendPRReview")),1)])]))],512),[[d.aG,e.uploadToDBReady]])])]),(0,d.Lk)("div",Td,[(0,d.Lk)("div",Md,[(0,d.Lk)("div",Od,[(0,d.Lk)("div",Nd,[(0,d.Lk)("div",jd,[(0,d.Lk)("span",Bd,[(0,d.Lk)("b",null,(0,d.v_)(e.modalTitle1),1)]),t[19]||(t[19]=(0,d.Lk)("div",{class:"w-100",style:{height:"0ch"}},null,-1)),(0,d.Lk)("span",Dd,[(0,d.Lk)("b",null,(0,d.v_)(e.modalTitle2),1)])]),t[20]||(t[20]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",Fd,[(0,d.Lk)("div",Ud,[(0,d.Lk)("div",qd,[(0,d.Lk)("div",Kd,[(0,d.Lk)("label",Gd,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Jd,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput2",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.searchTerm2=t})},null,8,Qd),[[d.Jo,e.searchTerm2]])])])]),t[21]||(t[21]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table2.messages,columns:e.table2.columns,rows:e.table2.rows,total:e.table2.totalRecordCount,"page-options":e.table2.pageOptions,sortable:e.table2.sortable,"is-fixed-first-column":!1},null,8,["messages","columns","rows","total","page-options","sortable"])]),e.showFooter?((0,d.uX)(),(0,d.CE)("div",zd,[(0,d.Lk)("button",Hd,(0,d.v_)(e.$t("templateWords.cancel")),1),(0,d.Lk)("button",{onClick:t[7]||(t[7]=function(t){return e.onSendClick(!1,t)}),type:"button",class:"btn btn-lg btn-success",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("monthlyPRpageLang.confirm_pr")),1)])):(0,d.Q3)("",!0)])])])],64)}],["__scopeId","data-v-0bda0809"]]);var ag={class:"row",style:{"text-align":"left"}},rg={class:"col col-auto"},ig={for:"pnInput",class:"col-form-label"},lg={class:"col col-3 p-0 m-0"},sg=["placeholder"];function cg(e){return cg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(e)}function ug(){ug=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==cg(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(cg(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function pg(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function dg(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=ug().mark((function n(){var o,a,r,i,l,s,c,u,p;return ug().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("oboundclient"),r=sessionStorage.getItem("oboundisn"),i=sessionStorage.getItem("oboundbound"),l=sessionStorage.getItem("oboundcheck"),s=sessionStorage.getItem("oboundbegin"),c=sessionStorage.getItem("oboundend"),n.prev=10,n.next=13,yt.A.post("/api/obound/inboundsearch",{DB:o.data,oboundbound:i,oboundclient:a,oboundisn:r,oboundcheck:l,oboundbegin:s,oboundend:c});case 13:u=n.sent,e.value=JSON.stringify(u.data),n.next=22;break;case 17:for(p in n.prev=17,n.t0=n.catch(10),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[p][0]+"  ";console.log(t.value);case 22:case"end":return n.stop()}}),n,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){pg(r,o,a,i,l,"next",e)}function l(e){pg(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}var gg=n(4692);const hg=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=dg(),t=e.mats,n=e.getMats;(0,S.KC)(n);var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]);(0,S.wB)(t,(function(){console.log(JSON.parse(t.value));for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);document.getElementById("QueryFlag").click(),l.isLoading=!1}));var l=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("oboundpageLang.inlist"),field:"入庫單號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<input type="hidden" id="inboundlist'+t+'" name="inboundlist'+t+'" value="'+e.入庫單號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫單號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pName"),field:"品名",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.format"),field:"規格",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.client"),field:"客戶別",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="client'+t+'" name="client'+t+'" value="'+e.客戶別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.客戶別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.bound"),field:"庫別",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="bound'+t+'" name="bound'+t+'" value="'+e.庫別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.庫別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.inboundnum"),field:"入庫數量",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundnum'+t+'" name="inboundnum'+t+'" value="'+e.數量+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.數量+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.inpeople"),field:"入庫人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundpeople'+t+'" name="inboundpeople'+t+'" value="'+e.入庫人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.inboundtime"),field:"入庫時間",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundtime'+t+'" name="inboundtime'+t+'" value="'+e.時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.備註+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.inreason"),field:"入庫原因",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundreason'+t+'" name="inboundreason'+t+'" value="'+e.入庫原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫原因+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return l.rows.length})),sortable:{order:"入庫時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:l,updateCheckedRows:function(e){console.log(e);var t=gg(".vtl-paging-count-dropdown").val();e=parseInt(e);for(var n=0;n<t;n++)n!==e?gg("#checkbox"+n).prop("disabled",!0):gg("#checkbox"+n).prop("disabled",!1);isNaN(e)&&(console.log(1),gg(".vtl-tbody-checkbox").prop("disabled",!1))}}}});var fg=n(3459),bg={insert:"head",singleton:!1};ft()(fg.A,bg);fg.A.locals;const mg=(0,y.A)(hg,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",ag,[(0,d.Lk)("div",rg,[(0,d.Lk)("label",ig,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",lg,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,sg),[[d.Jo,e.searchTerm]])])]),t[2]||(t[2]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,isLoading:e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["isLoading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-1c55ee81"]]);var vg={class:"row",style:{"text-align":"left"}},yg={class:"col col-auto"},wg={for:"pnInput",class:"col-form-label"},xg={class:"col col-3 p-0 m-0"},kg=["placeholder"];function Lg(e){return Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lg(e)}function Cg(){Cg=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Lg(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Lg(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function _g(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Pg(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=Cg().mark((function n(){var o,a,r,i;return Cg().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("oboundisn"),n.prev=5,n.next=8,yt.A.post("/api/obound/isnsearch",{DB:o.data,oboundisn:a});case 8:r=n.sent,e.value=JSON.stringify(r.data),n.next=17;break;case 12:for(i in n.prev=12,n.t0=n.catch(5),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[i][0]+"  ";console.log(t.value);case 17:case"end":return n.stop()}}),n,null,[[5,12]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){_g(r,o,a,i,l,"next",e)}function l(e){_g(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}const Sg=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Pg(),t=e.mats,n=e.getMats;(0,S.KC)(n);var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]);(0,S.wB)(t,(function(){console.log(JSON.parse(t.value));for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);document.getElementById("QueryFlag").click(),l.isLoading=!1}));var l=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("oboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pName"),field:"品名",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.format"),field:"規格",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return l.rows.length})),sortable:{order:"料號",sort:"asc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:l,updateCheckedRows:function(e){console.log(e)}}}});var Eg=n(5288),Ag={insert:"head",singleton:!1};ft()(Eg.A,Ag);Eg.A.locals;const Ig=(0,y.A)(Sg,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",vg,[(0,d.Lk)("div",yg,[(0,d.Lk)("label",wg,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",xg,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,kg),[[d.Jo,e.searchTerm]])])]),t[2]||(t[2]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,isLoading:e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["isLoading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-1f965bdb"]]);var $g={class:"row",style:{"text-align":"left"}},Rg={class:"col col-auto"},Tg={for:"pnInput",class:"col-form-label"},Mg={class:"col col-3 p-0 m-0"},Og=["placeholder"];function Ng(e){return Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ng(e)}function jg(){jg=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Ng(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Ng(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Bg(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Dg(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=jg().mark((function n(){var o,a,r,i,l,s,c,u,p;return jg().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("oboundpickrecordclient"),r=sessionStorage.getItem("oboundpickrecordproduction"),i=sessionStorage.getItem("oboundpickrecordisn"),l=sessionStorage.getItem("oboundpickrecordcheck"),s=sessionStorage.getItem("oboundpickrecordbegin"),c=sessionStorage.getItem("oboundpickrecordend"),n.prev=10,n.next=13,yt.A.post("/api/obound/picklistsearch",{DB:o.data,oboundpickrecordclient:a,oboundpickrecordproduction:r,oboundpickrecordisn:i,oboundpickrecordcheck:l,oboundpickrecordbegin:s,oboundpickrecordend:c});case 13:u=n.sent,e.value=JSON.stringify(u.data),n.next=22;break;case 17:for(p in n.prev=17,n.t0=n.catch(10),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[p][0]+"  ";console.log(t.value);case 22:case"end":return n.stop()}}),n,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){Bg(r,o,a,i,l,"next",e)}function l(e){Bg(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}const Fg=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Dg(),t=e.mats,n=e.getMats;(0,S.KC)(n);var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]);(0,S.wB)(t,(function(){console.log(JSON.parse(t.value));for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);document.getElementById("QueryFlag").click(),l.isLoading=!1}));var l=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("oboundpageLang.client"),field:"客戶別",width:"12ch",sortable:!0,isKey:!0,display:function(e,t){return'<input type="hidden" id="client'+t+'" name="client'+t+'" value="'+e.客戶別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.客戶別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.machine"),field:"機種",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="machine'+t+'" name="machine'+t+'" value="'+e.機種+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.機種+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.process"),field:"製程",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="production'+t+'" name="production'+t+'" value="'+e.製程+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.製程+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.usereason"),field:"領用原因",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="usereason'+t+'" name="usereason'+t+'" value="'+e.領用原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領用原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.line"),field:"線別",width:"9ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="line'+t+'" name="line'+t+'" value="'+e.線別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.線別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pickamount"),field:"預領數量",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="pickamount'+t+'" name="pickamount'+t+'" value="'+e.預領數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.預領數量+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.realpickamount"),field:"實際領用數量",width:"22ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="realpickamount'+t+'" name="realpickamount'+t+'" value="'+e.實際領用數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實際領用數量+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.備註+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.diffreason"),field:"實領差異原因",width:"25ch",sortable:!0,display:function(e,t){return null===e.實領差異原因&&(e.實領差異原因=""),'<input type="hidden" id="diffreason'+t+'" name="diffreason'+t+'" value="'+e.實領差異原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實領差異原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.bound"),field:"庫別",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="bound'+t+'" name="bound'+t+'" value="'+e.庫別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.庫別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pickpeople"),field:"領料人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="pickpeople'+t+'" name="pickpeople'+t+'" value="'+e.領料人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pickpeoplenum"),field:"領料人員工號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="pickpeoplenum'+t+'" name="pickpeoplenum'+t+'" value="'+e.領料人員工號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領料人員工號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.sendpeople"),field:"發料人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="sendpeople'+t+'" name="sendpeople'+t+'" value="'+e.發料人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.發料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.sendpeoplenum"),field:"發料人員工號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="sendpeoplenum'+t+'" name="sendpeoplenum'+t+'" value="'+e.發料人員工號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.發料人員工號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.picklistnum"),field:"領料單號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="picklist'+t+'" name="picklist'+t+'" value="'+e.領料單號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.領料單號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.opentime"),field:"開單時間",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="opentime'+t+'" name="opentime'+t+'" value="'+e.開單時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.outboundtime"),field:"出庫時間",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="outboundtime'+t+'" name="outboundtime'+t+'" value="'+e.出庫時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.出庫時間+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return l.rows.length})),sortable:{order:"開單時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:l,updateCheckedRows:function(e){console.log(e)}}}});var Ug=n(9399),qg={insert:"head",singleton:!1};ft()(Ug.A,qg);Ug.A.locals;const Kg=(0,y.A)(Fg,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",$g,[(0,d.Lk)("div",Rg,[(0,d.Lk)("label",Tg,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Mg,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Og),[[d.Jo,e.searchTerm]])])]),t[2]||(t[2]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,isLoading:e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["isLoading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-9bffe4aa"]]);var Gg={class:"row",style:{"text-align":"left"}},Jg={class:"col col-auto"},Qg={for:"pnInput",class:"col-form-label"},zg={class:"col col-3 p-0 m-0"},Hg=["placeholder"];function Xg(e){return Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(e)}function Wg(){Wg=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Xg(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Xg(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Yg(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Vg(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=Wg().mark((function n(){var o,a,r,i,l,s,c,u,p;return Wg().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("oboundbackrecordclient"),r=sessionStorage.getItem("oboundbackrecordproduction"),i=sessionStorage.getItem("oboundbackrecordisn"),l=sessionStorage.getItem("oboundbackrecordcheck"),s=sessionStorage.getItem("oboundbackrecordbegin"),c=sessionStorage.getItem("oboundbackrecordend"),n.prev=10,n.next=13,yt.A.post("/api/obound/backlistsearch",{DB:o.data,oboundbackrecordclient:a,oboundbackrecordproduction:r,oboundbackrecordisn:i,oboundbackrecordcheck:l,oboundbackrecordbegin:s,oboundbackrecordend:c});case 13:u=n.sent,e.value=JSON.stringify(u.data),n.next=22;break;case 17:for(p in n.prev=17,n.t0=n.catch(10),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[p][0]+"  ";console.log(t.value);case 22:case"end":return n.stop()}}),n,null,[[10,17]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){Yg(r,o,a,i,l,"next",e)}function l(e){Yg(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}const Zg=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Vg(),t=e.mats,n=e.getMats;(0,S.KC)(n);var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]);(0,S.wB)(t,(function(){console.log(JSON.parse(t.value));for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);document.getElementById("QueryFlag").click(),l.isLoading=!1}));var l=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("oboundpageLang.client"),field:"客戶別",width:"12ch",sortable:!0,isKey:!0,display:function(e,t){return'<input type="hidden" id="client'+t+'" name="client'+t+'" value="'+e.客戶別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.客戶別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.machine"),field:"機種",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="machine'+t+'" name="machine'+t+'" value="'+e.機種+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.機種+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.process"),field:"製程",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="production'+t+'" name="production'+t+'" value="'+e.製程+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.製程+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backreason"),field:"退回原因",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="backreason'+t+'" name="backreason'+t+'" value="'+e.退回原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退回原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.line"),field:"線別",width:"9ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="line'+t+'" name="line'+t+'" value="'+e.線別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.線別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="number'+t+'" name="number'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="name'+t+'" name="name'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backamount"),field:"預退數量",width:"15ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="backamount'+t+'" name="backamount'+t+'" value="'+e.預退數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.預退數量+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.realbackamount"),field:"實際退回數量",width:"22ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="realbackamount'+t+'" name="realbackamount'+t+'" value="'+e.實際退回數量+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實際退回數量+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return null===e.備註&&(e.備註=""),'<input type="hidden" id="remark'+t+'" name="remark'+t+'" value="'+e.備註+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backdiffreason"),field:"實退差異原因",width:"25ch",sortable:!0,display:function(e,t){return null===e.實退差異原因&&(e.實退差異原因=""),'<input type="hidden" id="backdiffreason'+t+'" name="backdiffreason'+t+'" value="'+e.實退差異原因+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.實退差異原因+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.bound"),field:"庫別",width:"10ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="bound'+t+'" name="bound'+t+'" value="'+e.庫別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.庫別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.receivepeople"),field:"收料人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="receivepeople'+t+'" name="receivepeople'+t+'" value="'+e.收料人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.收料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.receivepeoplenum"),field:"收料人員工號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="receivepeoplenum'+t+'" name="receivepeoplenum'+t+'" value="'+e.收料人員工號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.收料人員工號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backpeople"),field:"退料人員",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="backpeople'+t+'" name="backpeople'+t+'" value="'+e.退料人員+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退料人員+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backpeoplenum"),field:"退料人員工號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="backpeoplenum'+t+'" name="backpeoplenum'+t+'" value="'+e.退料人員工號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退料人員工號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.backlistnum"),field:"退料單號",width:"17ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="backlist'+t+'" name="backlist'+t+'" value="'+e.退料單號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.退料單號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.opentime"),field:"開單時間",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="opentime'+t+'" name="opentime'+t+'" value="'+e.開單時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.開單時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.inboundtime"),field:"入庫時間",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="inboundtime'+t+'" name="inboundtime'+t+'" value="'+e.入庫時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.入庫時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.status"),field:"功能狀況",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="status'+t+'" name="status'+t+'" value="'+e.功能狀況+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.功能狀況+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return l.rows.length})),sortable:{order:"開單時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:l,updateCheckedRows:function(e){console.log(e)}}}});var eh=n(2290),th={insert:"head",singleton:!1};ft()(eh.A,th);eh.A.locals;const nh=(0,y.A)(Zg,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Gg,[(0,d.Lk)("div",Jg,[(0,d.Lk)("label",Qg,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",zg,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Hg),[[d.Jo,e.searchTerm]])])]),t[2]||(t[2]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,isLoading:e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["isLoading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-586d61e0"]]);var oh={class:"row",style:{"text-align":"left"}},ah={class:"col col-auto"},rh={for:"pnInput",class:"col-form-label"},ih={class:"col col-3 p-0 m-0"},lh=["placeholder"];function sh(e){return sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(e)}function ch(){ch=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==sh(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(sh(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function uh(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function ph(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=ch().mark((function n(){var o,a,r,i,l,s,c;return ch().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",n.next=3,yt.A.post("/getCurrentDB");case 3:return o=n.sent,a=sessionStorage.getItem("oboundstockclient"),r=sessionStorage.getItem("oboundstockisn"),i=sessionStorage.getItem("oboundstockbound"),l=sessionStorage.getItem("oboundstocknogood"),n.prev=8,n.next=11,yt.A.post("/api/obound/searchstock",{DB:o.data,oboundclient:a,oboundisn:r,oboundbound:i,oboundnogood:l});case 11:s=n.sent,e.value=JSON.stringify(s.data),n.next=20;break;case 15:for(c in n.prev=15,n.t0=n.catch(8),console.log(n.t0),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[c][0]+"  ";console.log(t.value);case 20:case"end":return n.stop()}}),n,null,[[8,15]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){uh(r,o,a,i,l,"next",e)}function l(e){uh(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}const dh=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=ph(),t=e.mats,n=e.getMats;(0,S.KC)(n);var o=(0,d.KR)(""),a=(0,S.nI)(),r=document.getElementsByTagName("HTML")[0].getAttribute("lang");a.appContext.config.globalProperties.$lang.setLocale(r);var i=(0,d.Kh)([]);(0,S.wB)(t,(function(){console.log(JSON.parse(t.value));for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)i.push(e.datas[n]);document.getElementById("QueryFlag").click(),l.isLoading=!1}));var l=(0,d.Kh)({isLoading:!0,columns:[{label:a.appContext.config.globalProperties.$t("oboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<input type="hidden" id="isn'+t+'" name="isn'+t+'" value="'+e.料號+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.nowstock"),field:"現有庫存",width:"12ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="stock'+t+'" name="stock'+t+'" value="'+e.現有庫存+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.現有庫存+" <small>"+e.單位+"</small></div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.client"),field:"客戶別",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="client'+t+'" name="client'+t+'" value="'+e.客戶別+'"><div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.客戶別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.bound"),field:"庫別",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="bound'+t+'" name="bound'+t+'" value="'+e.庫別+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.庫別+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.updatetime"),field:"最後更新時間",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="updatetime'+t+'" name="updatetime'+t+'" value="'+e.最後更新時間+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.最後更新時間+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="pName'+t+'" name="pName'+t+'" value="'+e.品名+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:a.appContext.config.globalProperties.$t("oboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<input type="hidden" id="format'+t+'" name="format'+t+'" value="'+e.規格+'"><div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}}],rows:(0,d.EW)((function(){return i.filter((function(e){return e.料號.toLowerCase().includes(o.value.toLowerCase())||e.品名.includes(o.value)}))})),totalRecordCount:(0,d.EW)((function(){return l.rows.length})),sortable:{order:"最後更新時間",sort:"desc"},messages:{pagingInfo:a.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+a.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+a.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+a.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:a.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:a.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:a.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:o,table:l,updateCheckedRows:function(e){console.log(e)}}}});var gh=n(6725),hh={insert:"head",singleton:!1};ft()(gh.A,hh);gh.A.locals;const fh=(0,y.A)(dh,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",oh,[(0,d.Lk)("div",ah,[(0,d.Lk)("label",rh,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",ih,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,lh),[[d.Jo,e.searchTerm]])])]),t[2]||(t[2]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!1,isLoading:e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["isLoading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"])],64)}],["__scopeId","data-v-06e9ccbd"]]);function bh(e){return bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(e)}function mh(){mh=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==bh(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(bh(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function vh(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function yh(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=mh().mark((function n(){var o,a;return mh().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.value="",yt.A.interceptors.request.use((function(e){return e}),(function(e){return console.log(e),Promise.reject(e)})),n.prev=2,n.t0=yt.A,n.next=6,yt.A.post("/getCurrentDB");case 6:return n.t1=n.sent,n.t2={DB:n.t1},n.next=10,n.t0.post.call(n.t0,"/api/news",n.t2);case 10:o=n.sent,e.value=JSON.stringify(o.data),n.next=19;break;case 14:for(a in n.prev=14,n.t3=n.catch(2),console.log(n.t3),n.t3.response.data.errors)t.value+=n.t3.response.data.errors[a][0]+"  ";console.log(t.value);case 19:case"end":return n.stop()}}),n,null,[[2,14]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){vh(r,o,a,i,l,"next",e)}function l(e){vh(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{news:e,getNews:n}}function wh(e){return wh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(e)}function xh(){xh=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==wh(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(wh(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function kh(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Lh(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){kh(r,o,a,i,l,"next",e)}function l(e){kh(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Ch=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=yh(),t=e.news,n=e.getNews;(0,S.KC)(Lh(xh().mark((function e(){return xh().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.isLoading=!0,e.next=3,n();case 3:case"end":return e.stop()}}),e)}))));var o=(0,S.nI)(),a=document.getElementsByTagName("HTML")[0].getAttribute("lang");o.appContext.config.globalProperties.$lang.setLocale(a);var r=(0,d.Kh)([]);(0,S.wB)(t,(function(){for(var e=JSON.parse(t.value),n=0;n<e.datas.length;n++)r.push(e.datas[n]);document.getElementById("QueryFlag").click(),i.isLoading=!1}));var i=(0,d.Kh)({isLoading:!0,columns:[{label:o.appContext.config.globalProperties.$t("templateWords.cat"),field:"cat",width:"8ch",sortable:!0,display:function(e,t){return"urgent"===e.level?'<span id="'+e.id+'" class="col col-auto text-danger-emphasis">'+e.category+"</span>":"important"===e.level?'<span id="'+e.id+'" class="col col-auto text-warning-emphasis">'+e.category+"</span>":'<span id="'+e.id+'" class="col col-auto">'+e.category+"</span>"}},{label:o.appContext.config.globalProperties.$t("templateWords.title"),field:"title",width:"13ch",sortable:!0,display:function(e,t){return"urgent"===e.level?'<span class="col col-auto text-danger-emphasis">'+e.title+"</span>":"important"===e.level?'<span class="col col-auto text-warning-emphasis">'+e.title+"</span>":'<span class="col col-auto">'+e.title+"</span>"}},{label:o.appContext.config.globalProperties.$t("templateWords.dateOfNotice"),field:"date",width:"8ch",sortable:!0,display:function(e,t){return"urgent"===e.level?'<span class="col col-auto text-danger-emphasis">'+e.updated_at+"</span>":"important"===e.level?'<span class="col col-auto text-warning-emphasis">'+e.updated_at+"</span>":'<span class="col col-auto">'+e.updated_at+"</span>"}}],rows:[],totalRecordCount:(0,d.EW)((function(){return i.rows.length})),sortable:{order:"date",sort:"desc"},messages:{pagingInfo:o.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+o.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+o.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+o.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:o.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:o.appContext.config.globalProperties.$t("basicInfoLang.go_to_page")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{table:i,rowClicked:function(e){console.log("Row clicked ! on "+e)}}}}),_h=(0,y.A)(Ch,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.Wv)(i,{"is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[0]||(t[0]=function(t){return e.table.isLoading=!1}),onRowClicked:e.rowClicked},null,8,["messages","columns","rows","total","page-options","sortable","is-loading","onRowClicked"])}]]);var Ph={class:"card w-100"},Sh={class:"card w-100"};var Eh={class:"card-header row align-items-center"},Ah={class:"col col-auto align-middle m-0 p-0"},Ih={class:"card-body"},$h={class:"row justify-content-between"},Rh={class:"row col col-auto"},Th={class:"col col-auto"},Mh={for:"pnInput",class:"col-form-label"},Oh={class:"col col-auto p-0 m-0"},Nh=["placeholder"],jh={class:"col col-auto"},Bh=["value"],Dh={class:"CustomScrollbar text-nowrap",style:{"overflow-x":"auto",width:"100%"}},Fh={class:"col col-auto align-items-center m-0 p-0"},Uh={class:"m-0 p-0",style:{width:"12ch"}},qh={class:"col col-auto align-items-center m-0 p-0"},Kh={class:"m-0 p-0",style:{width:"12ch"}},Gh={class:"col col-auto align-items-center m-0 p-0"},Jh={class:"m-0 p-0",style:{width:"12ch"}},Qh={class:"CustomScrollbar text-nowrap",style:{"overflow-x":"auto",width:"100%"}};var zh=new Date,Hh=(0,d.KR)(zh.getFullYear()),Xh=(0,d.KR)(zh.getMonth()),Wh=(0,d.Kh)([]),Yh=(0,d.KR)([0,0,0,0,0,0,0,0,0,0,0,0]),Vh=(0,d.KR)([0,0,0,0,0,0,0,0,0,0,0,0]),Zh=(0,d.KR)(""),ef=(0,d.Kh)([]),tf=(0,d.Kh)({isLoading:!0,columns:[{label:Lang.get("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0},{label:Lang.get("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:Lang.get("monthlyPRpageLang.buyamount1"),field:"請購數量",width:"12ch",sortable:!0},{label:Lang.get("outboundpageLang.realpickamount"),field:"實際領用數量",width:"10ch",sortable:!0},{label:Lang.get("callpageLang.req_vs_real"),field:"需求與領用差異量",width:"13ch",sortable:!0},{label:Lang.get("callpageLang.req_vs_real_percent"),field:"需求與領用差異",width:"13ch",sortable:!0}],rows:(0,d.EW)((function(){return ef.filter((function(e){return null!=e.料號&&(e.料號.toLowerCase().includes(Zh.value.toLowerCase())||e.品名.includes(Zh.value))}))})),totalRecordCount:(0,d.EW)((function(){return tf.rows.length})),sortable:{order:"需求與領用差異量",sort:"desc"},messages:{pagingInfo:Lang.get("basicInfoLang.now_showing")+" {0} ~ {1} "+Lang.get("basicInfoLang.record")+", "+Lang.get("basicInfoLang.total")+" {2} "+Lang.get("basicInfoLang.record"),pageSizeChangeLabel:Lang.get("basicInfoLang.records_per_page"),gotoPageLabel:Lang.get("basicInfoLang.go_to_page"),noDataAvailable:Lang.get("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});function nf(e){return nf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(e)}function of(){of=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==nf(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(nf(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function af(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function rf(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var n,o=(n=of().mark((function n(){var o,a,r,i=arguments;return of().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=i.length>0&&void 0!==i[0]?i[0]:(new Date).getFullYear(),t.value="",n.next=4,yt.A.post("/getCurrentDB");case 4:return a=n.sent,n.prev=5,n.next=8,yt.A.post("/api/call/getYearlyDiff",{DB:a.data,Year:o});case 8:return r=n.sent,e.value=JSON.stringify(r.data),n.abrupt("return",new Promise((function(e,t){e("success")})));case 13:return n.prev=13,n.t0=n.catch(5),console.log(n.t0),n.abrupt("return",n.t0);case 17:case"end":return n.stop()}}),n,null,[[5,13]])})),function(){var e=this,t=arguments;return new Promise((function(o,a){var r=n.apply(e,t);function i(e){af(r,o,a,i,l,"next",e)}function l(e){af(r,o,a,i,l,"throw",e)}i(void 0)}))});return function(){return o.apply(this,arguments)}}());return{mats:e,getMats:n}}var lf=n(4692);function sf(e){return sf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sf(e)}function cf(e){return function(e){if(Array.isArray(e))return uf(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return uf(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?uf(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function uf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function pf(){pf=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==sf(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(sf(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function df(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function gf(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){df(r,o,a,i,l,"next",e)}function l(e){df(r,o,a,i,l,"throw",e)}i(void 0)}))}}const hf=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=rf(),o=n.mats,a=n.getMats,r=ru(),i=r.Currency,l=r.getCurrency;(0,S.KC)(gf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return tf.isLoading=!0,e.next=3,l();case 3:return e.next=5,a();case 5:case"end":return e.stop()}}),e)}))));var s=(0,d.KR)(e.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split("_")),c=(0,d.KR)(s.value[Xh.value]),u=function(){var e=gf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return lf("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var t=gf(pf().mark((function t(){var n,o,a,r;return pf().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u();case 2:return n=new(fe().Workbook),(o=n.addWorksheet(e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"))).addRow([e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent")]),ef.forEach((function(e){o.addRow([e.料號,e.品名,e.請購數量,e.實際領用數量,e.單位,e.需求與領用差異量,"".concat(e.需求與領用差異,"%")])})),t.next=8,n.xlsx.writeBuffer();case 8:a=t.sent,r=new Blob([a],{type:"application/octet-stream"}),me().saveAs(r,"".concat(e.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),".xlsx")),lf("body").loadingModal("hide"),lf("body").loadingModal("destroy");case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var e=gf(pf().mark((function e(t,n){var o,a,r,i,l,s,c,u,p,d,g,h,b,m,v,y,w,x,k,L,C;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=-99,a=pf().mark((function e(n){var a,r,i;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.inbound[t],r=1;case 2:if(!(r<3)){e.next=25;break}if(-1!=(i=t-r)){e.next=11;break}if(!f.buylist_lastyear[11].find((function(e){return e.料號===a[n].料號}))){e.next=9;break}return i>o&&(o=i),e.abrupt("break",25);case 9:e.next=22;break;case 11:if(-2!=i){e.next=18;break}if(!f.buylist_lastyear[10].find((function(e){return e.料號===a[n].料號}))){e.next=16;break}return i>o&&(o=i),e.abrupt("break",25);case 16:e.next=22;break;case 18:if(!f.buylist[i].find((function(e){return e.料號===a[n].料號}))){e.next=22;break}return i>o&&(o=i),e.abrupt("break",25);case 22:r++,e.next=2;break;case 25:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<f.inbound[t].length)){e.next=8;break}return e.delegateYield(a(r),"t0",5);case 5:r++,e.next=3;break;case 8:i=pf().mark((function e(){var a,r,i,s,c;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},r=f.inbound[t],a.料號=r[l].料號,a.品名=r[l].品名,-99==o?a.請購數量=0:-1==o?(i=f.buylist_lastyear[11].find((function(e){return e.料號===a.料號})))?(a.請購數量=parseFloat(i.本次請購數量),Number.isNaN(parseFloat(i.本次請購數量))&&(a.請購數量=0)):a.請購數量=0:-2==o?(s=f.buylist_lastyear[10].find((function(e){return e.料號===a.料號})))?(a.請購數量=parseFloat(s.本次請購數量),Number.isNaN(parseFloat(s.本次請購數量))&&(a.請購數量=0)):a.請購數量=0:(c=f.buylist[o].find((function(e){return e.料號===a.料號})))?(a.請購數量=parseFloat(c.本次請購數量),Number.isNaN(parseFloat(c.本次請購數量))&&(a.請購數量=0)):a.請購數量=0,a.單位=r[l].單位,a.實際領用數量=parseInt(r[l].入庫數量),a.需求與領用差異量=a.請購數量-a.實際領用數量,a.需求與領用差異=100*(a.請購數量-a.實際領用數量)/((a.請購數量+a.實際領用數量)/2),Number.isNaN(a.需求與領用差異)&&(a.需求與領用差異=0),a.單價=parseFloat(r[l].單價),a.幣別=r[l].幣別,n.push(a);case 13:case"end":return e.stop()}}),e)})),l=0;case 10:if(!(l<f.inbound[t].length)){e.next=15;break}return e.delegateYield(i(),"t1",12);case 12:l++,e.next=10;break;case 15:if(-99!=o){e.next=20;break}if(-1==(s=t-1))for(c=0;c<f.buylist_lastyear[11].length;c++)u=f.buylist_lastyear[11],(p={}).料號=u[c].料號,p.品名=u[c].品名,p.請購數量=parseFloat(u[c].本次請購數量),Number.isNaN(parseFloat(u[c].本次請購數量))&&(p.請購數量=0),p.單位=u[c].單位,p.實際領用數量=0,p.需求與領用差異量=p.請購數量-p.實際領用數量,p.需求與領用差異=100*(p.請購數量-p.實際領用數量)/((p.請購數量+p.實際領用數量)/2),Number.isNaN(p.需求與領用差異)&&(p.需求與領用差異=0),p.單價=parseFloat(u[c].單價),p.幣別=u[c].幣別,n.push(p);else if(-2==s)for(d=0;d<f.buylist_lastyear[10].length;d++)g=f.buylist_lastyear[10],(h={}).料號=g[d].料號,h.品名=g[d].品名,h.請購數量=parseFloat(g[d].本次請購數量),Number.isNaN(parseFloat(g[d].本次請購數量))&&(h.請購數量=0),h.單位=g[d].單位,h.實際領用數量=0,h.需求與領用差異量=h.請購數量-h.實際領用數量,h.需求與領用差異=100*(h.請購數量-h.實際領用數量)/((h.請購數量+h.實際領用數量)/2),Number.isNaN(h.需求與領用差異)&&(h.需求與領用差異=0),h.單價=parseFloat(g[d].單價),h.幣別=g[d].幣別,n.push(h);else for(b=0;b<f.buylist[s].length;b++)m=f.buylist[s],(v={}).料號=m[b].料號,v.品名=m[b].品名,v.請購數量=parseFloat(m[b].本次請購數量),Number.isNaN(parseFloat(m[b].本次請購數量))&&(v.請購數量=0),v.單位=m[b].單位,v.實際領用數量=0,v.需求與領用差異量=v.請購數量-v.實際領用數量,v.需求與領用差異=100*(v.請購數量-v.實際領用數量)/((v.請購數量+v.實際領用數量)/2),Number.isNaN(v.需求與領用差異)&&(v.需求與領用差異=0),v.單價=parseFloat(m[b].單價),v.幣別=m[b].幣別,n.push(v);e.next=47;break;case 20:if(-1!=o){e.next=30;break}y=pf().mark((function e(t){var o,a;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=f.buylist_lastyear[11],void 0===n.find((function(e){return e.料號===o[t].料號}))&&((a={}).料號=o[t].料號,a.品名=o[t].品名,a.請購數量=parseFloat(o[t].本次請購數量),Number.isNaN(parseFloat(o[t].本次請購數量))&&(a.請購數量=0),a.單位=o[t].單位,a.實際領用數量=0,a.需求與領用差異量=a.請購數量-a.實際領用數量,a.需求與領用差異=100*(a.請購數量-a.實際領用數量)/((a.請購數量+a.實際領用數量)/2),Number.isNaN(a.需求與領用差異)&&(a.需求與領用差異=0),a.單價=parseFloat(o[t].單價),a.幣別=o[t].幣別,n.push(a));case 3:case"end":return e.stop()}}),e)})),w=0;case 23:if(!(w<f.buylist_lastyear[11].length)){e.next=28;break}return e.delegateYield(y(w),"t2",25);case 25:w++,e.next=23;break;case 28:e.next=47;break;case 30:if(-2!=o){e.next=40;break}x=pf().mark((function e(t){var o,a;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=f.buylist_lastyear[10],void 0===n.find((function(e){return e.料號===o[t].料號}))&&((a={}).料號=o[t].料號,a.品名=o[t].品名,a.請購數量=parseFloat(o[t].本次請購數量),Number.isNaN(parseFloat(o[t].本次請購數量))&&(a.請購數量=0),a.單位=o[t].單位,a.實際領用數量=0,a.需求與領用差異量=a.請購數量-a.實際領用數量,a.需求與領用差異=100*(a.請購數量-a.實際領用數量)/((a.請購數量+a.實際領用數量)/2),Number.isNaN(a.需求與領用差異)&&(a.需求與領用差異=0),a.單價=parseFloat(o[t].單價),a.幣別=o[t].幣別,n.push(a));case 3:case"end":return e.stop()}}),e)})),k=0;case 33:if(!(k<f.buylist_lastyear[10].length)){e.next=38;break}return e.delegateYield(x(k),"t3",35);case 35:k++,e.next=33;break;case 38:e.next=47;break;case 40:L=pf().mark((function e(t){var a,r;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=f.buylist[o],void 0===n.find((function(e){return e.料號===a[t].料號}))&&((r={}).料號=a[t].料號,r.品名=a[t].品名,r.請購數量=parseFloat(a[t].本次請購數量),Number.isNaN(parseFloat(a[t].本次請購數量))&&(r.請購數量=0),r.單位=a[t].單位,r.實際領用數量=0,r.需求與領用差異量=r.請購數量-r.實際領用數量,r.需求與領用差異=100*(r.請購數量-r.實際領用數量)/((r.請購數量+r.實際領用數量)/2),Number.isNaN(r.需求與領用差異)&&(r.需求與領用差異=0),r.單價=parseFloat(a[t].單價),r.幣別=a[t].幣別,n.push(r));case 3:case"end":return e.stop()}}),e)})),C=0;case 42:if(!(C<f.buylist[o].length)){e.next=47;break}return e.delegateYield(L(C),"t4",44);case 44:C++,e.next=42;break;case 47:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=function(){var e=gf(pf().mark((function e(){var t,n,o,a,r,l,s,c,u;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=[],o=[],a=i.value.rates,r=0;case 5:if(!(r<12)){e.next=23;break}return o.splice(0),e.next=9,g(r,o);case 9:l=0,s=0,c=pf().mark((function e(t){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o[t].料號&&(Wh.length>0?null!=Wh.find((function(e){return e.料號==o[t].料號}))&&("RMB"==o[t].幣別?(Number.isNaN(parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))||(l+=parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5))),Number.isNaN(parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))||(s+=parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))):(Number.isNaN(parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5)))||(l+=parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5))),Number.isNaN(parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5)))||(s+=parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5))))):"RMB"==o[t].幣別?(Number.isNaN(parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))||(l+=parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5))),Number.isNaN(parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))||(s+=parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a.CNY)).toFixed(5)))):(Number.isNaN(parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5)))||(l+=parseFloat((parseFloat(o[t].請購數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5))),Number.isNaN(parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5)))||(s+=parseFloat((parseFloat(o[t].實際領用數量)*parseFloat(o[t].單價)*(a.USD/a[o[t].幣別])).toFixed(5)))));case 1:case"end":return e.stop()}}),e)})),u=0;case 13:if(!(u<o.length)){e.next=18;break}return e.delegateYield(c(u),"t0",15);case 15:u++,e.next=13;break;case 18:t.push(l),n.push(s);case 20:r++,e.next=5;break;case 23:Yh.value=t,Vh.value=n;case 25:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(Wh,gf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)})))),(0,S.wB)(Hh,gf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(4==Hh.value.toString().length&&parseInt(Hh.value)>=1996)){e.next=8;break}return e.next=3,u();case 3:return ef.splice(0),e.next=6,a(Hh.value);case 6:lf("body").loadingModal("hide"),lf("body").loadingModal("destroy");case 8:case"end":return e.stop()}}),e)})))),(0,S.wB)(Xh,gf(pf().mark((function e(){return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:return ef.splice(0),document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),Wh.splice(0),c.value=s.value[Xh.value],e.next=9,g(Xh.value,ef);case 9:lf("body").loadingModal("hide"),lf("body").loadingModal("destroy");case 11:case"end":return e.stop()}}),e)}))));var f={buylist_lastyear:[],buylist:[],inbound:[]};(0,S.wB)(o,gf(pf().mark((function e(){var t,n,a,r,i,l,s;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:if(f={buylist_lastyear:[],buylist:[],inbound:[]},ef.splice(0),""!=o.value){e.next=8;break}return lf("body").loadingModal("hide"),lf("body").loadingModal("destroy"),e.abrupt("return");case 8:t=JSON.parse(o.value),n=pf().mark((function e(n){var o,a;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.buylist_lastyear.filter((function(e){return new Date(e.請購時間.replace(" ","T")).getMonth()==n})),a=Object.values(o.reduce((function(e,t){var n=e[t.料號];return n?(n.本次請購數量+=parseFloat(t.本次請購數量),n.匯率+=parseFloat(t.匯率)):(t.匯率=parseFloat(t.匯率),t.本次請購數量=parseFloat(t.本次請購數量),e[t.料號]=t),e}),{})),f.buylist_lastyear[n]=a;case 3:case"end":return e.stop()}}),e)})),a=0;case 11:if(!(a<12)){e.next=16;break}return e.delegateYield(n(a),"t0",13);case 13:a++,e.next=11;break;case 16:r=pf().mark((function e(n){var o,a;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.buylist.filter((function(e){return new Date(e.請購時間.replace(" ","T")).getMonth()==n})),a=Object.values(o.reduce((function(e,t){var n=e[t.料號];return n?(n.匯率=parseFloat(n.匯率)+parseFloat(t.匯率),n.本次請購數量=parseFloat(n.本次請購數量)+parseFloat(t.本次請購數量)):(t.匯率=parseFloat(t.匯率),t.本次請購數量=parseFloat(t.本次請購數量),e[t.料號]=t),e}),{})),f.buylist[n]=a;case 3:case"end":return e.stop()}}),e)})),i=0;case 18:if(!(i<12)){e.next=23;break}return e.delegateYield(r(i),"t1",20);case 20:i++,e.next=18;break;case 23:l=pf().mark((function e(n){var o,a;return pf().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=t.inbound.filter((function(e){return new Date(e.入庫時間.replace(" ","T")).getMonth()==n})),a=Object.values(o.reduce((function(e,t){var n=e[t.料號];return n?n.入庫數量=parseInt(n.入庫數量)+parseInt(t.入庫數量):(t.入庫數量=parseInt(t.入庫數量),e[t.料號]=t),e}),{})),f.inbound[n]=a;case 3:case"end":return e.stop()}}),e)})),s=0;case 25:if(!(s<12)){e.next=30;break}return e.delegateYield(l(s),"t2",27);case 27:s++,e.next=25;break;case 30:return console.log(f),e.next=33,g(Xh.value,ef);case 33:return e.next=35,h();case 35:lf("body").loadingModal("hide"),lf("body").loadingModal("destroy"),tf.isLoading=!1;case 38:case"end":return e.stop()}}),e)}))));return{table:tf,searchTerm:Zh,updateCheckedRows:function(e){Wh.length=0,Wh.push.apply(Wh,cf(e))},OutputExcelClick:p,yearTag:Hh,monthStr:c}}});var ff=n(7311),bf={insert:"head",singleton:!1};ft()(ff.A,bf);ff.A.locals;const mf=(0,y.A)(hf,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Eh,[(0,d.Lk)("h3",Ah,(0,d.v_)(e.yearTag+"-"+e.monthStr+" "+e.$t("callpageLang.diffalert")),1)]),(0,d.Lk)("div",Ih,[(0,d.Lk)("div",$h,[(0,d.Lk)("div",Rh,[(0,d.Lk)("div",Th,[(0,d.Lk)("label",Mh,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Oh,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Nh),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",jh,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[1]||(t[1]=function(t){return e.OutputExcelClick("All")})},t[3]||(t[3]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Bh)])]),t[4]||(t[4]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,hasCheckbox:!0,isStaticMode:!0,isSlotMode:!0,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[2]||(t[2]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},{料號:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Dh,(0,d.v_)(t.料號),1)]})),請購數量:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Fh,[(0,d.Lk)("span",Uh,[(0,d.eW)((0,d.v_)(parseInt(t.請購數量).toLocaleString("en",{useGrouping:!0}))+" ",1),(0,d.Lk)("small",null,(0,d.v_)(t.單位),1)])])]})),實際領用數量:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",qh,[(0,d.Lk)("span",Kh,[(0,d.eW)((0,d.v_)(parseInt(t.實際領用數量).toLocaleString("en",{useGrouping:!0}))+" ",1),(0,d.Lk)("small",null,(0,d.v_)(t.單位),1)])])]})),需求與領用差異量:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Gh,[(0,d.Lk)("span",Jh,[(0,d.eW)((0,d.v_)(parseInt(t.需求與領用差異量).toLocaleString("en",{useGrouping:!0}))+" ",1),(0,d.Lk)("small",null,(0,d.v_)(t.單位),1)])])]})),需求與領用差異:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Qh,(0,d.v_)(t.需求與領用差異)+"% ",1)]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading","onReturnCheckedRows"])])],64)}],["__scopeId","data-v-3a4c3127"]]);var vf={class:"card-header row align-items-center"},yf={class:"col col-2"},wf={class:"col col-auto align-middle m-0 p-0"},xf={class:"card-body"};var kf=n(2022),Lf=n(4527);function Cf(e){return Cf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(e)}function _f(){_f=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Cf(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Cf(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Pf(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Sf(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Pf(r,o,a,i,l,"next",e)}function l(e){Pf(r,o,a,i,l,"throw",e)}i(void 0)}))}}kf.t1.register(kf.PP,kf.kc,kf.E8,kf.No,kf.FN,kf.dN,kf.hE,kf.m_,kf.s$);const Ef={name:"App",components:{Line:Lf.N1},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=(0,d.KR)(null),o=new Date,a=o.getMonth(),r=o.getFullYear(),i=(0,d.KR)(e.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split("_"));i.value.splice(a+1,12),(0,S.wB)(Hh,Sf(_f().mark((function t(){var n;return _f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:parseInt(Hh.value)==r?((n=e.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split("_")).splice(a+1,12),i.value=n):i.value=e.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split("_");case 1:case"end":return t.stop()}}),t)}))));var l=(0,d.EW)((function(){return{labels:i.value,datasets:[{label:e.appContext.config.globalProperties.$t("outboundpageLang.realpickamount")+"(USD)",borderColor:"rgb(9, 116, 230)",backgroundColor:"rgba(9, 116, 230, 0.5)",pointStyle:"rect",data:Vh.value},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1")+"(USD)",borderColor:"rgb(245, 44, 44)",backgroundColor:"rgba(245, 44, 44, 0.5)",pointStyle:"rect",fill:"-1",data:Yh.value}]}}));return{chartRef:n,onClick:function(e){var t=n.value.chart;t&&function(e){if(e.length){var t=e[0],n=(t.datasetIndex,t.index);Xh.value=n}}((0,Lf.CK)(t,e))},chartData:l,options:{interaction:{mode:"index",intersect:!1},responsive:!0,maintainAspectRatio:!1,hoverRadius:10},yearTag:Hh}}};var Af=n(2939),If={insert:"head",singleton:!1};ft()(Af.A,If);Af.A.locals;const $f=(0,y.A)(Ef,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("Line");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",vf,[(0,d.Lk)("div",yf,[(0,d.bo)((0,d.Lk)("input",{id:"yearInput",class:"text-center m-0 p-0 form-control form-control-lg",type:"number",min:"1996","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.yearTag=e})},null,512),[[d.Jo,o.yearTag]])]),(0,d.Lk)("h3",wf,(0,d.v_)(e.$t("callpageLang.diffalert")),1)]),(0,d.Lk)("div",xf,[(0,d.bF)(i,{ref:"chartRef",data:o.chartData,options:o.options,onClick:o.onClick},null,8,["data","options","onClick"])])],64)}],["__scopeId","data-v-6c7e1e83"]]),Rf=(0,d.pM)({name:"App",components:{DemandRecieveDiffTable:mf,ChartJSLine:$f},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);(0,d.KR)("");return{}}}),Tf=(0,y.A)(Rf,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("ChartJSLine"),l=(0,d.g2)("DemandRecieveDiffTable");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Ph,[(0,d.bF)(i)]),(0,d.Lk)("div",Sh,[(0,d.bF)(l)])],64)}]]);var Mf={class:"card-header align-items-center"},Of={class:"col col-auto align-middle"},Nf={class:"card-body"},jf={class:"row justify-content-between"},Bf={class:"col col-auto"},Df=["placeholder"],Ff={class:"CustomScrollbar text-nowrap",style:{"overflow-x":"auto",width:"100%","user-select":"text","z-index":"1",position:"relative"}},Uf={key:0,class:"m-0 p-0"},qf=["id","onChange"],Kf=["value","selected"],Gf={key:1,class:"m-0 p-0"},Jf=["id","onChange","disabled"],Qf=["value","selected"],zf={key:2},Hf=["value","onClick"],Xf={class:"modal fade",id:"siteListPicker","aria-hidden":"true","aria-labelledby":"siteListPicker",tabindex:"-1"},Wf={class:"modal-dialog modal-dialog-centered modal-dialog-scrollable"},Yf={class:"modal-content"},Vf={class:"modal-header"},Zf={class:"modal-title"},eb={class:"modal-body CustomScrollbar"},tb={class:"row justify-content-center"},nb={class:"form-check form-switch col-9"},ob=["id","value"],ab=["for"],rb={class:"modal-footer"},ib={class:"modal fade",id:"AreYouSureModal","aria-hidden":"true","aria-labelledby":"AreYouSureModal",tabindex:"-1"},lb={class:"modal-dialog modal-dialog-centered"},sb={class:"modal-content"},cb={class:"modal-body row justify-content-center"};var ub=n(4692);function pb(e){return pb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pb(e)}function db(){db=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==pb(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(pb(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function gb(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function hb(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){gb(r,o,a,i,l,"next",e)}function l(e){gb(r,o,a,i,l,"throw",e)}i(void 0)}))}}const fb=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Ea(),t=e.users,n=e.getUsers,o=(e.staffs,e.getStaffs),a=e.current_user,r=e.getCurrentUser,i=e.db_list,l=e.getDBList,s=e.setPriority,c=e.setDBList,u=e.delUser;(0,S.KC)(hb(db().mark((function e(){return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.isLoading=!0,e.next=3,l();case 3:return e.next=5,r();case 5:return e.next=7,o();case 7:return e.next=9,n();case 9:case"end":return e.stop()}}),e)}))));var p=function(){var e=hb(db().mark((function e(){return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ub("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=(0,d.KR)(""),h=(0,S.nI)(),f=document.getElementsByTagName("HTML")[0].getAttribute("lang");h.appContext.config.globalProperties.$lang.setLocale(f);var b=(0,d.Kh)([]),m=(0,d.KR)(""),v=(0,d.KR)([]);function y(){return(y=hb(db().mark((function e(t,n){return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:return e.next=4,s(t,n);case 4:"success"===e.sent?notyf.open({type:"success",message:h.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+h.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:h.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),ub("body").loadingModal("hide"),ub("body").loadingModal("destroy");case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return(w=hb(db().mark((function e(){var t,o;return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="",o=m.value.split("(")[0],v.value.sort(),console.log(v.value),v.value.forEach((function(e){""!==e&&(t=t+"_"+e)})),v.value.length>0&&(t=t.slice(1)),e.next=8,p();case 8:return e.next=10,c(o,t);case 10:return"success"===e.sent?notyf.open({type:"success",message:h.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+h.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:h.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),ub("body").loadingModal("hide"),ub("body").loadingModal("destroy"),e.next=16,n();case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=hb(db().mark((function e(){var t;return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=m.value.split("(")[0],e.next=3,p();case 3:return e.next=5,u(t);case 5:return"success"===e.sent?notyf.open({type:"success",message:h.appContext.config.globalProperties.$t("monthlyPRpageLang.change")+" "+h.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}):notyf.open({type:"error",message:h.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),ub("body").loadingModal("hide"),ub("body").loadingModal("destroy"),e.next=11,n();case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,S.wB)(a,hb(db().mark((function e(){return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.value.priority>0&&k.columns.splice(5,2);case 1:case"end":return e.stop()}}),e)})))),(0,S.wB)(t,hb(db().mark((function e(){var n,o,r;return db().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.splice(0),e.next=3,p();case 3:if(n=JSON.parse(t.value),a.value.priority>0)for(o=0;o<n.datas.length;o++)0!=n.datas[o].priority&&(n.datas[o].current_user_priority=a.value.priority,b.push(n.datas[o]));else for(r=0;r<n.datas.length;r++)n.datas[r].current_user_priority=a.value.priority,b.push(n.datas[r]);ub("body").loadingModal("hide"),ub("body").loadingModal("destroy"),k.isLoading=!1;case 8:case"end":return e.stop()}}),e)}))));var k=(0,d.Kh)({isLoading:!0,columns:[{label:h.appContext.config.globalProperties.$t("loginPageLang.username"),field:"username",width:"10ch",sortable:!0},{label:h.appContext.config.globalProperties.$t("loginPageLang.priority"),field:"priority",width:"10ch",sortable:!0},{label:h.appContext.config.globalProperties.$t("loginPageLang.name"),field:"姓名",width:"12ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.姓名+"</div>"}},{label:h.appContext.config.globalProperties.$t("loginPageLang.dep"),field:"部門",width:"13ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.部門+"</div>"}},{label:h.appContext.config.globalProperties.$t("loginPageLang.mail"),field:"email",width:"12ch",sortable:!0,display:function(e,t){return null===e.email||"null"==e.email?'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">N/A</div>':'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.email+"</div>"}},{label:h.appContext.config.globalProperties.$t("loginPageLang.database_list"),field:"available_dblist",width:"10ch",sortable:!0},{label:h.appContext.config.globalProperties.$t("loginPageLang.latest_login_time"),field:"last_login_time",width:"10ch",sortable:!0,display:function(e,t){return'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+e.last_login_time+"</div>"}}],rows:(0,d.EW)((function(){return b.filter((function(e){return e.username.toLowerCase().includes(g.value.toLowerCase())||e.姓名.includes(g.value)}))})),totalRecordCount:(0,d.EW)((function(){return k.rows.length})),sortable:{order:"last_login_time",sort:"desc"},messages:{pagingInfo:h.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+h.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+h.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+h.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:h.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:h.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:h.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{db_list:i,searchTerm:g,table:k,clickedUser:m,InfoBtClicked:function(e,t,n){m.value=e+"("+t+")",v.value=n.split("_")},current_user:a,priorityChange:function(e,t){return y.apply(this,arguments)},checkedDBs:v,submitNewDBList:function(){return w.apply(this,arguments)},DeleteUser:function(){return x.apply(this,arguments)}}}});var bb=n(8229),mb={insert:"head",singleton:!1};ft()(bb.A,mb);bb.A.locals;const vb=(0,y.A)(fb,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Mf,[(0,d.Lk)("h3",Of,(0,d.v_)(e.$t("templateWords.UserInfo")),1)]),(0,d.Lk)("div",Nf,[(0,d.Lk)("div",jf,[(0,d.Lk)("div",Bf,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("loginPageLang.username_search"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,Df),[[d.Jo,e.searchTerm]])])]),t[5]||(t[5]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{id:"searchTable","is-fixed-first-column":!0,isStaticMode:!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-loading":e.table.isLoading,onIsFinished:t[1]||(t[1]=function(t){return e.table.isLoading=!1})},{username:(0,d.k6)((function(e){var t=e.row;e.key;return[(0,d.Lk)("div",Ff,(0,d.v_)(t.username),1)]})),priority:(0,d.k6)((function(t){var n=t.row;t.key;return[0==n.current_user_priority?((0,d.uX)(),(0,d.CE)("div",Uf,[(0,d.Lk)("select",{class:"form-select text-center m-0 p-0",id:n.username,style:{width:"8ch"},onChange:function(t){return e.priorityChange(n.username,t.target.value)}},[((0,d.uX)(),(0,d.CE)(d.FK,null,(0,d.pI)([0,1,2,3,4],(function(e){return(0,d.Lk)("option",{value:e,selected:n.priority==e},(0,d.v_)(e),9,Kf)})),64))],40,qf)])):1==n.current_user_priority?((0,d.uX)(),(0,d.CE)("div",Gf,[(0,d.Lk)("select",{class:"form-select text-center m-0 p-0",id:n.username,style:{width:"8ch"},onChange:function(t){return e.priorityChange(n.username,t.target.value)},disabled:n.priority<=n.current_user_priority},[((0,d.uX)(),(0,d.CE)(d.FK,null,(0,d.pI)([1,2,3,4],(function(e){return(0,d.Lk)("option",{value:e,selected:n.priority==e},(0,d.v_)(e),9,Qf)})),64))],40,Jf)])):((0,d.uX)(),(0,d.CE)("div",zf,(0,d.v_)(n.priority),1))]})),available_dblist:(0,d.k6)((function(t){var n=t.row;t.key;return[(0,d.Lk)("button",{value:n.available_dblist,type:"button",style:{"border-radius":"20px"},class:"btn btn-outline-info dbInfo btn-sm m-0 px-3 py-0","data-bs-toggle":"modal","data-bs-target":"#siteListPicker",onClick:function(t){return e.InfoBtClicked(n.username,n.姓名,n.available_dblist)}},"Info",8,Hf)]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading"])]),(0,d.Lk)("div",Xf,[(0,d.Lk)("div",Wf,[(0,d.Lk)("div",Yf,[(0,d.Lk)("div",Vf,[(0,d.Lk)("h3",Zf,"Available Databases for "+(0,d.v_)(e.clickedUser),1),t[6]||(t[6]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",eb,[(0,d.Lk)("div",tb,[((0,d.uX)(!0),(0,d.CE)(d.FK,null,(0,d.pI)(e.db_list,(function(n){return(0,d.uX)(),(0,d.CE)("div",nb,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input dbCheckbox",type:"checkbox",role:"switch",id:"".concat(n.replace("Consumables management","").trim()),value:"".concat(n.replace("Consumables management","").trim()),"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.checkedDBs=t})},null,8,ob),[[d.lH,e.checkedDBs]]),(0,d.Lk)("label",{class:"form-check-label",for:"".concat(n.replace("Consumables management","").trim())},(0,d.v_)(n),9,ab)])})),256))])]),(0,d.Lk)("div",rb,[t[7]||(t[7]=(0,d.Lk)("button",{type:"button",id:"DeleteUser",class:"btn btn-danger","data-bs-target":"#AreYouSureModal","data-bs-toggle":"modal"},"Delete This User",-1)),(0,d.Lk)("button",{type:"button",id:"ListConfirm",class:"btn btn-success",onClick:t[3]||(t[3]=function(t){return e.submitNewDBList()})}," Save Changes ")])])])]),(0,d.Lk)("div",ib,[(0,d.Lk)("div",lb,[(0,d.Lk)("div",sb,[(0,d.Lk)("div",cb,[t[8]||(t[8]=(0,d.Lk)("span",{class:"col col-auto"},"Are You Sure ?",-1)),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("button",{id:"ImSure",class:"col col-auto btn btn-outline-danger","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=function(t){return e.DeleteUser()})},"YES")])])])])],64)}],["__scopeId","data-v-46870d65"]]);var yb={class:"card"},wb={class:"card-header"},xb={class:"card-body"},kb={class:"row justify-content-center mb-3"},Lb={class:"col col-auto"},Cb={class:"col col-auto form-label"},_b={class:"col col-auto"},Pb={key:0,class:"invalid-feedback d-block",role:"alert"},Sb={class:"row justify-content-center"},Eb={class:"card collapse",id:"importedtable"},Ab={class:"card-body"},Ib={class:"row justify-content-between"},$b={class:"row col col-auto"},Rb={class:"col col-auto"},Tb={for:"pnInput1",class:"col-form-label"},Mb={class:"col col-auto p-0 m-0"},Ob=["placeholder"],Nb={class:"col col-auto"},jb=["value"],Bb={key:0,class:"invalid-feedback d-block",role:"alert"},Db={style:{"white-space":"pre-wrap"}},Fb={class:"row justify-content-center"},Ub={class:"col col-auto"};function qb(e){return qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qb(e)}function Kb(){Kb=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==qb(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(qb(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Gb(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Jb(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Gb(r,o,a,i,l,"next",e)}function l(e){Gb(r,o,a,i,l,"throw",e)}i(void 0)}))}}function Qb(){var e=(0,d.KR)(""),t=(0,d.KR)(""),n=((0,b.rd)(),function(){var e=Jb(Kb().mark((function e(n,o,a){var r,i,l;return Kb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.value="",e.next=3,yt.A.post("/getCurrentDB");case 3:return r=e.sent,e.next=6,yt.A.post("/getCurrentUsername");case 6:return i=e.sent,e.prev=7,e.next=10,yt.A.post("/api/checking/upload",{DB:r.data,username:i.data,pn_array:JSON.stringify(n),loc_array:JSON.stringify(o),stock_array:JSON.stringify(a)});case 10:return l=e.sent,console.log(l.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 15:return e.prev=15,e.t0=e.catch(7),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 18:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t,n,o){return e.apply(this,arguments)}}()),o=function(){var n=Jb(Kb().mark((function n(o){var a,r,i,l;return Kb().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,yt.A.post("/getCurrentDB");case 2:return a=n.sent,n.next=5,yt.A.post("/getCurrentUsername");case 5:return r=n.sent,n.prev=6,n.next=9,yt.A.post("/api/checking/getCheckingRecords",{DB:a.data,timeRange:o,username:r.data});case 9:i=n.sent,e.value=JSON.stringify(i.data),n.next=18;break;case 13:for(l in n.prev=13,n.t0=n.catch(6),n.t0.response.data.errors)t.value+=n.t0.response.data.errors[l][0]+"  ";console.log(n.t0),t.value=n.t0.response.data;case 18:case"end":return n.stop()}}),n,null,[[6,13]])})));return function(e){return n.apply(this,arguments)}}(),a=function(){var e=Jb(Kb().mark((function e(t){var n,o,a;return Kb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getCurrentDB");case 2:return n=e.sent,e.next=5,yt.A.post("/getCurrentUsername");case 5:return o=e.sent,e.prev=6,e.next=9,yt.A.post("/api/checking/reject",{DB:n.data,username:o.data,serial_num:t});case 9:return a=e.sent,console.log(a.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Jb(Kb().mark((function e(t,n,o,a){var r,i,l;return Kb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yt.A.post("/getCurrentDB");case 2:return r=e.sent,e.next=5,yt.A.post("/getCurrentUsername");case 5:return i=e.sent,e.prev=6,e.next=9,yt.A.post("/api/checking/approve",{DB:r.data,username:i.data,serial_num:t,isn:JSON.stringify(n),loc:JSON.stringify(o),stock:JSON.stringify(a)});case 9:return l=e.sent,console.log(l.data),e.abrupt("return",new Promise((function(e,t){e("success")})));case 14:return e.prev=14,e.t0=e.catch(6),e.abrupt("return",new Promise((function(t,n){n(e.t0.response)})));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n,o,a){return e.apply(this,arguments)}}();return{checking_records:e,upload_checkig_result:n,get_checking_records:o,checking_Approve:r,checking_Reject:a}}var zb=n(4692);function Hb(e){return Hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hb(e)}function Xb(){Xb=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Hb(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Hb(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Wb(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Yb(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Wb(r,o,a,i,l,"next",e)}function l(e){Wb(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Vb=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=Xn(),o=n.mats,a=n.getExistingStock,r=La(),i=r.queryResult,l=(r.manualResult,r.locations),s=r.validateISN,c=(r.validateISN_manual,r.getLocs),u=Qb().upload_checkig_result;(0,S.KC)(Yb(Xb().mark((function e(){return Xb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.isLoading=!1,e.next=3,c();case 3:case"end":return e.stop()}}),e)}))));var p,g=(0,d.KR)(!1),h=(0,d.KR)(!1),f=(0,d.KR)(""),b=(0,d.KR)(!1),m=(0,d.KR)(),v=[],y=(0,d.KR)(""),w=((0,d.KR)(""),(0,d.Kh)([])),x=function(e){for(var t=e.slice().sort(),n=[],o=0;o<t.length-1;o++)t[o+1]==t[o]&&n.push(t[o]);return n},k=function(){var t=Yb(Xb().mark((function t(){var n,r,i,l,s,c,u,p,d,g,h,f;return Xb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:return t.next=4,a(new Array(0),new Array(0));case 4:n=JSON.parse(o.value).data,r=new Date,i=String(r.getDate()).padStart(2,"0"),l=String(r.getMonth()+1).padStart(2,"0"),s=r.getFullYear(),r=s+"_"+l+"_"+i,c=Array(),u=0;case 12:if(!(u<n.length)){t.next=27;break}if(""!==n[u].料號&&null!==n[u].料號&&"null"!==n[u].料號.toLowerCase()){t.next=15;break}return t.abrupt("continue",24);case 15:(p=new Object).料號=n[u].料號,p.品名=n[u].品名,p.規格=n[u].規格,p.現有庫存=n[u].現有庫存,p.盤點庫存="",p.單位=n[u].單位,p.儲位=n[u].儲位,c.push(p);case 24:u++,t.next=12;break;case 27:return d=new(fe().Workbook),(g=d.addWorksheet(e.appContext.config.globalProperties.$t("checkInvLang.check"))).columns=[{header:e.appContext.config.globalProperties.$t("inboundpageLang.isn"),key:"料號"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.pName"),key:"品名"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.format"),key:"規格"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.nowstock"),key:"現有庫存"},{header:e.appContext.config.globalProperties.$t("checkInvLang.checking_result"),key:"盤點庫存"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.unit"),key:"單位"},{header:e.appContext.config.globalProperties.$t("inboundpageLang.loc"),key:"儲位"}],g.addRows(c),t.next=33,d.xlsx.writeBuffer();case 33:h=t.sent,f=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(f,e.appContext.config.globalProperties.$t("checkInvLang.check")+"_"+r+".xlsx"),zb("body").loadingModal("hide"),zb("body").loadingModal("destroy");case 38:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Yb(Xb().mark((function t(){var n;return Xb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.value=!1,t.next=3,C();case 3:m.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==m.value.type||"application/vnd.ms-excel"==m.value.type||"application/vnd.ms-excel"==m.value.type||".csv"==m.value.type?((n=new FileReader).onload=function(){var t=Yb(Xb().mark((function t(n){var o,a,r,i,l,c;return Xb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target.result,a=tn.LF(o,{type:"binary"}),r=a.SheetNames[0],i=a.Sheets[r],void 0!==(p=tn.Wp.sheet_to_json(i,{header:1}))&&void 0!==p[0]&&void 0!==p[0][0]&&void 0!==p[0][1]&&void 0!==p[0][2]&&void 0!==p[0][3]&&void 0!==p[0][4]&&void 0!==p[0][5]&&void 0!==p[0][6]){t.next=10;break}g.value=!0,f.value=e.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),t.next=16;break;case 10:for(l=Array(),c=1;c<p.length;c++)null!=p[c][0]&&p[c].length>2&&""!=p[c][0].trim()&&null!=p[c][0].trim()?l.push(p[c][0].trim()):(p.splice(c,1),c-=1);return t.next=14,C();case 14:return t.next=16,s(l);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.readAsBinaryString(m.value)):(g.value=!0,f.value=e.appContext.config.globalProperties.$t("validation.mimetypes")):(g.value=!0,f.value=e.appContext.config.globalProperties.$t("validation.required")),m.value=null,document.getElementById("excel_input").value="",zb("body").loadingModal("hide"),zb("body").loadingModal("destroy");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var C=function(){var e=Yb(Xb().mark((function e(){return Xb().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return zb("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var t=Yb(Xb().mark((function t(){var n,o,a,r,i,l,s,c,p,d,g,m,v;return Xb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:if(h.value=!1,n=0,o=!1,!(w.length<=0)){t.next=10;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),t.abrupt("return");case 10:for(a=0;a<w.length&&0==o;a++)w[a].valid_isn||(o=!0,n=a);if(!o){t.next=18;break}return h.value=!0,f.value=w[n].料號+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn"),notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),t.abrupt("return");case 18:for(r=Array(),i=0;i<w.length;i++)null!=w[i].料號&&""!=w[i].料號.trim()&&r.push(w[i].料號.toString().trim()+"_"+w[i].儲位.toString());if(!((l=x(r)).length>0)){t.next=28;break}return h.value=!0,f.value=e.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_loc_pair")+" : "+l[0].split("_")[0]+" ("+l[0].split("_")[1]+")",notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),t.abrupt("return");case 28:for(s=[],c=[],p=[],d=0;d<w.length;d++)s.push(w[d].料號),c.push(w[d].儲位),p.push(w[d].盤點庫存);return g=Date.now(),t.next=35,u(s,c,p);case 35:m=t.sent,v=Date.now()-g,console.log("Total time taken : "+v+" milliseconds"),zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),"success"===m?(b.value=!1,notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("checkInvLang.update_success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})):notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 41:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,S.wB)(i,Yb(Xb().mark((function t(){var n,o,a,r,s,c;return Xb().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C();case 2:if(f.value=e.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error")+" Excel "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.row"),""!=i.value){t.next=8;break}return zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),P.isLoading=!1,t.abrupt("return");case 8:for(n=JSON.parse(i.value),o=JSON.parse(l.value),a={},r=1;r<p.length;r++)a.id=r,a.料號=p[r][0].toString().trim(),a.品名=p[r][1].toString().trim(),a.規格=p[r][2].toString().trim(),a.盤點庫存=parseInt(p[r][4]),a.單位=p[r][5].toString().trim(),a.儲位=p[r][6].toString().trim(),s=n.data.findIndex((function(e){return e.料號===a.料號})),c=o.data.findIndex((function(e){return e.儲存位置===a.儲位})),a.valid_isn=-1!=s,a.valid_loc=-1!=c,(isNaN(a.盤點庫存)||!1===a.valid_isn||!1===a.valid_loc)&&(h.value=!0,f.value=f.value+" "+(r+1)+","),w.push(a),a={};f.value=f.value.slice(0,-1),zb("#importedtable").hasClass("show")||zb("#togglebtn").click(),b.value=!h.value,zb("body").loadingModal("hide"),zb("body").loadingModal("destroy"),P.isLoading=!1;case 18:case"end":return t.stop()}}),t)})))),(0,S.wB)(w,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var P=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return!1===e.valid_isn?'<div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(t,n){return!1===t.valid_isn?'<div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":"N/A"===t.品名?'<div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;"><span class="text-danger fw-bold">'+t.品名+"</span></div>":'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("monthlyPRpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(t,n){return!1===t.valid_isn?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.規格+"</div>"}},{label:e.appContext.config.globalProperties.$t("checkInvLang.checking_result"),field:"庫存",width:"10ch",sortable:!0,display:function(e,t){return Number.isInteger(e.盤點庫存)?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.盤點庫存+"&nbsp;<small>"+e.單位+"</small></div>":"N/A"===e.單位?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;"><i class="bi bi-x-lg text-danger fw-bold"></i>&nbsp;<small class="text-danger fw-bold">'+e.單位+"</small></div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;"><i class="bi bi-x-lg text-danger fw-bold"></i>&nbsp;<small>'+e.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("inboundpageLang.loc"),field:"儲位",width:"12ch",sortable:!0,display:function(e,t){return!1===e.valid_loc?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;"><span class="text-danger fw-bold">'+e.儲位+"</span></div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}}],rows:(0,d.EW)((function(){return w.filter((function(e){return e.料號.toLowerCase().includes(y.value.toLowerCase())||e.儲位.includes(y.value)}))})),totalRecordCount:(0,d.EW)((function(){return P.rows.length})),sortable:{order:"儲位",sort:"asc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{isInvalid:g,isInvalid_DB:h,validation_err_msg:f,uploadToDBReady:b,searchTerm:y,table:P,OutputExcelClick:k,updateCheckedRows:function(e){v=e},onUploadClick:L,onInputChange:function(e){g.value=!1,w.splice(0),i.value="",m.value=e.target.files?e.target.files[0]:null,zb("#importedtable").hasClass("show")&&zb("#togglebtn").click()},onSendToDBClick:_,CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()},deleteRow:function(){for(var e=function(e){var t=w.findIndex((function(t){return parseInt(t.id)===parseInt(v[e].id)}));-1!=t&&w.splice(t,1)},t=0;t<v.length;t++)e(t);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),v=[]}}}});var Zb=n(6573),em={insert:"head",singleton:!1};ft()(Zb.A,em);Zb.A.locals;const tm=(0,y.A)(Vb,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",yb,[(0,d.Lk)("div",wb,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("checkInvLang.upload")),1)]),(0,d.Lk)("div",xb,[(0,d.Lk)("div",kb,[(0,d.Lk)("div",Lb,[(0,d.Lk)("a",{onClick:t[0]||(t[0]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)}),href:"#"},(0,d.v_)(e.$t("checkInvLang.emptyList")),1)]),t[7]||(t[7]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",Cb,(0,d.v_)(e.$t("monthlyPRpageLang.plz_upload")),1),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",_b,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[1]||(t[1]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",Pb,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",Sb,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[2]||(t[2]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])])])]),t[14]||(t[14]=(0,d.Lk)("button",{id:"togglebtn",class:"btn btn-primary col col-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#importedtable","aria-expanded":"false","aria-controls":"importedtable",style:{display:"none"}},null,-1)),(0,d.Lk)("div",Eb,[(0,d.Lk)("div",Ab,[(0,d.Lk)("div",Ib,[(0,d.Lk)("div",$b,[(0,d.Lk)("div",Rb,[(0,d.Lk)("label",Tb,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+": ",1)]),(0,d.Lk)("div",Mb,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput1",class:"text-center form-control form-control-lg",placeholder:e.$t("inboundpageLang.enterisn_or_loc"),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t})},null,8,Ob),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",Nb,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",value:e.$t("basicInfoLang.delete"),onClick:t[4]||(t[4]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[10]||(t[10]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]),8,jb)):(0,d.Q3)("",!0)])]),t[12]||(t[12]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",Bb,[(0,d.Lk)("strong",Db,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[5]||(t[5]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",Fb,[(0,d.Lk)("div",Ub,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,type:"submit",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[6]||(t[6]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[11]||(t[11]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-52f62922"]]);var nm={class:"card"},om={class:"card-header"},am={class:"m-0 p-0"},rm={class:"card-body"},im={class:"row justify-content-between"},lm={class:"row col col-auto"},sm={class:"col col-auto"},cm={for:"serialInput",class:"col-form-label"},um={class:"col col-auto p-0 m-0"},pm=["placeholder"],dm={class:"row col col-auto text-center align-items-center justify-content-between"},gm={class:"form-check form-check-inline col col-auto m-0"},hm={class:"form-check-label",for:"inlineRadio1"},fm={class:"form-check form-check-inline col col-auto m-0"},bm={class:"form-check-label",for:"inlineRadio2"},mm={class:"form-check form-check-inline col col-auto m-0"},vm={class:"form-check-label",for:"inlineRadio3"},ym={class:"row justify-content-between"},wm={class:"col col-auto text-danger fw-bold"},xm={class:"col col-auto align-items-center m-0 p-0"},km=["onClick","id","name"],Lm={class:"col col-auto align-items-center m-0 p-0"},Cm=["onClick"],_m=["onClick"],Pm={class:"modal fade",id:"detailTable",tabindex:"-1","aria-labelledby":"detailTable","aria-hidden":"false"},Sm={class:"modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable"},Em={class:"modal-content"},Am={class:"modal-header justify-content-center"},Im={class:"col col-auto modal-title m-0 p-0 fs-4"},$m={class:"modal-body"},Rm={class:"row justify-content-between"},Tm={class:"row col col-auto"},Mm={class:"col col-auto"},Om={for:"pnInput",class:"col-form-label"},Nm={class:"col col-auto p-0 m-0"},jm=["placeholder"],Bm={class:"col col-auto"},Dm=["value"],Fm={key:0,class:"modal-footer justify-content-between"};var Um=n(4692);function qm(e){return qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(e)}var Km=["A級資材","LT","MOQ","MPQ","approved_at","approved_by","email","id","updated_by","主管工號","單價","單號","姓名","安全庫存","工號","幣別","月請購","狀態","發料部門","部門"];function Gm(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(t.includes(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Jm(){Jm=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==qm(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(qm(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Qm(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function zm(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Qm(r,o,a,i,l,"next",e)}function l(e){Qm(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Hm=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=Qb(),t=e.checking_records,n=e.get_checking_records,o=e.checking_Reject,a=e.checking_Approve,r=Ea(),i=r.current_user,l=r.getCurrentUser;(0,d.KR)(!1),(0,d.KR)("");(0,S.KC)(zm(Jm().mark((function e(){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.isLoading=!0,C.isLoading=!0,e.next=4,l();case 4:return e.next=6,n(JSON.stringify(v.value));case 6:case"end":return e.stop()}}),e)}))));var s=(0,d.KR)(""),c=(0,d.KR)(""),u=(0,d.KR)(""),p=(0,d.KR)(!1),g=[],h=(0,S.nI)(),f=document.getElementsByTagName("HTML")[0].getAttribute("lang");h.appContext.config.globalProperties.$lang.setLocale(f);var b=(0,d.Kh)([]),m=(0,d.Kh)([]),v=(0,d.KR)("month"),y=function(){var e=zm(Jm().mark((function e(){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Um("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=zm(Jm().mark((function e(t){var n,o,a,r,i,l;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return n=g.filter((function(e){return e.單號==t})),o=n.map((function(e){e.A級資材,e.LT,e.MOQ,e.MPQ,e.approved_at,e.approved_by,e.email,e.id,e.updated_by,e.主管工號,e.單價,e.單號,e.姓名,e.安全庫存,e.工號,e.幣別,e.月請購,e.狀態,e.發料部門,e.部門;return Gm(e,Km)})),a=new(fe().Workbook),(r=a.addWorksheet(h.appContext.config.globalProperties.$t("checkInvLang.check"))).columns=[{header:h.appContext.config.globalProperties.$t("inboundpageLang.isn"),key:"料號"},{header:h.appContext.config.globalProperties.$t("inboundpageLang.stock"),key:"現有庫存"},{header:h.appContext.config.globalProperties.$t("inboundpageLang.loc"),key:"儲位"},{header:h.appContext.config.globalProperties.$t("outboundpageLang.opentime"),key:"開單時間"},{header:h.appContext.config.globalProperties.$t("inboundpageLang.pName"),key:"品名"},{header:h.appContext.config.globalProperties.$t("inboundpageLang.format"),key:"規格"},{header:h.appContext.config.globalProperties.$t("inboundpageLang.unit"),key:"單位"}],o.forEach((function(e){r.addRow(e)})),e.next=10,a.xlsx.writeBuffer();case 10:i=e.sent,l=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(l,h.appContext.config.globalProperties.$t("checkInvLang.check")+"_"+t+".xlsx"),Um("body").loadingModal("hide"),Um("body").loadingModal("destroy");case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=zm(Jm().mark((function e(){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return console.log(m[0].單號),e.next=5,o(m[0].單號);case 5:if("success"!==e.sent){e.next=13;break}return p.value=!1,notyf.open({type:"success",message:h.appContext.config.globalProperties.$t("checkInvLang.update_success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=11,n(JSON.stringify(v.value));case 11:e.next=14;break;case 13:notyf.open({type:"error",message:h.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 14:Um("body").loadingModal("hide"),Um("body").loadingModal("destroy");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=zm(Jm().mark((function e(){var t,o,r,i;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:for(t=[],o=[],r=[],i=0;i<m.length;i++)t.push(m[i].料號),o.push(m[i].儲位),r.push(m[i].現有庫存);return e.next=8,a(m[0].單號,t,o,r);case 8:if("success"!==e.sent){e.next=16;break}return p.value=!1,notyf.open({type:"success",message:h.appContext.config.globalProperties.$t("checkInvLang.update_success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),e.next=14,n(JSON.stringify(v.value));case 14:e.next=17;break;case 16:notyf.open({type:"error",message:h.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 17:Um("body").loadingModal("hide"),Um("body").loadingModal("destroy");case 19:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,S.wB)(v,zm(Jm().mark((function e(){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:return L.isLoading=!0,e.next=5,n(JSON.stringify(v.value));case 5:Um("body").loadingModal("hide"),Um("body").loadingModal("destroy"),L.isLoading=!1;case 8:case"end":return e.stop()}}),e)})))),(0,S.wB)(t,zm(Jm().mark((function e(){var n,o,a;return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:n=JSON.parse(t.value),b.splice(0),g=[],o=Jm().mark((function e(t){return Jm().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.data[t].id=t,null===n.data[t].approved_by||void 0===n.data[t].approved_by?n.data[t].狀態="未簽核":n.data[t].狀態="已簽核",-1===b.findIndex((function(e){return e.單號===n.data[t].單號}))&&b.push(n.data[t]),g.push(n.data[t]);case 5:case"end":return e.stop()}}),e)})),a=0;case 7:if(!(a<n.data.length)){e.next=12;break}return e.delegateYield(o(a),"t0",9);case 9:a++,e.next=7;break;case 12:Um("body").loadingModal("hide"),Um("body").loadingModal("destroy"),L.isLoading=!1;case 15:case"end":return e.stop()}}),e)}))));var L=(0,d.Kh)({isLoading:!0,columns:[{label:h.appContext.config.globalProperties.$t("checkInvLang.updated_at"),field:"開單時間",width:"15ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.created_at+"</div>"}},{label:h.appContext.config.globalProperties.$t("monthlyPRpageLang.status"),field:"狀態",width:"6ch",sortable:!0},{label:h.appContext.config.globalProperties.$t("monthlyPRpageLang.info"),field:"單號",width:"4ch",sortable:!1},{label:h.appContext.config.globalProperties.$t("checkInvLang.updated_by"),field:"盤點人",width:"8ch",sortable:!0,display:function(e,t){return null!==e.updated_by&&void 0!==e.updated_by||(e.updated_by="N/A"),'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.updated_by+"</div>"}}],rows:(0,d.EW)((function(){return b.filter((function(e){return e.updated_by.toLowerCase().includes(s.value.toLowerCase())}))})),totalRecordCount:(0,d.EW)((function(){return L.rows.length})),sortable:{order:"請購時間",sort:"desc"},messages:{pagingInfo:h.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+h.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+h.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+h.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:h.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:h.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:h.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]}),C=(0,d.Kh)({isLoading:!0,columns:[{label:h.appContext.config.globalProperties.$t("basicInfoLang.isn"),field:"料號",width:"14ch",sortable:!0,isKey:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:h.appContext.config.globalProperties.$t("basicInfoLang.pName"),field:"品名",width:"13ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.品名+"</div>"}},{label:h.appContext.config.globalProperties.$t("monthlyPRpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.規格+"</div>"}},{label:h.appContext.config.globalProperties.$t("inboundpageLang.stock"),field:"庫存",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.現有庫存+"&nbsp;<small>"+e.單位+"</small></div>"}},{label:h.appContext.config.globalProperties.$t("inboundpageLang.loc"),field:"儲位",width:"12ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.儲位+"</div>"}}],rows:(0,d.EW)((function(){return m.filter((function(e){return e.料號.toLowerCase().includes(c.value.toLowerCase())||e.品名.includes(c.value)}))})),totalRecordCount:(0,d.EW)((function(){return C.rows.length})),sortable:{order:"儲位",sort:"asc"},messages:{pagingInfo:h.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+h.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+h.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+h.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:h.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:h.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:h.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{searchTerm:s,searchTerm2:c,picked:v,table:L,table2:C,modalTitle:u,showFooter:p,openDetails:function(e){C.isLoading=!0,u.value=e,m.splice(0);for(var t=0;t<g.length;t++)g[t].單號===e&&m.push(g[t]);"未簽核"===m[0].狀態&&parseInt(i.value.priority)<=1?p.value=!0:p.value=!1,C.isLoading=!1},OutputExcelClick:w,checking_approve:k,checking_reject:x}}});var Xm=n(3868),Wm={insert:"head",singleton:!1};ft()(Xm.A,Wm);Xm.A.locals;const Ym=(0,y.A)(Hm,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)("div",nm,[(0,d.Lk)("div",om,[(0,d.Lk)("h3",am,(0,d.v_)(e.$t("checkInvLang.check_record")),1)]),(0,d.Lk)("div",rm,[(0,d.Lk)("div",im,[(0,d.Lk)("div",lm,[(0,d.Lk)("div",sm,[(0,d.Lk)("label",cm,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",um,[(0,d.bo)((0,d.Lk)("input",{id:"serialInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.entersxb"),"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.searchTerm=t})},null,8,pm),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",dm,[(0,d.Lk)("div",gm,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio1",value:"month","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.picked=t}),checked:""},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",hm,(0,d.v_)(e.$t("inboundpageLang.within_a_month")),1)]),(0,d.Lk)("div",fm,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio2",value:"quarter","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.picked=t})},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",bm,(0,d.v_)(e.$t("inboundpageLang.within_three_months")),1)]),(0,d.Lk)("div",mm,[(0,d.bo)((0,d.Lk)("input",{class:"form-check-input",type:"radio",name:"inlineRadioOptions",id:"inlineRadio3",value:"year","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.picked=t})},null,512),[[d.XL,e.picked]]),(0,d.Lk)("label",vm,(0,d.v_)(e.$t("inboundpageLang.within_a_year")),1)])])]),t[14]||(t[14]=(0,d.Lk)("div",{class:"w-100",style:{height:"0ch"}},null,-1)),(0,d.Lk)("div",ym,[t[10]||(t[10]=(0,d.Lk)("span",{class:"col col-auto text-danger fw-bold"},null,-1)),(0,d.Lk)("span",wm,(0,d.v_)(e.$t("checkInvLang.approver_priority_notice")),1)]),(0,d.bF)(i,{"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,"is-fixed-first-column":!1,"is-loading":e.table.isLoading,onIsFinished:t[4]||(t[4]=function(t){return e.table.isLoading=!1})},{單號:(0,d.k6)((function(t){var n=t.row,o=t.key;return[(0,d.Lk)("div",xm,[(0,d.Lk)("button",{onClick:function(t){return e.openDetails(n.單號)},type:"button","data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0",style:{"border-radius":"20px"},id:"sxb"+n.id,name:"sxb"+o},"More",8,km)])]})),狀態:(0,d.k6)((function(t){var n=t.row;t.key;return[(0,d.Lk)("div",Lm,["未簽核"===n.狀態?((0,d.uX)(),(0,d.CE)("a",{key:0,onClick:function(t){return e.openDetails(n.單號)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",class:"m-0 p-0",style:{color:"#dca120"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_pending")),9,Cm)):((0,d.uX)(),(0,d.CE)("a",{key:1,class:"m-0 p-0",onClick:function(t){return e.openDetails(n.單號)},"data-bs-toggle":"modal","data-bs-target":"#detailTable",style:{color:"#2bb91b"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_complete")),9,_m))])]})),_:1},8,["messages","columns","rows","total","page-options","sortable","is-loading"]),(0,d.Lk)("div",Pm,[(0,d.Lk)("div",Sm,[(0,d.Lk)("div",Em,[(0,d.Lk)("div",Am,[(0,d.Lk)("h1",Im,(0,d.v_)(e.modalTitle),1),t[11]||(t[11]=(0,d.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"},null,-1))]),(0,d.Lk)("div",$m,[(0,d.Lk)("div",Rm,[(0,d.Lk)("div",Tm,[(0,d.Lk)("div",Mm,[(0,d.Lk)("label",Om,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+" :",1)]),(0,d.Lk)("div",Nm,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.searchTerm2=t})},null,8,jm),[[d.Jo,e.searchTerm2]])])]),(0,d.Lk)("div",Bm,[(0,d.Lk)("button",{id:"download",name:"download",class:"col col-auto btn btn-lg btn-success",value:e.$t("monthlyPRpageLang.download"),onClick:t[6]||(t[6]=function(t){return e.OutputExcelClick(e.modalTitle)})},t[12]||(t[12]=[(0,d.Lk)("i",{class:"bi bi-file-earmark-arrow-down-fill fs-4"},null,-1)]),8,Dm)])]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.bF)(i,{"is-static-mode":!0,isSlotMode:!0,hasCheckbox:!1,messages:e.table2.messages,columns:e.table2.columns,rows:e.table2.rows,total:e.table2.totalRecordCount,"page-options":e.table2.pageOptions,sortable:e.table2.sortable,"is-fixed-first-column":!1,"is-loading":e.table2.isLoading,onIsFinished:t[7]||(t[7]=function(t){return e.table2.isLoading=!1})},null,8,["messages","columns","rows","total","page-options","sortable","is-loading"])]),e.showFooter?((0,d.uX)(),(0,d.CE)("div",Fm,[(0,d.Lk)("button",{onClick:t[8]||(t[8]=function(){return e.checking_reject&&e.checking_reject.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-danger",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_cancel")),1),(0,d.Lk)("button",{onClick:t[9]||(t[9]=function(){return e.checking_approve&&e.checking_approve.apply(e,arguments)}),type:"button",class:"btn btn-lg btn-success",style:{"border-radius":"5px"}},(0,d.v_)(e.$t("monthlyPRpageLang.review_complete")),1)])):(0,d.Q3)("",!0)])])])])])}],["__scopeId","data-v-67febda6"]]);var Vm={class:"card"},Zm={class:"card-header"},ev={class:"card-body"},tv={class:"row justify-content-center mb-3"},nv={class:"col col-auto"},ov={class:"col col-auto form-label"},av={class:"col col-auto"},rv={key:0,class:"invalid-feedback d-block",role:"alert"},iv={class:"row justify-content-center"},lv={class:"card collapse",id:"importedtable"},sv={class:"card-body"},cv={class:"row justify-content-between"},uv={class:"row col col-auto"},pv={class:"col col-auto"},dv={for:"pnInput1",class:"col-form-label"},gv={class:"col col-auto p-0 m-0"},hv=["placeholder"],fv={class:"col col-auto"},bv=["value"],mv={key:0,class:"invalid-feedback d-block",role:"alert"},vv={style:{"white-space":"pre-wrap"}},yv={key:1,class:"invalid-feedback d-block",role:"alert"},wv={style:{"white-space":"pre-wrap"}},xv={class:"row justify-content-center"},kv={class:"col col-auto"};var Lv=n(4692);function Cv(e){return Cv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(e)}function _v(){_v=function(){return t};var e,t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",l=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,o){var r=t&&t.prototype instanceof m?t:m,i=Object.create(r.prototype),l=new I(o||[]);return a(i,"_invoke",{value:P(e,n,l)}),i}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",g="suspendedYield",h="executing",f="completed",b={};function m(){}function v(){}function y(){}var w={};c(w,i,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x($([])));k&&k!==n&&o.call(k,i)&&(w=k);var L=y.prototype=m.prototype=Object.create(w);function C(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function _(e,t){function n(a,r,i,l){var s=p(e[a],e,r);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==Cv(u)&&o.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(u).then((function(e){c.value=e,i(c)}),(function(e){return n("throw",e,i,l)}))}l(s.arg)}var r;a(this,"_invoke",{value:function(e,o){function a(){return new t((function(t,a){n(e,o,t,a)}))}return r=r?r.then(a,a):a()}})}function P(t,n,o){var a=d;return function(r,i){if(a===h)throw Error("Generator is already running");if(a===f){if("throw"===r)throw i;return{value:e,done:!0}}for(o.method=r,o.arg=i;;){var l=o.delegate;if(l){var s=S(l,o);if(s){if(s===b)continue;return s}}if("next"===o.method)o.sent=o._sent=o.arg;else if("throw"===o.method){if(a===d)throw a=f,o.arg;o.dispatchException(o.arg)}else"return"===o.method&&o.abrupt("return",o.arg);a=h;var c=p(t,n,o);if("normal"===c.type){if(a=o.done?f:g,c.arg===b)continue;return{value:c.arg,done:o.done}}"throw"===c.type&&(a=f,o.method="throw",o.arg=c.arg)}}}function S(t,n){var o=n.method,a=t.iterator[o];if(a===e)return n.delegate=null,"throw"===o&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==o&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+o+"' method")),b;var r=p(a,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,b;var i=r.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function $(t){if(t||""===t){var n=t[i];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var a=-1,r=function n(){for(;++a<t.length;)if(o.call(t,a))return n.value=t[a],n.done=!1,n;return n.value=e,n.done=!0,n};return r.next=r}}throw new TypeError(Cv(t)+" is not iterable")}return v.prototype=y,a(L,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:v,configurable:!0}),v.displayName=c(y,s,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(L),e},t.awrap=function(e){return{__await:e}},C(_.prototype),c(_.prototype,l,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,o,a,r){void 0===r&&(r=Promise);var i=new _(u(e,n,o,a),r);return t.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},C(L),c(L,s,"Generator"),c(L,i,(function(){return this})),c(L,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},t.values=$,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function a(o,a){return l.type="throw",l.arg=t,n.next=o,a&&(n.method="next",n.arg=e),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],l=i.completion;if("root"===i.tryLoc)return a("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),c=o.call(i,"finallyLoc");if(s&&c){if(this.prev<i.catchLoc)return a(i.catchLoc,!0);if(this.prev<i.finallyLoc)return a(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return a(i.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return a(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&o.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var i=r?r.completion:{};return i.type=e,i.arg=t,r?(this.method="next",this.next=r.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var a=o.arg;A(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,o){return this.delegate={iterator:$(t),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function Pv(e,t,n,o,a,r,i){try{var l=e[r](i),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(o,a)}function Sv(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){Pv(r,o,a,i,l,"next",e)}function l(e){Pv(r,o,a,i,l,"throw",e)}i(void 0)}))}}const Ev=(0,d.pM)({name:"App",components:{TableLite:vt},setup:function(){var e=(0,S.nI)(),t=document.getElementsByTagName("HTML")[0].getAttribute("lang");e.appContext.config.globalProperties.$lang.setLocale(t);var n=Xn(),o=n.mats,a=n.getExistingStock,r=Vr(),i=r.reasons,l=r.getPickReason,s=r.lines,c=r.getLines,u=r.uploadNewPickList;(0,S.KC)(Sv(_v().mark((function e(){return _v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E.isLoading=!1,e.next=3,c();case 3:return e.next=5,l();case 5:return e.next=7,a(new Array(0),new Array(0));case 7:case"end":return e.stop()}}),e)}))));var p,g=(0,d.KR)(!1),h=(0,d.KR)(!1),f=(0,d.KR)(!1),b=(0,d.KR)(""),m=e.appContext.config.globalProperties.$t("outboundpageLang.repeated_isn_will_not_display"),v=(0,d.KR)(!1),y=(0,d.KR)(),w=[],x=(0,d.KR)(""),k=((0,d.KR)(""),(0,d.Kh)([])),L=function(){var t=Sv(_v().mark((function t(){var n,a,r,l,c,u,p,d,g,h,f,b,m,v,y;return _v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:return n=JSON.parse(o.value).data,a=JSON.parse(s.value).datas,r=a.map((function(e){return e.線別})),l=JSON.parse(i.value).datas,c=l.map((function(e){return e.領用原因})),u=new Date,p=String(u.getDate()).padStart(2,"0"),d=String(u.getMonth()+1).padStart(2,"0"),g=u.getFullYear(),u=g+"_"+d+"_"+p,h=Array(),(f=new Object).料號=n[0].料號,f.品名=n[0].品名,f.規格=n[0].規格,f.發料部門=n[0].發料部門,f.預領數量="",f.單位=n[0].單位,f.線別="",f.領用原因="",f.備註="",h.push(f),b=new(fe().Workbook),(m=b.addWorksheet(e.appContext.config.globalProperties.$t("outboundpageLang.picklist"))).columns=[{header:e.appContext.config.globalProperties.$t("outboundpageLang.isn"),key:"料號"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.pName"),key:"品名"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.format"),key:"規格"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.senddep"),key:"發料部門"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.pickamount"),key:"預領數量"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.unit"),key:"單位"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.line"),key:"線別"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.usereason"),key:"領用原因"},{header:e.appContext.config.globalProperties.$t("outboundpageLang.mark"),key:"備註"}],m.addRows(h),m.getColumn("G").eachCell((function(e){e.row>1&&(e.dataValidation={type:"list",allowBlank:!1,errorStyle:"stop",errorTitle:"Invalid Data",error:"Please enter a valid value",formulae:['"'+r.join(",")+'"']})})),m.getColumn("H").eachCell((function(e){e.row>1&&(e.dataValidation={type:"list",allowBlank:!1,errorStyle:"stop",errorTitle:"Invalid Data",error:"Please enter a valid value",formulae:['"'+c.join(",")+'"']})})),m.getRow(1).eachCell((function(e){e.font={bold:!0},e.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}})),t.next=35,b.xlsx.writeBuffer();case 35:v=t.sent,y=new Blob([v],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),me().saveAs(y,e.appContext.config.globalProperties.$t("outboundpageLang.download_example")+".xlsx"),Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy");case 40:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),C=function(){var t=Sv(_v().mark((function t(){var n;return _v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.value=!1,t.next=3,_();case 3:y.value?"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"==y.value.type||"application/vnd.ms-excel"==y.value.type||"application/vnd.ms-excel"==y.value.type||".csv"==y.value.type?((n=new FileReader).onload=function(){var t=Sv(_v().mark((function t(n){var o,r,i,l,s,c;return _v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n.target.result,r=tn.LF(o,{type:"binary"}),i=r.SheetNames[0],l=r.Sheets[i],void 0!==(p=tn.Wp.sheet_to_json(l,{header:1}))&&void 0!==p[0]&&void 0!==p[0][0]&&void 0!==p[0][4]&&void 0!==p[0][6]&&void 0!==p[0][7]){t.next=10;break}g.value=!0,b.value=e.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors"),t.next=16;break;case 10:for(s=Array(),c=1;c<p.length;c++)null!=p[c][0]&&p[c].length>0&&""!=p[c][0].trim()&&null!=p[c][0].trim()?s.push(p[c][0].trim().replaceAll("\n","")):(p.splice(c,1),c-=1);return t.next=14,_();case 14:return t.next=16,a(s,new Array(0));case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),n.readAsBinaryString(y.value)):(g.value=!0,b.value=e.appContext.config.globalProperties.$t("validation.mimetypes")):(g.value=!0,b.value=e.appContext.config.globalProperties.$t("validation.required")),y.value=null,document.getElementById("excel_input").value="",Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();var _=function(){var e=Sv(_v().mark((function e(){return _v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Lv("body").loadingModal({text:"Loading...",animation:"circle"}),e.abrupt("return",new Promise((function(e,t){e()})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var t=Sv(_v().mark((function t(){var n,o,a,r,i,l,s,c,p,d,g,f,m,y,w,x;return _v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:if(h.value=!1,n=0,o=!1,!(k.length<=0)){t.next=10;break}return notyf.open({type:"warning",message:e.appContext.config.globalProperties.$t("basicInfoLang.nodata"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),t.abrupt("return");case 10:for(a=0;a<k.length&&0==o;a++)k[a].valid_isn||(o=!0,n=a);if(!o){t.next=18;break}return h.value=!0,b.value=k[n].料號+" "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn"),notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}}),Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),t.abrupt("return");case 18:for(r=new Array(8),i=new Array,l=new Array,s=new Array,c=new Array,p=new Array,d=new Array,g=new Array,f=new Array,m=0;m<k.length;m++)i.push(k[m].料號),l.push(k[m].線別),s.push(k[m].領用原因),c.push(k[m].品名),p.push(k[m].規格),d.push(k[m].單位),g.push(k[m].預領數量),f.push(k[m].備註);return r[0]=i,r[1]=l,r[2]=s,r[3]=c,r[4]=p,r[5]=d,r[6]=g,r[7]=f,y=Date.now(),t.next=39,u(r);case 39:w=t.sent,x=Date.now()-y,console.log("Total time taken : "+x+" milliseconds"),Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),"success"===w?(v.value=!1,notyf.open({type:"success",message:e.appContext.config.globalProperties.$t("checkInvLang.update_success"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}})):notyf.open({type:"error",message:e.appContext.config.globalProperties.$t("checkInvLang.update_failed"),duration:3e3,ripple:!0,dismissible:!0,position:{x:"right",y:"bottom"}});case 45:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,S.wB)(o,Sv(_v().mark((function t(){var n,a,r,l,c,u,d,g,m,y;return _v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_();case 2:if(null!=p&&null!=p&&0!=p.length){t.next=7;break}return Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),E.isLoading=!1,t.abrupt("return");case 7:if(b.value=e.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error")+" Excel "+e.appContext.config.globalProperties.$t("monthlyPRpageLang.row"),""!=o.value){t.next=13;break}return Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),E.isLoading=!1,t.abrupt("return");case 13:n=JSON.parse(o.value),a=JSON.parse(s.value),r=JSON.parse(i.value),l={},c=1;case 18:if(!(c<p.length)){t.next=48;break}if(l.id=c,l.料號=p[c][0].toString().trim(),""===p[c][1]||null===p[c][1]||void 0===p[c][1]?l.品名=n.data.find((function(e){return e.料號===l.料號})).品名:l.品名=p[c][1].toString().trim(),""===p[c][2]||null===p[c][2]||void 0===p[c][2]?l.規格=n.data.find((function(e){return e.料號===l.料號})).規格:l.規格=p[c][2].toString().trim(),""===p[c][3]||null===p[c][3]||void 0===p[c][3]?l.發料部門=n.data.find((function(e){return e.料號===l.料號})).發料部門:l.發料部門=p[c][3].toString().trim(),l.預領數量=parseInt(p[c][4]),""===p[c][5]||null===p[c][5]||void 0===p[c][5]?l.單位=n.data.find((function(e){return e.料號===l.料號})).單位:l.單位=p[c][5].toString().trim(),""===p[c][6]||null===p[c][6]||void 0===p[c][6]?l.線別="":l.線別=p[c][6].toString().trim(),""===p[c][7]||null===p[c][7]||void 0===p[c][7]?l.領用原因="":l.領用原因=p[c][7].toString().trim(),""===p[c][8]||null===p[c][8]||void 0===p[c][8]?l.備註="":l.備註=p[c][8].toString().trim(),-1==k.findIndex((function(e){return e.料號===l.料號&&e.線別===l.線別&&e.領用原因===l.領用原因}))){t.next=33;break}return f.value=!0,t.abrupt("continue",45);case 33:u=n.data.findIndex((function(e){return e.料號===l.料號})),d=a.datas.findIndex((function(e){return e.線別===l.線別})),g=r.datas.findIndex((function(e){return e.領用原因===l.領用原因})),m=n.data.reduce((function(e,t){var n=e.find((function(e){return e.料號===t.料號}));return n?n.現有庫存+=Number(t.現有庫存):e.push({料號:t.料號,現有庫存:Number(t.現有庫存)}),e}),[]),y=m.find((function(e){return e.料號===l.料號})),parseInt(y.現有庫存)<parseInt(l.預領數量)?l.not_enough_stock=!0:l.not_enough_stock=!1,l.valid_isn=-1!=u,l.valid_line=-1!=d,l.valid_reason=-1!=g,(isNaN(l.預領數量)||!1===l.valid_isn||!1===l.valid_line||!1===l.valid_reason||!0===l.not_enough_stock)&&(h.value=!0,b.value=b.value+" "+(c+1)+","),k.push(l),l={};case 45:c++,t.next=18;break;case 48:b.value=b.value.slice(0,-1),Lv("#importedtable").hasClass("show")||Lv("#togglebtn").click(),v.value=!h.value,Lv("body").loadingModal("hide"),Lv("body").loadingModal("destroy"),E.isLoading=!1;case 54:case"end":return t.stop()}}),t)})))),(0,S.wB)(k,(function(){document.getElementsByClassName("vtl-table")[0].scrollIntoView({behavior:"smooth"})}));var E=(0,d.Kh)({isLoading:!0,columns:[{label:e.appContext.config.globalProperties.$t("outboundpageLang.isn"),field:"料號",width:"14ch",sortable:!0,display:function(e,t){return!1===e.valid_isn?'<div class="text-nowrap text-danger CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.料號+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.pName"),field:"品名",width:"14ch",sortable:!0,display:function(t,n){return!1===t.valid_isn?'<div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":"N/A"===t.品名?'<div class="CustomScrollbar text-nowrap text-danger" style="overflow-x: auto; width: 100%;"><span class="text-danger fw-bold">'+t.品名+"</span></div>":'<div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">'+t.品名+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.format"),field:"規格",width:"14ch",sortable:!0,display:function(t,n){return!1===t.valid_isn?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.規格+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.senddep"),field:"發料部門",width:"10ch",sortable:!0,display:function(t,n){return!1===t.valid_isn?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.發料部門+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.pickamount"),field:"預領數量",width:"10ch",sortable:!0,display:function(t,n){return Number.isInteger(t.預領數量)?!0===t.not_enough_stock?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("outboundpageLang.stockless")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.預領數量+"&nbsp;<small>"+t.單位+"</small></div>":"N/A"===t.單位?'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;"><i class="bi bi-x-lg text-danger fw-bold"></i>&nbsp;<small class="text-danger fw-bold">'+t.單位+"</small></div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;"><i class="bi bi-x-lg text-danger fw-bold"></i>&nbsp;<small>'+t.單位+"</small></div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.line"),field:"線別",width:"10ch",sortable:!0,display:function(t,n){return!1===t.valid_line?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("outboundpageLang.no_line")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.線別+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.usereason"),field:"領用原因",width:"10ch",sortable:!0,display:function(t,n){return!1===t.valid_reason?'<div class="text-nowrap CustomScrollbar text-danger" style="overflow-x: auto; width: 100%;">'+e.appContext.config.globalProperties.$t("outboundpageLang.no_reason")+"</div>":'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+t.領用原因+"</div>"}},{label:e.appContext.config.globalProperties.$t("outboundpageLang.mark"),field:"備註",width:"10ch",sortable:!0,display:function(e,t){return'<div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">'+e.備註+"</div>"}}],rows:(0,d.EW)((function(){return k.filter((function(e){return e.料號.toLowerCase().includes(x.value.toLowerCase())||e.品名.includes(x.value)}))})),totalRecordCount:(0,d.EW)((function(){return E.rows.length})),sortable:{order:"儲位",sort:"asc"},messages:{pagingInfo:e.appContext.config.globalProperties.$t("basicInfoLang.now_showing")+" {0} ~ {1} "+e.appContext.config.globalProperties.$t("basicInfoLang.record")+", "+e.appContext.config.globalProperties.$t("basicInfoLang.total")+" {2} "+e.appContext.config.globalProperties.$t("basicInfoLang.record"),pageSizeChangeLabel:e.appContext.config.globalProperties.$t("basicInfoLang.records_per_page"),gotoPageLabel:e.appContext.config.globalProperties.$t("basicInfoLang.go_to_page"),noDataAvailable:e.appContext.config.globalProperties.$t("basicInfoLang.search_with_no_data_returned")},pageOptions:[{value:10,text:10},{value:20,text:20},{value:40,text:40},{value:100,text:100}]});return{isInvalid:g,isInvalid_DB:h,isDuplicated:f,validation_err_msg:b,validation_err_msg_duplicated:m,uploadToDBReady:v,searchTerm:x,table:E,OutputExcelClick:L,updateCheckedRows:function(e){w=e},onUploadClick:C,onInputChange:function(e){g.value=!1,k.splice(0),o.value="",y.value=e.target.files?e.target.files[0]:null,Lv("#importedtable").hasClass("show")&&Lv("#togglebtn").click()},onSendToDBClick:P,CheckCurrentRow:function(e){e.target.closest("tr").firstChild.firstChild.checked||e.target.closest("tr").firstChild.firstChild.click()},deleteRow:function(){for(var e=function(e){var t=k.findIndex((function(t){return parseInt(t.id)===parseInt(w[e].id)}));-1!=t&&k.splice(t,1)},t=0;t<w.length;t++)e(t);document.querySelectorAll(".vtl-tbody-checkbox").forEach((function(e){return e.checked=!1})),document.querySelector(".vtl-thead-checkbox").checked&&document.querySelector(".vtl-thead-checkbox").click(),w=[]}}}});var Av=n(8585),Iv={insert:"head",singleton:!1};ft()(Av.A,Iv);Av.A.locals;const $v=(0,y.A)(Ev,[["render",function(e,t,n,o,a,r){var i=(0,d.g2)("table-lite");return(0,d.uX)(),(0,d.CE)(d.FK,null,[(0,d.Lk)("div",Vm,[(0,d.Lk)("div",Zm,[(0,d.Lk)("h3",null,(0,d.v_)(e.$t("outboundpageLang.pick")),1)]),(0,d.Lk)("div",ev,[(0,d.Lk)("div",tv,[(0,d.Lk)("div",nv,[(0,d.Lk)("a",{onClick:t[0]||(t[0]=function(){return e.OutputExcelClick&&e.OutputExcelClick.apply(e,arguments)}),href:"#"},(0,d.v_)(e.$t("outboundpageLang.download_example")),1)]),t[7]||(t[7]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("label",ov,(0,d.v_)(e.$t("monthlyPRpageLang.plz_upload")),1),t[8]||(t[8]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),(0,d.Lk)("div",av,[(0,d.Lk)("input",{class:(0,d.C4)(["form-control",{"is-invalid":e.isInvalid}]),id:"excel_input",type:"file",name:"select_file",onChange:t[1]||(t[1]=function(){return e.onInputChange&&e.onInputChange.apply(e,arguments)})},null,34),e.isInvalid?((0,d.uX)(),(0,d.CE)("span",rv,[(0,d.Lk)("strong",null,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0)]),t[9]||(t[9]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",iv,[(0,d.Lk)("button",{type:"submit",name:"upload",class:"col col-auto btn btn-lg btn-primary",onClick:t[2]||(t[2]=function(){return e.onUploadClick&&e.onUploadClick.apply(e,arguments)})},(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])])])]),t[14]||(t[14]=(0,d.Lk)("button",{id:"togglebtn",class:"btn btn-primary col col-auto",type:"button","data-bs-toggle":"collapse","data-bs-target":"#importedtable","aria-expanded":"false","aria-controls":"importedtable",style:{display:"none"}},null,-1)),(0,d.Lk)("div",lv,[(0,d.Lk)("div",sv,[(0,d.Lk)("div",cv,[(0,d.Lk)("div",uv,[(0,d.Lk)("div",pv,[(0,d.Lk)("label",dv,(0,d.v_)(e.$t("basicInfoLang.quicksearch"))+": ",1)]),(0,d.Lk)("div",gv,[(0,d.bo)((0,d.Lk)("input",{id:"pnInput1",class:"text-center form-control form-control-lg",placeholder:e.$t("monthlyPRpageLang.enterisn_or_descr"),"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.searchTerm=t})},null,8,hv),[[d.Jo,e.searchTerm]])])]),(0,d.Lk)("div",fv,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,id:"delete",name:"delete",class:"col col-auto btn btn-lg btn-danger",value:e.$t("basicInfoLang.delete"),onClick:t[4]||(t[4]=function(){return e.deleteRow&&e.deleteRow.apply(e,arguments)})},t[10]||(t[10]=[(0,d.Lk)("i",{class:"bi bi-trash3-fill fs-4"},null,-1)]),8,bv)):(0,d.Q3)("",!0)])]),t[12]||(t[12]=(0,d.Lk)("div",{class:"w-100",style:{height:"1ch"}},null,-1)),e.isInvalid_DB?((0,d.uX)(),(0,d.CE)("span",mv,[(0,d.Lk)("strong",vv,(0,d.v_)(e.validation_err_msg),1)])):(0,d.Q3)("",!0),e.isDuplicated?((0,d.uX)(),(0,d.CE)("span",yv,[(0,d.Lk)("strong",wv,(0,d.v_)(e.validation_err_msg_duplicated),1)])):(0,d.Q3)("",!0),(0,d.bF)(i,{"is-fixed-first-column":!0,"is-static-mode":!0,hasCheckbox:!0,"is-loading":e.table.isLoading,messages:e.table.messages,columns:e.table.columns,rows:e.table.rows,total:e.table.totalRecordCount,"page-options":e.table.pageOptions,sortable:e.table.sortable,onIsFinished:t[5]||(t[5]=function(t){return e.table.isLoading=!1}),onReturnCheckedRows:e.updateCheckedRows},null,8,["is-loading","messages","columns","rows","total","page-options","sortable","onReturnCheckedRows"]),t[13]||(t[13]=(0,d.Lk)("div",{class:"w-100",style:{height:"2ch"}},null,-1)),(0,d.Lk)("div",xv,[(0,d.Lk)("div",kv,[e.uploadToDBReady?((0,d.uX)(),(0,d.CE)("button",{key:0,type:"submit",name:"upload",class:"col col-auto fs-3 text-center btn btn-lg btn-info",onClick:t[6]||(t[6]=function(){return e.onSendToDBClick&&e.onSendToDBClick.apply(e,arguments)})},[t[11]||(t[11]=(0,d.Lk)("i",{class:"bi bi-cloud-upload-fill"},null,-1)),(0,d.eW)(" "+(0,d.v_)(e.$t("monthlyPRpageLang.upload1")),1)])):(0,d.Q3)("",!0)])])])])],64)}],["__scopeId","data-v-8ac38a5c"]]);n.g.$=n.g.jQuery=n(4692),n(8290),window.Vue=n(9159).default,window.Notyf=o.zT;var Rv=(0,d.Ef)({components:{"vue-bread-crumb":I,"mats-info-table":Tt,"mats-info-upload-table":pn,"inbound-search-table":Tn,"inbound-stock-table":ao,"inbound-month-table":Co,"inbound-stock-upload-table":Da,"inbound-loc-transfer-table":dr,"inbound-loc-transfer-record-table":Dr,"outbound-pickrecord-table":li,"outbound-backrecord-table":Ei,"transit-search-table":dl,"sxb-search-table":ts,"unit-consumption-upload-table":zs,"unit-consumption-search-table":_c,"monthly-pr-table":Qu,"non-monthly-pr-table":ud,"combined-monthly-search-table":og,"obound-insearch-table":mg,"obound-isnsearch-table":Ig,"obound-pickrecord-table":Kg,"obound-backrecord-table":nh,"obound-stock-table":fh,"news-table":_h,"demand-recieve-diff-page":Tf,"user-table":vb,"checking-inventory-upload-table":tm,"checking-inventory-record":Ym,"outbound-pick-mats-upload-table":$v}});Rv.use(g.A,{messages:f()}),Rv.use(R),Rv.mount("#mountingPoint")},8290:(e,t,n)=>{n(4692),n(4692);window._=n(2543);try{window.Popper=n(8851).A,n(4692),n(454)}catch(e){}window.axios=n(6425),window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"},3063:()=>{window.theme={primary:"#3B7DDD",secondary:"#6c757d",success:"#1cbb8c",info:"#17a2b8",warning:"#fcb92c",danger:"#dc3545",white:"#fff","gray-100":"#f8f9fa","gray-200":"#e9ecef","gray-300":"#dee2e6","gray-400":"#ced4da","gray-500":"#adb5bd","gray-600":"#6c757d","gray-700":"#495057","gray-800":"#343a40","gray-900":"#212529",black:"#000"}},509:e=>{e.exports={"en.auth":{failed:"Login data does not match",throttle:"Too many login attempts. Please try again in seconds."},"en.barcodeGenerator":{Delete_Notice:"Deleting here only means the barcode will not be printed.",Temporary_Storage_Zone:"Temporary Storage Zone",barcode_gening:"Barcode Generate",batch_upload:"Batch Generate",enter_isn:"Enter a PN.",enter_loc:"Enter a Loc.",enter_pName:"Enter a Descr.",exampleExcel:"Example Download",gen:"Generate",isn:"PN",isn_gen_barcode:"Generate PN Barcode",leaving_page_alert:"Leaving the page will clean up all inputs, are you sure?",loc:"Location",loc_gen_barcode:"Generate Loc. Barcode",nothing_to_print:"Nothing to print",pName:"Description",page_name:"Barcode",plz_upload:"Upload an Excel File",print:"Print",print_amount:"Print Qty",search:"Search",search_isn:"Search PN ",search_loc:"Search Location ",spec:"Specification",temp_save_error:"Error :",temp_save_success:"Successfully Saved",upload_save_success:"Successfully Uploaded"},"en.basicInfoLang":{add:"Add",addtodatabase:"Add to Database",basicInfo:"Basic Info.",belong:"Attr.",change:"Update",check:"Check",client:"Client",consume:"Unit Cons.",data:"data",delete:"Delete",differ_by_client:"Vary by clients",download:"Download Excel",enterbelong:"Please select the attribution of consumables",enterformat:"Please Enter Spec.",enterisn:"Please Enter PN",enterlt:"Please Enter LT",entermoney:"Please Select Currency",entermoq:"Please Enter MOQ",entermpq:"Please Enter MPQ",enterpName:"Please Enter Descr.",enterprice:"Please Enter Unit Price",entersafe:"Please Enter Safety Stock",entersenddep:"Please select Issuer",enterunit:"Please enter Unit",enteryorn:"Please Select Yes/No",equiproom:"Equipment Spare parts room",exampleExcel:"Example Download",factory:"Factory",format:"Spec.",go_to_page:"Go to Page : ",gradea:"Grade-A",ieroom:"IE Spare parts room",inreason:"Reason of Inbound",isn:"PN",isnlength:"PN length is not 12",isnrepeat:"Duplicate PN",line:"Line",loc:"Location",lt:"LT",machine:"Model",matsInfo:"Material Info.",matsdata:"Material Data",matssearch:"PN Search",meroom:"ME Spare parts room",money:"Currency",month:"Mthly PR",moq:"MOQ",mpq:"MPQ",new:"New",newMats:"Add Material",newbasicInfo:"New Basic Info.",no:"No",nocheck:"Please check the items to be submitted",nodata:"Nothing to submit",now_showing:"Showing",obound:"Vendor Stock",pName:"Descr.",page_name:"Basic Info.",plz_upload:"Upload an Excel File",price:"Unit-Price",process:"Process",quicksearch:"Search By",record:"reocords",records_per_page:"Row count : ",repeat:"The data has been stored in the database, please confirm.",return:"Return",returnreason:"Reasons of Return",room:"Spare parts room",row:"in row",safe:"Safety Stock",safeerror:"Safety stock of non monthly purchase requisition is required",search_with_no_data_returned:"No Data Found",searchisn:"Search all directly, or enter the part number to search at the beginning",searchisn1:"Enter multiple item numbers for query, separated by newlines(Enter-key)",senddep:"Issue Dep.",stand:"Station",submit:"Submit",success:"Success",total:"Total",unit:"Unit",upload:"Batch Upload",upload1:"Upload",uploaderror:"Not a format for upload of basic information",usedep:"Receiving Dep.",usereason:"Reason of Req.",yellowrepeat:"Yellow background means that the data already exist in the database",yes:"Yes"},"en.bupagelang":{amounterr:"Transfer Qty < stock or <=0",amounterr1:"Acq Qty Exceeds Stock",begindate:"starting date",bu:"BU Consumable Mgmt.",buyrecord:"Recent order record",buytime:"Recent order time",changeok:"Updated successfully",check:"Check",checkreceive:"Confirm whether to receive",checktrans:"Confirm whether to dial out",client:"Clients",days:"Inactive Days",dbadd:"Transfer list add",dblist:"Transfer list number",delete:"Delete",download:"Download",enddate:"ending date",enteramount:"Please Enter Qty",enterclient:"Please select client",enterfactory:"Please select factory",enterisn:"Please enter the PN",enterloc:"Please select Location",enteroutlist:"Please select an outgoing order",enteroutpeople:"Please select dialed people",enterpicklist:"Please select received list",enterreceivepeople:"Please select received people",factory:"Factorys",factorychange:"Factory transfer",format:"Spec.",inboundtime:"inbound time",inventoryerr:"Inventory changes, please rearrange",isn:"PN",isnlength:"PN length is not 12",jobnum:"Job number",loc:"Locations",name:"Name",nocheck:"Please check the item to be deleted / updated",nocheck1:"Please tick the items you want to submit",noisn:"PN does not exist",nooutpeople:"The ID of the dialed people does not exist, please go to User Management-Maintenance of New Person Information",nopickpeople:"The ID of the picker does not exist, please go to User Management-Maintenance of New Person Information",notequal:"not equal",nowstock:"NowStock",opentime:"open list time",outboundtime:"outbound time",outdetail:"Dialed detail",outfactory:"Dialed factory",outlist:"Transfer List <br/> &nbsp;&nbsp;&nbsp; (outbound)",outpeople:"dialed people",outtime:"Dialed time",pName:"Descr.",page_name:"BU Consumable Mgmt.",picklist:"Transfer List <br/> &nbsp;&nbsp;&nbsp; (inbound)",preamount:"Expected Qty",realamount:"Acq Qty",realpickamount:"Acq Qty",receiveamount:"Received Qty",receivedetail:"Received detail",receivefac:"receive factory",receivepeople:"receive people",receivetime:"Received time",remark:"Remarks",return:"return",row:"in Row",search:"Search",searchdetail:"Transfer Detail Search",searchlist:"Transfer List Search",searchoutlist:"Search dialed list",searchpicklist:"Search received list",senddep:"Issuer",sluggish:"Passive stock",status:"status",stock:"Stock",submit:"Submit",success:"Success",timepart:"Time Period",tranamount:"Transfer Qty",transamount:"Dialed Qty",transpeople:"Transfer people",unit:"Unit"},"en.callpageLang":{callsys:"Alarm System",change:"Update",client:"Client",dayalert:"Passive Day Alert",days:"Inactive Days",diffalert:"PR. vs. Acquired",entersenddep:"Please select Issuer",format:"Spec.",ismonth:"Monthly purchase consumables",isn:"PN",loc:"Location",mark:"Remarks",month:"Monthly purchase",nostock:"There is no stock at present",notmonth:"Non-monthly purchase consumables",nowstock:"Available Stock",pName:"Descr.",page_name:"Alarm System",req_vs_real:"PR vs. Acq Qty",req_vs_real_percent:"PR vs. Acq %",return:"Return",safe:"S. Stock",safealert:"Safety Stock Alert",saveremark:"Save Remark",senddep:"Issuer",stock:"Total Stock",success:"Success"},"en.checkInvLang":{all:"All",approver_priority_notice:"Only Priority 1 can approve the stock change",check:"Stock-take",check_not_right_amount:"Excess/Short",check_record:"Stock-taking Record",checked:"Stock-taked",checking_result:"Result",client:"Client",continue_check:"Proceed",create_new_table:"Create New Sheet",create_table_fail:"Process Failed",create_table_success:"New Sheet Created !",created_by:"Created By",created_time:"Created Time",edit:"Edit",emptyList:"Download Empty List",exact:"Exact",excess:"Excess",existed_tables:"There are existed sheets",has:"Has",has_exist_sheet_confirm:"Existing sheets found, do you still want to create a new sheet?",input_isn_barcode:"Scan In PN Barcode",input_loc_barcode:"Scan In Loc. Barcode",inventory:"Inventory",isn:"PN",loc:"Location",loc_short:"Loc.",no_results_found:"No Results Found !",no_such_isn:"No Such PN",no_such_loc:"No Such Location",no_table_found:"No table Found",not_checked:"Not Stock-taked",page_name:"Stock-taking",plz_create:"No recent sheets found, please create a new one.",product_name:"Name",search:"Search",search_by:"Search by",sent_email_failed:"E-Mail Failed.",serial_number:"Serial No.",shortage:"Shortage",sort_by:"Sort by",stock:"Stock",submit:"Submit",this:"This",time_range:"Time Range",unchecked:"not yet stock-taked !",unknown:"N/A",update_failed:"Update Failed.",update_success:"Update Success!",updated_at:"Updated At",updated_by:"Updated By",upload:"Upload Result",value_not_changed:"The inventory result has not changed. Are you sure to send it?"},"en.fileUploadErrors":{Content_errors:"There are errors within the file.",Exceeded_filesize_limit:"Exceeded Filesize Limit",Failed_to_move_uploaded_file:"Failed to Move Uploaded File",Invalid_file_format:"Unsupported File Extension",Invalid_parameters:"Invalid Parameters",No_file_sent:"No File Sent",Unknown_errors:"Unknown Errors"},"en.httpErrors":{error_569_msg:"Login Failed",error_569_title:"Login Failed"},"en.inboundpageLang":{FlowNumber:"SSZ FlowNumber",LocationChangeRecord:"Loc. Transfer Record",add:"Add",addclient:"Add(By client)",addtodatabase:"Add to Inventory",altered_by_other_recently:"has been modified by others. Please re-query",amount:"Qty",begindate:"Begin date",change:"Update",check:"Check",choose:"Select",click_the_flow_number:"Click on the SSZ FlowNumber to send the materials to the location",client:"Clients",coming:"Coming from",days:"Inactive Days",delete:"Delete",download:"Download",enddate:"End date",enterSSZ:"SSZ FlowNumber",enteramount:"Please Enter Qty",enterclient:"Please select the client",enterinpeople:"Please select an operator",enterinreason:"Please select a reason",enterisn:"Please enter PN",enterisn_or_loc:"PN/Location",enterisn_or_spec:"PN/Spec",enterloc:"Please enter Loc.",entersenddep:"Please select the Issuer",exampleExcel:"Example Download",format:"Spec.",gradea:"GradeA Material",inbound_loc:"Inbound Loc.",inbound_staff:"Inbound Operator",inboundnum:"Inbound Qty",inboundtime:"Inbound Time",inlist:"Inbound list no.",inpeople:"Operator",inputinreason:"Please input a reason",inreason:"Reason",isn:"PN",isnlength:"PN length is not 12",lessstock:"Current inventory is less than the inbound qty, cannot delete some of the inbound records.",loc:"Location",locationchange:"Location Transfer",mark:"Remarks",money:"Currency",month:"Mothly PR",monthuse:"Mthly Use",new:"New",newloc:"Send to Loc.",newloc_empty:"Please select the destination location",newloc_same:"The destination location is the same as the original location",no_basic:"PN data not exist",no_basic_are_highlighted:"PN in red indicates that the material info. is not maintained",nocheck:"Please tick the items you want to delete/update",noclient:"Client does not exist",nogood:"Defectives",noinpeople:"The ID does not exist, please go to User Mgmt. -> Modify Staff Info.",noisn:"PN does not exist",noloc:"Location does not exist",notransit:"Picking list cannot be opened because the in transit quantity is 0",nowstock:"Stock",nowstock_failed:"Failed to get existing stock",oldloc:"Stock Loc.",operateTime:"Operated On",orig_loc:"Orig. Loc.",other:"other",pName:"Descr.",page_name:"Inbound",plz_upload:"Upload an Excel File",price:"Unit price",qty_empty:"Transfer quantity cannot be 0",qty_exceed:"Transfer quantity cannot be greater than stock",record:"Records",repeated_isn_90_pair:"Repeated PN & 90PN Pairs",repeated_isn_loc_pair:"Repeated PN & Loc. Pairs",return:"return",rfidinpeople:"Please click here to tap ID card",row:"On Row",safe:"S. Stock",search:"Search",searchstock:"Stock Search",senddep:"Issuer",stock:"Stock",stock_within_brackets:"Amounts between (brackets) are stocks BEFORE transfer",stockmonth:"In-Use Months",stockupload:"Stock Upload",submit:"Submit",success:"Success",timepart:"Time period",to:"to",total:"Total",transfer:"transfer",transferamount:"Transfer Qty",transit:"Qty in Transit",transiterror:"The receipt quantity cannot be greater than the in transit quantity",unit:"Unit",updatetime:"Updated On",upload:"Batch Upload",upload1:"Upload",within_a_month:"Within a month",within_a_year:"Within a year",within_three_months:"Within 3 months"},"en.loginPageLang":{addtodatabase:"AddtoDatabase",adduser:"Add User",againlogin:"Please log in again",change:"Update",changeMail:"Change Email",changePass:"Change Password",change_site_permission_reset:"Your permission will be reset.<br/>Contact the site manager for more permissions.",check:"Check",current_permission:"Current Permission",data:"Data",database_list:"Databases",delete:"Delete",dep:"Department",email:"Company Email",enter_email:"Enter Email Account",enterdep:"Please Enter the Department",enteremail:"Please enter company email",enterjobsearch:"Please enter your ID",enterlogin:"Please enter the login account",entername:"Please enter your name",enternewpass:"Enter New Password",enteroldpass:"Enter Old Password",enterpassword:"Enter New Password Again",enterpriority:"Please Select the Permission",errorpassword:"The old password was incorrect",errorpassword2:"The password does not match",exampleExcel:"Example format download",functionality:"Functionality",home:"Home",joblength:"The length of the ID is not 9",jobnumber:"ID",jobrepeat:"ID repeat",jobsearch:"ID search",latest_login_time:"Latest Login",login_btn:"Login",loginsearch:"Login account search",mail:"Email",name:"Name",new:"New",newSSO_msg:"This OA account has not logged in before.<br/>Please complete the form for initial settings.",new_email:"New Email",newpass:"New Password",no_email:"None",nocheck:"Please tick the items you want to submit",old_email:"Old Email",oldpass:"Old Password",page_name:"User Mgmt.",password:"Password",password_placeholder:"Enter your password",permission_details:"Permission Details",permission_notice:"Your permission might be restricted at first (lv 4).<br/>Contact your manager for more permissions.",pinf:"Personnel Info.",plz_upload:"Please upload an Excel file",pre_page:"Prev.",priority:"Permission",profile_pic:"Profile Pic",record:"Record",return:"return",row:"On Row",search:"Search",selectprofile_pic:"Please select Profile Pic",settings:"Settings",signup:"Sign Up",site:"Site",site_error:"Please select your site.",site_placeholder:"Choose your site",submit:"Submit",success:"Success",surepassword:"Confirm Password",total:"Total",upload:"Batch upload",upload1:"Upload",user:"User",username:"ID",username_placeholder:"Enter your username",username_search:"Search by ID/Name",usernamerepeat:"The account is repeated, please enter again.",welcome:"Welcome",welcome_msg:"Sign in to your account to continue",yellowrepeat:"Yellow background means that the data already exist in the database"},"en.monthlyPRpageLang":{"90isn":"90PN","90isnlength":"90PN length incorrect",PR:"Export All PR Data",SXB_search:"PR Record",SendPRReview:"Apply All",SendSelectedPRReview:"Apply Selected",UpdateUnitPrice:"Update Unit Price",add:"Add",addtodatabase:"Add to Database",allclient:"ALL Client",applydate:"Date",buyamount:"Req Qty INST",buyamount1:"Req Qty",buyper:"％ of Demand",buyprice:"Req Amt",buytime:"Req Time",change:"Updated",check:"Check",clickmail:"Click Here",client:"Clients",confirm_pr:"Confirm & Send PR",confirmemail:"Confirm Email",confirmpeople:"Confirm People",consume:"Unit Cons.",consumemail:"Hi, Please Click this link to confrim Consume data.",control:"Control items",data:"Data",delete:"Delete",description:"Descr.",download:"Download",duplicate_pr_warning1:"There are same PN within the last 20 days, same stock amount will be deducted on both PR.",duplicate_pr_warning2:"Please confirm the total PR amount (Your PR amount + This PR amount) is correct.",email:"Email",emailsender:"Email Sender",enter90isn:"Search 90PN",enteramount:"Qty",enterclient:"Select a Client",entercontrol:"Select Control Items",enterdesc:"Descr.",enterisn:"PN",enterisn_90pn_or_descr:"PN/90PN/Descr.",enterisn_or_descr:"PN/Descr.",entermachine:"Select a Model",entermoney:"Select a CUR",enterprocess:"Select a Process",entersenddep:"Select a Issuing Dept.",entersrm:"SRM No.",entersxb:"Work ID",errormonth:"For monthly purchase requisition consumables, control LN and description must be filled in.",exampleExcel:"Example Download",exchangerate_notfound:"EXR Not Found",export:"Export",export1:"Export inquiry price style",exportspan:"Only the records with Buying Qty > 0 will be exported",format:"Spec.",generatePR:"Generate PR",importMonthlyData:"Import Monthly PR Data",importNonMonthlyData:"Import Non-Monthly PR Data",info:"Info.",isn:"PN",isnConsumeAdd:"Unit Consumption (Add)",isnConsumeUpdate:"Unit Consumption (Search & Update)",isnlength:"PN length is not 12",loadconsume:"Load Rejected Records",loadsuccess:"Loaded Successfully",lt:"LT",machine:"Models",markconsume:"If checked, the consumption engineer had confirmed it.<br/>\n                    If not, it means the record was rejected.",markstand:"If checked, the station manpower engineer had confirmed it.<br/>\n                    If not, it means the record was rejected.",money:"Currency",month:"Mothly PR",months:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec",moq:"MOQ",mpq:"MPQ",needper:"％ of Req",needprice:"Demand Amt",new:"New",nextchange:"Daily change frequency PROX",nextclass:"Number PROX of class",nextday:"Prod. Days PROX",nextdayneed:"Daily Demand PROX",nextline:"Number PROX of line",nextmps:"MPS PROX",nextneed:"Demand PROX",nextpeople:"Number PROX of stand",nextuse:"Daily Demand per Person PROX",no_req_amount_to_submit:"All Buying Qty is 0, nothing to submit",nocheck:"Tick the items you want to submit",noclient:"Client does not exist",nodata:"Nothing to submit",noemail:"Signatory",noisn:"PN does not exist",noload:"No Data Were Loaded",nomachine:"Model does not exist",nonmonthly_pr_already_sxb:"The following materials have been filed for approval：",nopeople:"Signatory's Staff ID",noproduction:"Process does not exist",notmonth:"Non-monthly PR",nounitconsumption:"Unit Cons. does not exist or not yet approved",nowchange:"Daily change frequency INST",nowclass:"Number of shifts INST",nowday:"Prod. Days INST",nowdayneed:"Daily Demand INST",nowline:"Number of lines opened INST",nowmps:"MPS INST",nowneed:"Demand INST",nowpeople:"Number of stations INST",nowrite:"Not yet filled in the field",nowstock:"Stock",nowuse:"Daily Demand per Person INST",on_the_way_search:"On-Order Qty",pName:"Descr.",page_name:"Monthly PR",please_utilize:"Please Utilize",plz_upload:"Upload an Excel File",plz_write:"Please fill in the field",pr_sender:"Applicant",price:"Unit Price",process:"Processes",rate:"Exachange Rate",realneed:"Actual Demand",reason:"Enter a Reason",record:"Record",remark:"Remarks",repeat:"The data has been stored in the database, please check.",repeated_isn:"Repeated PN",return:"return",review_cancel:"Reject",review_complete:"Approve",review_pending:"Pending",row:"On Row",safe:"S. Stock",search:"Search",senddep:"Issuing Dept.",shallow_delete:"To delete completely, please go to Import (Non)Monthly PR.",some_data_has_no_amount:"Only the records with Buying Qty > 0 will appear in the PR pdf.",srm:"SRM number",srmspan:"Only fill in the tick column",stand:"Station Manpower",standAdd:"Station Manpower (Add)",standUpdate:"Station Manpower (Search & Update)",standmail:"Hi, Please Click this link to confrim Stand data.",status:"Status",submit:"Submit",submitspan:"Only the columns filled with SRM and Buying Qty > 0 will be submitted or exported",success:"Successfully",surepeople:"Signatory's Staff ID",surepeopleemail:"Signatory's Email",sxbamount:"SXB Qty",sxbamounterr:"The qty of SXB cannot exceed buying qty",timepart:"Time period",to_update_unit_price:"to Update Unit Price.",total:"Total",transit:"In-Transit",transit_reviser:"Reviser",unit:"Unit",upload:"Batch Upload",upload1:"Upload",uploadtime:"Upload Time",writesrm:"Write SRM number",writetime:"Updated At",yellowrepeat:"Yellow background means that the data already exist in the database"},"en.oboundpageLang":{add:"Add",addtodatabase:"Add to database",amount:"Qty",amountzero:"The qty of storage cannot be less than or equal to 0",back:"Return Material",backamount:"Pre-return Qty",backdiffreason:"Reason for actual returned diff.",backlist:"Material Return Sheet",backlistnum:"Return List #",backpeople:"Rejecter",backpeoplenum:"Rejecter's ID",backreason:"Return Reason",backrecord:"Material Return Record",begindate:"starting date",bound:"Library",client:"Clients",data:"data",delete:"delete",deletebacklist:"Delete return list",deletepicklist:"Delete pickup list",diffreason:"Reason of Diff",download:"Download",enddate:"ending date",enteramount:"Please Enter Qty",enterbacklist:"Please select returning list",enterbackpeople:"Please select return people",enterbackreason:"Please select return reason",enterbound:"Please select the library",enterclient:"Please select client",enterdiffreason:"Please input the reason",enterformat:"Please enter the Specification",enterinpeople:"Please select an operator",enterinreason:"Please select a reason",enterisn:"Please enter the PN",enterline:"Please select line",entermachine:"Please select model",enterpName:"Please enter the Description",enterpicklist:"Please select pickup list",enterpickpeople:"Please Select Picker",enterprocess:"Please select process",enterreceivepeople:"Please select receivier",entersendpeople:"Please Select Dispatcher",enterstatus:"Please select the status",enterusereason:"Please select usereason",exampleExcel:"Example Download",format:"Spec.",good:"Good product",inbound:"Inbound",inboundnum:"Inbound Amt",inboundsearch:"Inbound Search",inboundtime:"Inbound time",inlist:"Inbound list number",inpeople:"Operator",inputbackpeople:"Please input Rejecter ID",inputbackreason:"Please enter return reason",inputinreason:"Please enter a reason",inputpickpeople:"Please input Picker ID",inputreceivepeople:"Please input Receiver ID",inputsendpeople:"Please input Dispatcher ID",inputusereason:"Please enter usereason",inreason:"Reason",isn:"PN",isnlength:"PN length is not 12",isnrepeat:"Duplicate Part Number",lessstock1:"The current inventory is less than the receipt quantity. This receipt cannot be deleted.",line:"Lines",machine:"Models",mark:"Remarks",matsInfo:"Material Info.(Search)",matsdata:"Material Data",new:"New",newMats:"Add Material",nobackpeople:"The ID of the return people does not exist, please go to User Management-Maintenance -> Person Information",nobound:"Library does not exist",nocheck:"Please tick the items you want to delete/update",noclient:"Client does not exist",nogood:"rejects",noinpeople:"The ID of the operator does not exist, please go to User Management-Maintenance -> Person Information",noisn:"PN does not exist",nopickpeople:"The ID of the picker does not exist, please go to User Management-Maintenance -> Person Information",noreceivepeople:"The ID of the Receiver does not exist, please go to User Management-Maintenance -> Person Information",nosendpeople:"The ID of the sender does not exist, please go to User Management-Maintenance -> Person Information",nostock:"The Client & PN do not have stock can not bill material requisition",nowbound:"current library",nowstock:"Available Stock",oisn:"Vendor Stock PN",opentime:"Open list time",other:"other",outbackok:"Outbound completed Backlist number",outboundtime:"outbound time",outpickok:"Outbound completed Picklist number",pName:"Descr.",page_name:"Vendor Stock",pick:"Pick Material",pickamount:"Quantity to be Collected",picklist:"Pick Material List",picklistnum:"Pickup list number",pickpeople:"Picker",pickpeoplenum:"Picker's ID",pickrecord:"Pick Material Record",plz_upload:"Upload an Excel File",process:"Processes",realbackamount:"Actual Returned Qty",realpickamount:"Acq Qty",receivepeople:"Receiver",receivepeoplenum:"Receiver's ID",record:"Record",return:"return",rfidinpeople:"Click here and tap the Staff's ID card",row:"On Row",search:"Search",searchbacklist:"Search return list",searchpicklist:"Search pickup list",searchstock:"Stock Search",senddep:"Issuer",sendpeople:"Material issuing personnel",sendpeoplenum:"Material issuing personnel ID",status:"Status",stockless:"The inventory is less than the actual requisition quantity thus cannot outbound",stockupload:"Stock Upload",submit:"Submit",success:"Success",timepart:"Time period",total:"Total",unit:"Unit",updatetime:"Updated On",upload:"Batch Upload",upload1:"Upload",usereason:"Reason",yellowrepeat:"Yellow background means that the data already exist in the database"},"en.outboundpageLang":{add:"Add",back:"Return Material",backamount:"Pre-return Qty",backdiffreason:"Reason of Diff",backlist:"Material Return Sheet",backlistnum:"Return List #",backpeople:"Rejecter",backpeoplenum:"Rejecter's ID",backreason:"Return Reasons",backrecord:"Material Return Record",begindate:"starting date",client:"Clients",delete:"delete",deletebacklist:"Delete return list",deletepicklist:"Delete pickup list",diffreason:"Reason of Diff",download:"Download",download_example:"Download Example",enddate:"ending date",enteramount:"Please Enter Qty",enterbacklist:"Please select returning list",enterbackpeople:"Please select return personnel",enterbackreason:"Please select return reason",enterclient:"Please select client",enterdiffreason:"Please input the reason",enterisn:"Please enter the PN",enterline:"Please select line",enterloc:"Please select Location",entermachine:"Please select model",enterpicklist:"Please select pickup list",enterpickpeople:"Please Select Picker",enterprocess:"Please select process",enterreceivepeople:"Please select receivier",entersenddep:"Please select the Issuer",entersendpeople:"Please Select Dispatcher",enterstatus:"Please select the status",enterusereason:"Please select usereason",format:"Spec.",good:"good product",inboundtime:"Inbound Time",inputbackpeople:"Please input Rejecter ID",inputbackreason:"Please enter return reason",inputpickpeople:"Please input Picker ID",inputreceivepeople:"Please input Receiver ID",inputsendpeople:"Please input Dispatcher ID",inputusereason:"Please enter usereason",isn:"PN",isnlength:"PN length is not 12",line:"Lines",loc:"Location",machine:"Machines",mark:"Remarks",no_line:"Line does not exist",no_reason:"Reason does not exist",nobackpeople:"The ID of the return person does not exist, please go to User Management-Maintenance -> Person Information",nogood:"rejects",noisn:"PN does not exist",nopickpeople:"The ID of the picker does not exist, please go to User Management-Maintenance -> Person Information",noreceivepeople:"The ID of the Receiver does not exist, please go to User Management-Maintenance -> Person Information",nosendpeople:"The ID of the sender does not exist, please go to User Management-Maintenance -> Person Information",nostock:"Said Isn pair does not have any stock, cannot bill material requisition",nostock1:"Said PN & Location pair do not have any stock, cannot be outbounded",nowloc:"current storage location",nowstock:"Available stock",opentime:"Opened Time",other:"other",outbackok:"Outbound completed, Backlist number",outboundtime:"Outbound Time",outpickok:"Outbound completed, Picklist number",pName:"Descr.",page_name:"Outbound",pick:"Pick Material",pickamount:"Prefetch Qty",picklist:"Pick Material List",picklistnum:"Pickup #",pickpeople:"Picker",pickpeoplenum:"Picker's ID",pickrecord:"Pick Material Record",process:"Processes",realbackamount:"Actual Returned Qty",realpickamount:"Acq Qty",realpickzero:"Acquired Qty is 0",receivepeople:"Receiver",receivepeoplenum:"Receiver's ID",record:"record",repeated_isn_will_not_display:"Repeated ISN+Line+Reason will not be displayed in Excel",return:"return",rfidinputbackpeople:"Click here and tap the Rejecter's ID card",rfidinputpickpeople:"Click here and tap the Picker's ID card",rfidinputreceivepeople:"Click here and tap the Receiver's ID card",rfidinputsendpeople:"Click here and tap the Dispatcher's ID card",row:"On Row",search:"Search",searchbacklist:"Search return list",searchpicklist:"Search pickup list",senddep:"Issuer",sendpeople:"Dispatcher",sendpeoplenum:"Dispatcher ID",status:"Status",stockless:"The inventory is less than the actual requisition qty thus cannot be outbounded",submit:"Submit",success:"Success",timepart:"Time period",total:"Total",unit:"Unit",usereason:"Reason"},"en.pagination":{next:"Next &raquo;",previous:"&laquo; Previous"},"en.passwords":{reset:"Your password has been reset!",sent:"We have emailed your password reset link!",throttled:"Please wait before retrying.",token:"This password reset token is invalid.",user:"We can't find a user with that email address."},"en.templateWords":{News:"Bulletin",PInfo:"Modify Staff Info.",PR:"Export All PR Data",UserInfo:"Modify User Info.",addNewCat:"Add New Category",addNews:"Add Bulletin",all:"All",all_history_records:"All Past Records",apply:"Apply",barcode_gen:"Barcodes",barcode_generator:"Barcode Generator",basicInfo:"Basic Info.",bu:"BU C.M.",callsys:"Alarm System",cancel:"Cancel",cat:"Category",changePass:"Change Password",checkIvent:"Stock-taking",checkIvent_create_new_table:"Create New Sheet",chrome:"Chrome",clear_cache:"When Website Behaves Unexpectedly, Please Refer to The Following Docs.",content:"Content",custom_range:"Custom Range",dashboard:"Menubar",dateOfNotice:"Date",dep:"Department Site",east:"PSH EIP",edge:"Edge",editNews:"Edit Bulletin",first_thing_first:"If it seems like there's someting missing, try pressing Shift + Ctrl + R on your keyboard first.",importMonthlyData:"Import Monthly <br/> &nbsp;&nbsp;&nbsp; PR Data",importNonMonthlyData:"Import Non-Monthly <br/> &nbsp;&nbsp;&nbsp; PR Data",important:"Important",inbound:"Inbound",isnBarcode:"Find PN. Barcode",isnConsumeAdd:"Unit Consumption <br/> &nbsp;&nbsp;&nbsp; (Add)",isnConsumeUpdate:"Unit Consumption <br/> &nbsp;&nbsp;&nbsp; (Search & Update)",language:"Language",level:"Level",locBarcode:"Find Loc. Barcode",logout_btn:"Log Out",middle:"PSZ EIP",monthly:"Monthly PR",newPInfo:"Add Staff Info.",newUser:"Add User",nonmonthly:"Non-Monthly PR",normal:"Normal",nowuser:"Logged-In User :",obound:"Vendor Stock",on_the_way_search:"On-Order Qty",outbound:"Outbound",past_three_months:"Past 3 Months",project:"Project Site",site:"Site",standAdd:"Station Manpower <br/> &nbsp;&nbsp;&nbsp; (Add)",standUpdate:"Station Manpower <br/> &nbsp;&nbsp;&nbsp; (Search & Update)",taipei:"Taipei EIP",title:"Title",today:"Today",urgent:"Urgent",userManage:"User Mgmt.",websiteName:"Consumable Mgmt.",west:"PCQ EIP"},"en.validation":{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute must only contain letters.",alpha_dash:"The :attribute must only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute must only contain letters and numbers.",array:"The :attribute must be an array.",attributes:{password:"password",username:"username"},before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{array:"The :attribute must have between :min and :max items.",file:"The :attribute must be between :min and :max kilobytes.",numeric:"The :attribute must be between :min and :max.",string:"The :attribute must be between :min and :max characters."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",custom:{"attribute-name":{"rule-name":"custom-message"}},date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",ends_with:"The :attribute must end with one of the following: :values.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{array:"The :attribute must have more than :value items.",file:"The :attribute must be greater than :value kilobytes.",numeric:"The :attribute must be greater than :value.",string:"The :attribute must be greater than :value characters."},gte:{array:"The :attribute must have :value items or more.",file:"The :attribute must be greater than or equal :value kilobytes.",numeric:"The :attribute must be greater than or equal :value.",string:"The :attribute must be greater than or equal :value characters."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{array:"The :attribute must have less than :value items.",file:"The :attribute must be less than :value kilobytes.",numeric:"The :attribute must be less than :value.",string:"The :attribute must be less than :value characters."},lte:{array:"The :attribute must not have more than :value items.",file:"The :attribute must be less than or equal :value kilobytes.",numeric:"The :attribute must be less than or equal :value.",string:"The :attribute must be less than or equal :value characters."},max:{array:"The :attribute must not have more than :max items.",file:"The :attribute must not be greater than :max kilobytes.",numeric:"The :attribute must not be greater than :max.",string:"The :attribute must not be greater than :max characters."},mimes:"The :attribute must be a file of type: :values.",mimetypes:"Must be a file of type: xls or xlsx.",min:{array:"The :attribute must have at least :min items.",file:"The :attribute must be at least :min kilobytes.",numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},multiple_of:"The :attribute must be a multiple of :value.",not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",password:"The password is incorrect.",present:"The :attribute field must be present.",prohibited:"The :attribute field is prohibited.",prohibited_if:"The :attribute field is prohibited when :other is :value.",prohibited_unless:"The :attribute field is prohibited unless :other is in :values.",regex:"format incorrect.",required:"required",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{array:"The :attribute must contain :size items.",file:"The :attribute must be :size kilobytes.",numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with one of the following: :values.",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID."},"en.welcomePageLang":{header:"Consumables Management",login_btn:"Log in",menu:"Menu"},"id.auth":{failed:"Informasi login tidak cocok",throttle:"Terlalu banyak upaya masuk, silahkan coba lagi setelah :seconds detik"},"id.barcodeGenerator":{Delete_Notice:"Menghapus di sini hanya berarti barcode tidak akan dicetak.",Temporary_Storage_Zone:"Zona Penyimpanan Sementara",barcode_gening:"Pembuatan kode bar",batch_upload:"Pembuatan batch",enter_isn:"Masukkan material",enter_loc:"Masukkan Lokasi",enter_pName:"Masukkan deskripsi",exampleExcel:"Contoh Unduhan",gen:"Pembuatan",isn:"Material",isn_gen_barcode:"Pembuatan kode bar material",leaving_page_alert:"Meninggalkan halaman akan membersihkan semua masukan, apakah Anda yakin?",loc:"Lokasi",loc_gen_barcode:"Pembuatan lokasi kode bar",nothing_to_print:"Tidak ada yang dapat dicetak",pName:"Deskripsi",page_name:"Kode bar",plz_upload:"Unggah Excel",print:"Cetak",print_amount:"Cetak Jumlah",search:"Pencarian",search_isn:"Pencarian Material",search_loc:"Pencarian Lokasi",spec:"Spesifikasi",temp_save_error:"Kesalahan :",temp_save_success:"Berhasil Disimpan",upload_save_success:"Berhasil Diunggah"},"id.basicInfoLang":{add:"Tambah",addtodatabase:"Tambahkan ke Basis Data",basicInfo:"Info Dasar.",belong:"Tipe Material",change:"Perbarui",check:"Centang",client:"Klien",consume:"Konsumsi Satuan",data:"data",delete:"Hapus",differ_by_client:"Bervariasi Sesuai",download:"Unduh Excel",enterbelong:"Silakan pilih tipe material",enterformat:"Silakan Masukkan Spesifikasi",enterisn:"Silakan Masukkan Material",enterlt:"Silakan Masukkan LT",entermoney:"Silakan Pilih Mata Uang",entermoq:"Silakan Masukkan MOQ",entermpq:"Silakan Masukkan MPQ",enterpName:"Silakan Masukkan Deskripsi",enterprice:"Silakan Masukkan Harga Satuan",entersafe:"Silakan Masukkan Stok aman",entersenddep:"Silakan pilih departemen mengeluarkan",enterunit:"Silakan Masukkan Satuan",enteryorn:"Silakan Pilih Ya/Tidak",equiproom:"Ruangan spare room peralatan",exampleExcel:"Contoh Unduhan",factory:"Pabrik",format:"Spesifikasi",go_to_page:"Jumlah halaman sekarang:",gradea:"Kelas-A",ieroom:"IE Ruangan spare room",inreason:"Alasan Masuk",isn:"Material",isnlength:"Panjang material bukan 12",isnrepeat:"Duplikat PN",line:"Lini",loc:"Lokasi",lt:"LT",machine:"Model",matsInfo:"Info Material",matsdata:"Data Material",matssearch:"Pencarian material",meroom:"ME Ruangan spare room",money:"Mata Uang",month:"Pembelian Bulanan",moq:"MOQ",mpq:"MPQ",new:"Tambah baru",newMats:"Tambahkan Material",newbasicInfo:"Tambah Info Dasar ",no:"Tidak",nocheck:"Silahkan centang item yang akan diserahkan",nodata:"Tidak ada yang akan diserahkan",now_showing:"Menampilkan",obound:"Stok Vendor",pName:"Deskripsi",page_name:"Info Dasar.",plz_upload:"Unggah Excel",price:"Harga Satuan",process:"Proses",quicksearch:"Cari Berdasarkan",record:"Transaksi",records_per_page:"Jumlah baris :",repeat:"Data telah disimpan dalam basis data, mohon melakukan pemeriksaan ulang",return:"Pengembalian",returnreason:"Alasan Pengembalian",room:"Ruangan spare room",row:"di baris",safe:"Stok Aman",safeerror:"Stok aman dari material non bulanan perlu diisi",search_with_no_data_returned:"Tidak Ada Data yang Ditemukan",searchisn:"Cari semua secara langsung, atau masukkan material untuk mencari di awal",searchisn1:"Masukkan beberapa nomor item untuk kueri, dipisahkan dengan baris baru (tombol Enter)",senddep:"Mengeluarkan",stand:"Stasiun",submit:"Kirim",success:"Berhasil",total:"Total",unit:"Satuan",upload:"Unggah massal",upload1:"Unggah",uploaderror:"Bukan format untuk mengunggah informasi dasar",usedep:"Menerima",usereason:"Alasan Pengambilan",yellowrepeat:"Latar belakang kuning berarti data sudah ada dalam basis data",yes:"Ya"},"id.bupagelang":{amounterr:"Kuantitas yang dialokasikan kurang dari persediaan/kuantitas yang dialokasikan <=0",amounterr1:"Jumlah aktual yang dikeluarkan > Persediaan stok",begindate:"Tanggal mulai",bu:"Manajemen material BU",buyrecord:"Catatan pembelian terkini",buytime:"Waktu pembelian terkini",changeok:"Berhasil diperbarui",check:"Centang",checkreceive:"Konfirmasi penerimaan",checktrans:"Konfirmasi transfer keluar",client:"Klien",days:"Hari pasif stok",dbadd:"Tambahkan pemindahan",dblist:"Nomor Formulir Transfer",delete:"Hapus",download:"Unduh",enddate:"Tanggal akhir",enteramount:"Silakan masukkan jumlah",enterclient:"Silakan pilih pelanggan",enterfactory:"Silakan pilih area pabrik",enterisn:"Silakan masukkan material",enterloc:"Silakan pilih lokasi",enteroutlist:"Silakan pilih formulir transfer keluar",enteroutpeople:"Silakan pilih orang yang mengeluarkan",enterpicklist:"Silakan pilih formulir transfer masuk",enterreceivepeople:"Silakan pilih penerima",factory:"Pabrik",factorychange:"Stok transfer antar pabrik",format:"Spesifikasi",inboundtime:"Waktu penyimpanan stok",inventoryerr:"Ada perubahan pada stok barang, mohon disusun kembali.",isn:"Material",isnlength:"Panjang material bukan 12",jobnum:"Nomor karyawan",loc:"Lokasi",name:"Nama",nocheck:"Silakan centang item yang ingin dihapus/perbarui",nocheck1:"Silakan centang item yang ingin dikirimkan",noisn:"Material tidak terdaftar, silahkan tambahkan informasi material terlebih dahulu",nooutpeople:"Nomor karyawan pengeluaran stok tidak terdaftar. Silakan buka Manajemen Pengguna - Tambahkan Informasi Personil terlebih dahulu.",nopickpeople:"Nomor karyawan penerima tidak terdaftar. Silakan buka Manajemen Pengguna-Tambahkan Pemeliharaan Informasi Personalia terlebih dahulu.",notequal:"Tidak sama dengan",nowstock:"Persediaan stok",opentime:"Waktu pembukaan formulir",outboundtime:"Waktu pengeluaran stok",outdetail:"Rincian pengeluaran",outfactory:"Pabrik yang mengeluarkan",outlist:"Pemindahan_transfer keluar",outpeople:"Orang yang mengeluarkan",outtime:"Waktu pengeluaran",pName:"Nama Produk",page_name:"Manajemen material BU",picklist:"Pemindahan_transfer masuk",preamount:"Jumlah yang akan ditransfer keluar",realamount:"Jumlah yang diterima",realpickamount:"Jumlah yang diterima",receiveamount:"Jumlah yang diterima",receivedetail:"Rincian penerimaan",receivefac:"Pabrik yang menerima",receivepeople:"Penerima",receivetime:"Waktu penerimaan",remark:"Catatan",return:"Kembali",row:"Pada baris",search:"Pencarian",searchdetail:"Pencarian rincian transfer",searchlist:"Pencarian formulir pemindahan",searchoutlist:"Pencarian formulir transfer keluar",searchpicklist:"Pencarian formulir transfer masuk",senddep:"Departemen yang mengeluarkan",sluggish:"Stok pasif",status:"Status",stock:"Stok",submit:"Kirim",success:"Sukses",timepart:"Periode waktu",tranamount:"Jumlah transfer",transamount:"Jumlah pengalokasian",transpeople:"Orang yang mengeluarkan",unit:"Satuan"},"id.callpageLang":{callsys:"Sistem alarm",change:"Memperbarui",client:"Klien",dayalert:"Jumlah hari stok pasif",days:"Jumlah hari stok pasif",diffalert:"Permintaan vs Penggunaan",entersenddep:"Silakan pilih departemen mengeluarkan",format:"Spesifikasi",ismonth:"Pembelian material bulanan",isn:"Material",loc:"Lokasi",mark:"Catatan",month:"Pembelian bulanan",nostock:"Stok tidak tersedia saat ini",notmonth:"Pembelian material non-bulanan",nowstock:"Persediaan stok",pName:"Nama Produk",page_name:"Sistem alarm",req_vs_real:"Perbedaan antara permintaan dan penggunaan",req_vs_real_percent:"Perbedaan permintaan dan penggunaan",return:"Kembali",safe:"Stok aman",safealert:"Stok aman",saveremark:"Simpan catatan",senddep:"Departemen yang mengeluarkan",stock:"Jumlah Stok",success:"Sukses"},"id.checkInvLang":{all:"Semua",approver_priority_notice:"Hanya staff dengan prioritas 1 yang dapat menyetujui perubahan stok",check:"inventaris",check_not_right_amount:"Kehilangan",check_record:"Catatan inventaris",checked:"Inventaris selesai",checking_result:"Hasil",client:"Klien",continue_check:"Pembaruan",create_new_table:"Buat daftar inventaris baru",create_table_fail:"Pembuatan gagal",create_table_success:"Daftar inventaris baru berhasil dibuat!",created_by:"Pengaturan oleh",created_time:"Waktu pengaturan",edit:"Ubah",emptyList:"Unduh daftar inventaris kosong",exact:"Inventaris sesuai",excess:"Kelebihan",existed_tables:"Sudah memiliki tabel inventaris terkini",has:"Masih ada",has_exist_sheet_confirm:"Ditemukan daftar inventaris terbaru. Mohon konfirmasi apakah melanjutkan membuat daftar inventaris baru?",input_isn_barcode:"Masukkan kode bar material",input_loc_barcode:"Masukkan kode bar lokasi",inventory:"Inventaris",isn:"Material",loc:"Lokasi",loc_short:"Lokasi",no_results_found:"Informasi tidak ditemukan!",no_such_isn:"Material tidak ditemukan",no_such_loc:"Lokasi tidak ditemukan",no_table_found:"Tidak ada daftar inventaris terbaru",not_checked:"Inventaris belum selesai",page_name:"Inventaris",plz_create:"Tidak ada tabel inventaris terbaru, silahkan buat tabel inventaris baru",product_name:"Nama Produk",search:"Pencarian",search_by:"Pencarian",sent_email_failed:"Gagal mengirim surat",serial_number:"Nomor Formulir",shortage:"Kehilangan",sort_by:"Saring",stock:"Stok",submit:"Kirim",this:"Ini",time_range:"Waktu",unchecked:"belum dilakukan stock opname!",unknown:"N/A",update_failed:"Pembaruan gagal",update_success:"Pembaruan berhasil",updated_at:"Waktu inventaris",updated_by:"Staff inventaris",upload:"Unggah hasil inventaris",value_not_changed:"Hasil inventaris tidak berubah. Apakah yakin untuk mengirim?"},"id.fileUploadErrors":{Content_errors:"Ada kesalahan dalam konten file",Exceeded_filesize_limit:"Batas ukuran file terlampaui",Failed_to_move_uploaded_file:"Tidak dapat memindahkan file ke folder server",Invalid_file_format:"Silakan unggah file .xlsx atau .xls",Invalid_parameters:"Kesalahan parameter",No_file_sent:"Tidak ada file",Unknown_errors:"Terjadi kesalahan"},"id.httpErrors":{error_569_msg:"Login gagal",error_569_title:"Login gagal"},"id.inboundpageLang":{FlowNumber:"Nomor Formulir SSZ",LocationChangeRecord:"Catatan transfer lokasi",add:"Tambah",addclient:"Tambah (Sesuai klien)",addtodatabase:"Tambahkan ke stok",altered_by_other_recently:"Sudah dimodifikasi, silakan periksa kembali.",amount:"Jumlah",begindate:"Tanggal mulai",change:"Perbarui",check:"Centang",choose:"Pilih",click_the_flow_number:"Klik nomor formulir pengambilan untuk transfer ke dalam lokasi",client:"Klien",coming:"Segera hadir dari",days:"Jumlah hari pasif stok",delete:"Hapus",download:"Unduh",enddate:"Tanggal akhir",enterSSZ:"Nomor Formulir SSZ",enteramount:"Silakan masukkan jumlah",enterclient:"Silahkan pilih klien",enterinpeople:"Silakan pilih staff",enterinreason:"Silakan pilih alasan masuk stok",enterisn:"Silakan masukkan material",enterisn_or_loc:"Material/Lokasi",enterisn_or_spec:"Material/Spesifikasi",enterloc:"Silakan pilih lokasi",entersenddep:"Silakan pilih departemen yang mengeluarkan",exampleExcel:"Unduh format",format:"Spesifikasi",gradea:"Bahan kelas A",inbound_loc:"Lokasi",inbound_staff:"Personel gudang",inboundnum:"Jumlah stok",inboundtime:"Waktu",inlist:"Nomor Formulir",inpeople:"Operator",inputinreason:"Silakan isi alasan masuk stok",inreason:"Alasan masuk stok",isn:"Material",isnlength:"Panjang material bukan 12",lessstock:"Jika stok kurang dari stok masuk gudang, formulir masuk stok tidak dapat dihapus.",loc:"Lokasi",locationchange:"Transfer lokasi",mark:"Catatan",money:"Mata uang",month:"Pembelian bulanan",monthuse:"Mthly Use",new:"Tambah",newloc:"Kirim ke Lokasi",newloc_empty:"Belum terpilih untuk dikirim ke penyimpanan",newloc_same:"Lokasi yang dikirim sama dengan lokasi asal",no_basic:"material tidak terdaftar",no_basic_are_highlighted:"Material berwarna merah menunjukkan data material belum dipelihara.",nocheck:"Silakan centang item yang ingin Anda hapus/perbarui",noclient:"Klien tidak terdaftar",nogood:"Rusak",noinpeople:"Nomor karyawan tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",noisn:"Material tidak terdaftar",noloc:"Lokasi tidak terdaftar",notransit:"Jumlah yang akan datang adalah 0, formulir pengambilan tidak dapat dibuka",nowstock:"Stok",nowstock_failed:"Gagal mendapatkan jumlah stok",oldloc:"Lokasi stok",operateTime:"Waktu pengoperasian",orig_loc:"Lokasi asal",other:"Lainnya",pName:"Nama Produk",page_name:"Stok masuk",plz_upload:"Silakan unggah Excel",price:"Harga satuan",qty_empty:"Jumlah alokasi tidak boleh 0",qty_exceed:"Jumlah transfer tidak boleh lebih besar dari stok yang ada",record:"Transaksi",repeated_isn_90_pair:"Material duplikat terdeteksi + Material 90",repeated_isn_loc_pair:"Material duplikat terdeteksi + Lokasi",return:"Kembali",rfidinpeople:"Silakan klik di sini untuk tap kartu identifikasi personel",row:"Di baris",safe:"Stok aman",search:"Pencarian",searchstock:"Pencarian stok",senddep:"Departemen yang mengeluarkan",stock:"Stok",stock_within_brackets:"(jumlah dalam kurung) menunjukkan stok sebelum ditransfer.",stockmonth:"Stok penggunaan bulanan",stockupload:"Unggah stok",submit:"Kirim",success:"Sukses",timepart:"Periode waktu",to:"Ke",total:"Total",transfer:"Transfer",transferamount:"Jumlah transfer",transit:"Yang akan datang ",transiterror:"Jumlah stok masuk tidak boleh lebih besar dari jumlah yang akan datang",unit:"Satuan",updatetime:"Terakhir diperbarui",upload:"Unggah massal",upload1:"Unggah",within_a_month:"dalam waktu satu bulan",within_a_year:"dalam waktu satu tahun",within_three_months:"dalam waktu tiga bulan"},"id.loginPageLang":{addtodatabase:"Tambahkan ke basis data",adduser:"Tambahkan pengguna baru",againlogin:"Silakan masuk lagi",change:"Memperbarui",changeMail:"Ubah email",changePass:"Ubah kata sandi",change_site_permission_reset:"Berpindah area pabrik akan mengatur ulang akses<br/>Jika perlu, hubungi manajer pabrik atau administrator sistem untuk meningkatkan akses.",check:"Centang",current_permission:"Akses saat ini",data:"Data",database_list:"Basis data masuk",delete:"Hapus",dep:"Departemen",email:"Email perusahaan",enter_email:"Silakan masukkan akun email Anda",enterdep:"Silakan masukkan departemen",enteremail:"Silakan masukkan email perusahaan Anda",enterjobsearch:"Silakan masukkan nomor karyawan Anda",enterlogin:"Silakan masukkan akun login Anda",entername:"Silakan masukkan nama",enternewpass:"Silakan masukkan kata sandi baru",enteroldpass:"Silakan masukkan kata sandi lama",enterpassword:"Silakan masukkan kata sandi lagi",enterpriority:"Silakan pilih akses",errorpassword:"Kata sandi lama yang dimasukkan salah",errorpassword2:"Kata sandi tidak cocok",exampleExcel:"Unduh format",functionality:"Fungsi",home:"Halaman depan",joblength:"Panjang nomor karyawan bukan 9",jobnumber:"Nomor karyawan",jobrepeat:"Nomor karyawan duplikat",jobsearch:"Pencarian nomor karyawan",latest_login_time:"Login terakhir",login_btn:"Login",loginsearch:"Pencarian akun login",mail:"Email",name:"Nama",new:"Tambah baru",newSSO_msg:"Akun perusahaan ini belum pernah masuk ke sistem manajemen material <br/>Silakan isi konten berikut untuk menyelesaikan pengaturan awal.",new_email:"Email baru",newpass:"Kata Sandi Baru",no_email:"Tidak ada",nocheck:"Silakan periksa item yang ingin dikirim",old_email:"Email lama",oldpass:"Kata Sandi Lama",page_name:"Pengguna",password:"Kata sandi",password_placeholder:"Silakan masukkan kata sandi",permission_details:"Deskripsi akses",permission_notice:"Akses awal akan di batasi (4)<br/>Jika perlu, hubungi supervisor atau administrator sistem Anda untuk meningkatkan akses.",pinf:"Informasi personel",plz_upload:"Silakan unggah Excel",pre_page:"Kembali",priority:"Akses",profile_pic:"Foto profil",record:"Transaksi",return:"Kembali",row:"Di kolom",search:"Pencarian",selectprofile_pic:"Silakan pilih foto profil",settings:"Pengaturan",signup:"Daftar",site:"Pabrik",site_error:"Silakan pilih pabrik",site_placeholder:"Silakan pilih pabrik",submit:"Kirim",success:"Sukses",surepassword:"Konfirmasi Kata Sandi",total:"Total",upload:"Unggah massal",upload1:"Unggah",user:"Pengguna",username:"Nomor karyawan",username_placeholder:"Silakan masukkan nomor akun",username_search:"Akun/Nama",usernamerepeat:"Nomor akun duplikat, silakan masukkan kembali.",welcome:"Selamat datang",welcome_msg:"Silakan masuk ke akun Anda untuk terus menggunakan fitur ini",yellowrepeat:"Latar belakang berwarna kuning menandakan bahwa data telah tersimpan di database."},"id.monthlyPRpageLang":{"90isn":"Material 90","90isnlength":"Panjang material 90 bukan 12",PR:"Ekspor permintaan",SXB_search:"Catatan permintaan",SendPRReview:"Kirim semua",SendSelectedPRReview:"Kirim terpilih",UpdateUnitPrice:"Unggah harga satuan",add:"Tambahkan",addtodatabase:"Tambahkan ke basis data",allclient:"Semua klien",applydate:"Tanggal ",buyamount:"Jumlah pembelian",buyamount1:"Jumlah pembelian",buyper:"Proporsi pembelian",buyprice:"Harga",buytime:"Waktu pembelian",change:"Perbarui",check:"Centang",clickmail:"Klik URL ini",client:"Klien",confirm_pr:"Konfirmasi & kirim daftar permintaan pembelian",confirmemail:"Konfirmasi Email",confirmpeople:"Konfirmasi personel",consume:"Konsumsi",consumemail:"Halo, silakan klik tautan ini untuk menarik satuan konsumsi",control:"Item kontrol",data:"Data",delete:"Hapus",description:"Deskripsi",download:"Unduh",duplicate_pr_warning1:"Jika dalam 20 hari terakhir terdapat permintaan pembelian dengan material yang sama, dan permintaan tersebut berulang terus menerus, maka sistem akan memotong persediaan yang sama pada saat perhitungan.",duplicate_pr_warning2:"Harap konfirmasi apakah total jumlah pembelian (jumlah pembelian Anda + jumlah pembelian di formulir ini) sudah benar",email:"Email",emailsender:"Pengirim",enter90isn:"Silakan isi material 90",enteramount:"Silakan masukkan jumlah",enterclient:"Silakan pilih klien",entercontrol:"Silakan pilih item kontrol",enterdesc:"Silakan masukkan deskripsi",enterisn:"Material",enterisn_90pn_or_descr:"Material/Material 90/Produk",enterisn_or_descr:"Material/Produk",entermachine:"Silakan pilih model",entermoney:"Silakan pilih mata uang",enterprocess:"Silakan pilih proses",entersenddep:"Silakan pilih departemen yang mengeluarkan",entersrm:"Nomor Formulir SRM",entersxb:"Silakan masukkan nomor karyawan",errormonth:"Untuk membeli bahan habis pakai setiap bulan, Anda perlu mengisi item kontrol dan mengisi instruksi.",exampleExcel:"Unduh format",exchangerate_notfound:"Pencarian kurs terjadi kesalahan",export:"Ekspor",export1:"Ekspor format pengecekan harga",exportspan:"Hanya data untuk kuantitas pembelian > 0 yang akan diekspor",format:"Spesifikasi",generatePR:"Hasilkan formulir daftar pembelian",importMonthlyData:"Impor pembelian bulanan",importNonMonthlyData:"Impor pembelian non-bulanan",info:"Detail",isn:"Material",isnConsumeAdd:"Konsumsi Satuan (Tambah)",isnConsumeUpdate:"Konsumsi Satuan (Modifikasi)",isnlength:"Panjang material bukan 12",loadconsume:"Memuat untuk digambar ulang",loadsuccess:"Berhasil memuat",lt:"LT",machine:"Model",markconsume:"Jika dicentang berarti teknisi konsumsi unit sudah mengkonfirmasi. Jika tidak dicentang berarti pesanan perlu diterbitkan ulang.",markstand:"Dicentang berarti teknisi stasiun telah mengkonfirmasinya, tidak dicentang berarti pesanan perlu diterbitkan ulang.",money:"Mata uang",month:"Pembelian bulanan",months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember",moq:"MOQ",mpq:"MPQ",needper:"Proporsi permintaan",needprice:"Permintaan harga",new:"Tambah",nextchange:"Frekuensi perubahan harian bulan depan",nextclass:"Jumlah shift yang dibuka bulan depan",nextday:"Hari produksi bulan depan",nextdayneed:"Permintaan harian untuk bulan depan",nextline:"Jumlah line yang dibuka bulan depan",nextmps:"MPS bulan depan",nextneed:"Permintaan bulan depan",nextpeople:"Jumlah tenaga kerja bulan depan",nextuse:"Permintaan harian per orang untuk bulan depan",no_req_amount_to_submit:"Semua jumlah permintaan adalah 0, dan tidak ada data yang dikirimkan.",nocheck:"Silakan periksa item yang ingin Anda kirimkan",noclient:"Klien tidak terdaftar",nodata:"Tidak ada informasi yang dikirimkan",noemail:"Konfirmasi personel",noisn:"Material tidak terdaftar",noload:"Tidak ada data yang dimuat",nomachine:"Model tidak terdaftar",nonmonthly_pr_already_sxb:"Material berikut telah dikirim untuk disetujui:",nopeople:"Konfirmasi nomor karyawan personel",noproduction:"Proses tidak terdaftar",notmonth:"Pembelian non-bulanan",nounitconsumption:"Konsumsi satuan tidak ada atau tidak disetujui",nowchange:"Frekuensi penggantian harian bulan ini",nowclass:"Jumlah shift yang dibuka bulan ini",nowday:"Hari produksi dalam sebulan",nowdayneed:"Permintaan harian untuk bulan ini",nowline:"Jumlah line yang dibuka bulan ini",nowmps:"MPS bulan saat ini",nowneed:"Permintaan bulan ini",nowpeople:"Jumlah tenaga kerja di stasiun bulan ini",nowrite:"Belum diisi",nowstock:"Stok Yang Ada",nowuse:"Permintaan harian per orang bulan ini",on_the_way_search:"Yang akan datang",pName:"Nama Produk",page_name:"Pembelian bulanan",please_utilize:"Tolong lewati",plz_upload:"Silakan unggah Excel",plz_write:"Silakan isi",pr_sender:"Pemohon",price:"Harga satuan",process:"Proses",rate:"Kurs",realneed:"Permintaan sebenarnya",reason:"Silakan isi alasannya",record:"Transaksi",remark:"Komentar",repeat:"Data sudah tersimpan di database, silahkan dicek.",repeated_isn:"Material duplikat terdeteksi",return:"Kembali",review_cancel:"Ditolak",review_complete:"Disetujui",review_pending:"Untuk ditandatangani",row:"Di baris",safe:"Stok aman",search:"Pencarian",senddep:"Departemen penerbitan",shallow_delete:"Menghapus di sini berarti visa tidak akan dikirim. Untuk menghapus sepenuhnya, silakan buka Permintaan Pembelian Impor (non) Bulanan",some_data_has_no_amount:"Beberapa kuantitas permintaan adalah 0, dan hanya material dengan jumlah permintaan yang akan muncul di PDF permintaan pembelian.",srm:"Nomor Formulir SRM",srmspan:"Hanya isi kolom yang dicentang",stand:"Posisi",standAdd:"Tenaga Kerja Stasiun (Tambah)",standUpdate:"Tenaga kerja stasiun (Modifikasi)",standmail:"Halo, silakan klik tautan ini untuk mengetahui posisi Anda.",status:"Status",submit:"Kirim",submitspan:"Hanya baris dengan nomor pesanan SRM dan jumlah pembelian > 0 yang akan dikirimkan atau diekspor.",success:"Sukses",surepeople:"Konfirmasi nomor karyawan personel",surepeopleemail:"Konfirmasi Email",sxbamount:"Jumlah di SXB",sxbamounterr:"Jumlah di SXB tidak boleh lebih besar dari jumlah pembelian saat ini",timepart:"Periode waktu",to_update_unit_price:"Perbarui harga satuan",total:"Total",transit:"Dalam Perjalanan",transit_reviser:"Pengubah",unit:"Satuan",upload:"Unggah massal",upload1:"Unggah",uploadtime:"Waktu unggah",writesrm:"Isi nomor formulir SRM",writetime:"Waktu mengisi",yellowrepeat:"Latar belakang berwarna kuning menandakan bahwa data telah tersimpan di database."},"id.oboundpageLang":{add:"Tambahkan ke",addtodatabase:"Tambahkan ke basis data",amount:"Jumlah",amountzero:"Jumlah stok tidak boleh kurang dari atau sama dengan nol.",back:"Pengembalian material",backamount:"Perkiraan jumlah pengembalian",backdiffreason:"Alasan perbedaan jumlah pengembalian",backlist:"Daftar pengembalian material",backlistnum:"Nomor formulir pengembalian",backpeople:"Personel yang mengembalikan material",backpeoplenum:"Nomor karyawan personel pengembalian",backreason:"Alasan pengembalian",backrecord:"Formulir daftar pengembalian material",begindate:"Tanggal mulai",bound:"Tipe stok",client:"Klien",data:"Data",delete:"Hapus",deletebacklist:"Hapus nomor formulir pengembalian",deletepicklist:"Hapus formulir daftar pengambilan",diffreason:"Alasan jumlah pengambilan berbeda",download:"Unduh",enddate:"Tanggal akhir",enteramount:"Silakan masukkan jumlah",enterbacklist:"Silakan pilih nomor formulir pengembalian",enterbackpeople:"Silakan pilih personel pengembalian",enterbackreason:"Silakan pilih alasan pengembalian",enterbound:"Silakan pilih tipe stok",enterclient:"Silakan pilih klien",enterdiffreason:"Silakan masukkan alasan perbedaan",enterformat:"Silakan masukkan spesifikasi",enterinpeople:"Silakan pilih personel",enterinreason:"Silakan pilih alasan masuk stok",enterisn:"Silakan masukkan material",enterline:"Silakan pilih line",entermachine:"Silakan pilih model",enterpName:"Silakan masukkan nama material",enterpicklist:"Silakan pilih formulir daftar pengambilan",enterpickpeople:"Silakan pilih personel yang mengambil material",enterprocess:"Silakan pilih proses",enterreceivepeople:"Silakan pilih personel penerima",entersendpeople:"Silakan pilih personel yang mengeluarkan material",enterstatus:"Silakan pilih status",enterusereason:"Silakan pilih alasan pengambilan",exampleExcel:"Unduh format",format:"Spesifikasi",good:"Produk bagus",inbound:"Masuk Stok",inboundnum:"Jumlah stok masuk",inboundsearch:"Pencarian masuk stok",inboundtime:"Waktu masuk stok",inlist:"Nomor formulir masuk stok",inpeople:"Personel",inputbackpeople:"Silakan masukkan nomor karyawan personel yang mengembalikan material",inputbackreason:"Silakan masukkan alasan pengembalian",inputinreason:"Silakan masukkan alasan masuk stok",inputpickpeople:"Silakan masukkan nomor karyawan personel pengambilan material",inputreceivepeople:"Silakan masukkan nomor karyawan penerima material",inputsendpeople:"Silakan masukkan nomor karyawan personel yang mengeluarkan material",inputusereason:"Silakan masukkan alasan pengambilan",inreason:"Alasan pengambilan",isn:"material",isnlength:"Panjang material bukan 12",isnrepeat:"Terdapat material duplikat",lessstock1:"Stok saat ini kurang dari jumlah stok, dan transaksi ini tidak dapat dihapus.",line:"Line",machine:"Model",mark:"Catatan",matsInfo:"Informasi material (pencarian)",matsdata:"Informasi material",new:"Tambah baru",newMats:"Tambahkan material baru",nobackpeople:"Nomor karyawan personel yang mengembalikan material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nobound:"Tipe stok tidak terdaftar",nocheck:"Silakan centang item yang ingin Anda hapus/perbarui",noclient:"Klien tidak terdaftar",nogood:"Produk cacat",noinpeople:"Nomor karyawan tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",noisn:"Material tidak terdaftar",nopickpeople:"Nomor karyawan personel pengambilan tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",noreceivepeople:"Nomor karyawan personel yang menerima material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nosendpeople:"Nomor karyawan personel yang mengeluarkan material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nostock:"Klien & material ini tidak memiliki stok dan tidak dapat membuka daftar pengambilan.",nowbound:"Tipe stok saat ini",nowstock:"Persediaan stok",oisn:"Material stok O",opentime:"Waktu pembukaan form",other:"Lainnya",outbackok:"Pengeluaran stok telah selesai, nomor formulir pengembalian",outboundtime:"Waktu pengeluaran stok",outpickok:"Pengeluaran stok telah selesai, nomor formulir pengambilan",pName:"Nama Produk",page_name:"Stok O",pick:"Pengambilan material",pickamount:"Jumlah yang akan diambil",picklist:"Daftar pengambilan material",picklistnum:"Nomor formulir pengambilan",pickpeople:"Personel pengambilan",pickpeoplenum:"Nomor karyawan personel pengambilan",pickrecord:"Formulir daftar pengambilan material",plz_upload:"Silakan unggah Excel",process:"proses",realbackamount:"Jumlah sebenarnya yang dikembalikan",realpickamount:"Jumlah yang diterima",receivepeople:"Personel yang menerima",receivepeoplenum:"Nomor karyawan penerima",record:"Transaksi",return:"Kembali",rfidinpeople:"Silakan klik di sini untuk tap kartu identifikasi",row:"Di baris",search:"Pencarian",searchbacklist:"Cari nomor formulir pengembalian",searchpicklist:"Pencarian formulir daftar pengambilan",searchstock:"Pencarian stok",senddep:"Departemen yang mengeluarkan",sendpeople:"Personel yang mengeluarkan",sendpeoplenum:"Nomor karyawan personel yang mengeluarkan",status:"Status fungsi",stockless:"Stok kurang dari jumlah pengambilan, tidak dapat dikirim.",stockupload:"Unggah stok",submit:"Kirim",success:"Sukses",timepart:"Periode waktu",total:"Total",unit:"Satuan",updatetime:"Terakhir diperbarui",upload:"Unggah massal",upload1:"Unggah",usereason:"Alasan pengambilan",yellowrepeat:"Latar belakang berwarna kuning menandakan bahwa data telah tersimpan di database."},"id.outboundpageLang":{add:"Tambah baru",back:"Pengembalian",backamount:"Perkiraan jumlah pengembalian",backdiffreason:"Alasan perbedaan",backlist:"Formulir pengembalian",backlistnum:"Nomor formulir pengembalian",backpeople:"Personel yang mengembalikan material",backpeoplenum:"Nomor karyawan personel yang mengembalikan material",backreason:"Alasan pengembalian",backrecord:"Catatan pengembalian",begindate:"Tanggal mulai",client:"Klien",delete:"Hapus",deletebacklist:"Hapus formulir pengembalian",deletepicklist:"Hapus formulir pengambilan material",diffreason:"Alasan perbedaan jumlah pengambilan material",download:"Unduh",download_example:"Unduh contoh",enddate:"Tanggal akhir",enteramount:"Silakan masukkan jumlah",enterbacklist:"Silakan pilih formulir pengembalian",enterbackpeople:"Silakan pilih personel yang mengembalikan material",enterbackreason:"Silakan pilih alasan pengembalian",enterclient:"Silakan pilih klien",enterdiffreason:"Silakan masukkan alasan perbedaan",enterisn:"Silakan masukkan material",enterline:"Silakan pilih line",enterloc:"Silakan pilih lokasi",entermachine:"Silakan pilih model",enterpicklist:"Silakan pilih formulir pengambilan material",enterpickpeople:"Silakan pilih personel pengambilan material",enterprocess:"Silakan pilih proses",enterreceivepeople:"Silakan pilih personel penerima",entersenddep:"Silakan pilih departemen yang mengeluarkan",entersendpeople:"Silakan pilih personel pengeluaran material",enterstatus:"Silakan pilih status",enterusereason:"Silakan pilih alasan pengambilan",format:"Spesifikasi",good:"Produk bagus",inboundtime:"Waktu stok masuk",inputbackpeople:"Silakan masukkan nomor karyawan personel yang mengembalikan material",inputbackreason:"Silakan masukkan alasan pengembalian",inputpickpeople:"Silakan masukkan nomor karyawan personel pengambilan material",inputreceivepeople:"Silakan masukkan nomor karyawan penerima material",inputsendpeople:"Silakan masukkan nomor karyawan personel yang mengeluarkan material",inputusereason:"Silakan masukkan alasan pengambilan",isn:"Material",isnlength:"Panjang material bukan 12",line:"Line",loc:"Lokasi",machine:"Model",mark:"Catatan",no_line:"Line tidak ada",no_reason:"Alasan tidak ada",nobackpeople:"Nomor karyawan personel yang mengembalikan material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nogood:"Produk cacat",noisn:"Material tidak terdaftar",nopickpeople:"Nomor karyawan personel pengambilan tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",noreceivepeople:"Nomor karyawan personel yang menerima material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nosendpeople:"Nomor karyawan personel yang mengeluarkan material tidak terdaftar. Silakan buka Manajemen Pengguna-Pemeliharaan Informasi Personalia terlebih dahulu.",nostock:"Material ini tidak tersedia dan daftar pengambilan tidak dapat diterbitkan.",nostock1:"Material & Lokasi ini tidak tersedia dan tidak dapat dikirim keluar.",nowloc:"Lokasi saat ini",nowstock:"Stok",opentime:"Waktu pembukaan form",other:"Lainnya",outbackok:"Stok keluar berhasil (pengembalian)",outboundtime:"Waktu stok keluar",outpickok:"Stok keluar berhasil (pengambilan)",pName:"Nama Produk",page_name:"Stok keluar",pick:"Pengambilan",pickamount:"Perkiraan jumlah pengambilan",picklist:"Formulir pengambilan",picklistnum:"Nomor formulir pengambilan",pickpeople:"Personel pengambilan material",pickpeoplenum:"Nomor karyawan personel pengambilan material",pickrecord:"Rekor pengambilan",process:"Proses",realbackamount:"Jumlah yang dikembalikan",realpickamount:"Jumlah pengambilan material sebenarnya",realpickzero:"Jumlah yang diterima adalah 0",receivepeople:"Personel yang menerima",receivepeoplenum:"Nomor karyawan penerima",record:"Transaksi",repeated_isn_will_not_display:"Material+Line+Alasan pengambilan yang berulang tidak akan ditampilkan dalam Excel",return:"Kembali",rfidinputbackpeople:"Silakan klik di sini untuk tap kartu identifikasi personel pengembalian material",rfidinputpickpeople:"Silakan klik di sini untuk tap kartu identifikasi personel pengambilan material",rfidinputreceivepeople:"Silakan klik di sini untuk tap kartu identifikasi personel penerima material",rfidinputsendpeople:"Silakan klik di sini untuk tap kartu identifikasi personel yang mengeluarkan material",row:"Di baris",search:"Pencarian",searchbacklist:"Cari formulir pengembalian",searchpicklist:"Pencarian pengambilan material",senddep:"Departemen yang mengeluarkan",sendpeople:"Personel yang mengeluarkan material",sendpeoplenum:"Nomor karyawan dari orang yang mengeluarkan materi",status:"Status fungsi",stockless:"Stok kurang dari jumlah sebenarnya yang diterima dan tidak dapat dikirim",submit:"Kirim",success:"Sukses",timepart:"Periode waktu",total:"Total",unit:"Satuan",usereason:"Alasan pengambilan"},"id.pagination":{next:"Next &raquo;",previous:"&laquo; Previous"},"id.passwords":{reset:"Your password has been reset!",sent:"We have emailed your password reset link!",throttled:"Please wait before retrying.",token:"This password reset token is invalid.",user:"We can't find a user with that email address."},"id.templateWords":{News:"Pengumuman",PInfo:"Informasi personel",PR:"Ekspor permintaan",UserInfo:"Informasi pengguna",addNewCat:"Tambah kategori",addNews:"Pengumuman baru",all:"Semua pabrik",all_history_records:"Semua rekor",apply:"Konfirmasi",barcode_gen:"Kode bar",barcode_generator:"Buat Kode bar",basicInfo:"Informasi dasar",bu:"Manajemen material BU",callsys:"Sistem Alarm",cancel:"Batal",cat:"Kategori",changePass:"Ubah kata sandi",checkIvent:"Inventaris",checkIvent_create_new_table:"Create New Sheet",chrome:"Chrome",clear_cache:"Jika fungsi atau tampilan website tidak normal, harap hapus terlebih dahulu cache browser sesuai dokumen berikut",content:"Isi",custom_range:"Sesuaikan",dashboard:"Menu",dateOfNotice:"Tanggal",dep:"Situs web departemen",east:"EIP Tiongkok Timur",edge:"Edge",editNews:"Editorial",first_thing_first:"Jika tampilan layarnya hilang, silahkan tekan Shift + Ctrl + R pada keyboard terlebih dahulu",importMonthlyData:"Impor bulanan",importNonMonthlyData:"Impor non-bulanan",important:"Penting",inbound:"Stok masuk",isnBarcode:"Pencarian kode bar Material",isnConsumeAdd:"Konsumsi Satuan <br/> &nbsp;&nbsp;&nbsp; (Baru)",isnConsumeUpdate:"Konsumsi Satuan <br/> &nbsp;&nbsp;&nbsp; (Modifikasi)",language:"Bahasa/Language",level:"Level",locBarcode:"Pencarian kode bar Lokasi",logout_btn:"Keluar",middle:"EIP Tiongkok Tengah",monthly:"Bulanan",newPInfo:"Tambahkan informasi personel baru",newUser:"Tambah pengguna baru",nonmonthly:"Non-Bulanan",normal:"Umum",nowuser:"Pengguna yang saat ini masuk adalah:",obound:"Stok O",on_the_way_search:"Yang akan datang",outbound:"Stok keluar",past_three_months:"Dalam 3 bulan terakhir",project:"Situs web proyek",site:"Pabrik",standAdd:"Tenaga kerja stasiun (tambah baru)",standUpdate:"Tenaga kerja stasiun <br/> &nbsp;&nbsp;&nbsp; (Modifikasi)",taipei:"EIP Pusat Taipei",title:"Judul",today:"Hari ini",urgent:"Mendesak",userManage:"Pengguna",websiteName:"Manajemen Material",west:"EIP Tiongkok Barat"},"id.validation":{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute must only contain letters.",alpha_dash:"The :attribute must only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute must only contain letters and numbers.",array:"The :attribute must be an array.",attributes:{password:"password",username:"username"},before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{array:"The :attribute must have between :min and :max items.",file:"The :attribute must be between :min and :max kilobytes.",numeric:"The :attribute must be between :min and :max.",string:"The :attribute must be between :min and :max characters."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",custom:{"attribute-name":{"rule-name":"custom-message"}},date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",ends_with:"The :attribute must end with one of the following: :values.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{array:"The :attribute must have more than :value items.",file:"The :attribute must be greater than :value kilobytes.",numeric:"The :attribute must be greater than :value.",string:"The :attribute must be greater than :value characters."},gte:{array:"The :attribute must have :value items or more.",file:"The :attribute must be greater than or equal :value kilobytes.",numeric:"The :attribute must be greater than or equal :value.",string:"The :attribute must be greater than or equal :value characters."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{array:"The :attribute must have less than :value items.",file:"The :attribute must be less than :value kilobytes.",numeric:"The :attribute must be less than :value.",string:"The :attribute must be less than :value characters."},lte:{array:"The :attribute must not have more than :value items.",file:"The :attribute must be less than or equal :value kilobytes.",numeric:"The :attribute must be less than or equal :value.",string:"The :attribute must be less than or equal :value characters."},max:{array:"The :attribute must not have more than :max items.",file:"The :attribute must not be greater than :max kilobytes.",numeric:"The :attribute must not be greater than :max.",string:"The :attribute must not be greater than :max characters."},mimes:"Kesalahan format file, harus berupa file :values",mimetypes:"Kesalahan format file, harus file xls atau xlsx",min:{array:"The :attribute must have at least :min items.",file:"The :attribute must be at least :min kilobytes.",numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},multiple_of:"The :attribute must be a multiple of :value.",not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",password:"The password is incorrect.",present:"The :attribute field must be present.",prohibited:"The :attribute field is prohibited.",prohibited_if:"The :attribute field is prohibited when :other is :value.",prohibited_unless:"The :attribute field is prohibited unless :other is in :values.",regex:"Format salah",required:"Kolom harus diisi",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{array:"The :attribute must contain :size items.",file:"The :attribute must be :size kilobytes.",numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with one of the following: :values.",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID."},"id.welcomePageLang":{header:"Manajemen material",login_btn:"login",menu:"Menu"},"vi.auth":{failed:"Tài liệu đăng nhập không trùng khớp",throttle:"Số lần đăng nhập quá nhiều, vui lòng thử lại sau vài giây"},"vi.barcodeGenerator":{Delete_Notice:"Xóa ở đây chỉ có nghĩa là mã vạch sẽ không được in.",Temporary_Storage_Zone:"Bảo lưu tạm thời",barcode_gening:"Tạo mã vạch",batch_upload:"Tạo hàng loạt",enter_isn:"Vui lòng nhập mã liệu",enter_loc:"Vui lòng nhập vị trí lưu trữ",enter_pName:"Vui lòng nhập tên sản phẩm",exampleExcel:"Tải biểu mẫu",gen:"Tạo ra",isn:"Mã liệu",isn_gen_barcode:"Tạo mã vạch của mã liệu",leaving_page_alert:"Nếu thoát khỏi trang này toàn bộ tư liệu bảo lưu tạm thời sẽ bị xóa, xác nhận thoát ra ?",loc:" Vị trí lưu trữ",loc_gen_barcode:"Tạo mã vạch vị trí lưu trữ",nothing_to_print:"Không có mã vạch",pName:"Tên sản phẩm",page_name:"Mã vạch",plz_upload:"Vui lòng tải lên Excel",print:"In",print_amount:"Số lượng in",search:"Tra cứu",search_isn:"Tra cứu mã liệu",search_loc:"Tra cứu vị trí lưu trữ",spec:"Quy cách",temp_save_error:"Lỗi:",temp_save_success:"Bảo lưu tạm thời thành công",upload_save_success:"Tải lên thành công"},"vi.basicInfoLang":{add:"Thêm vào",addtodatabase:"Thêm vào kho tư liệu",basicInfo:"Thông tin cơ bản",belong:"Loaị hình mua tiêu hao",change:"Cập nhật",check:"Kiểm tra",client:"Loại khách hàng",consume:"Đơn vị tiêu hao",data:"Dữ liệu",delete:"Xóa",differ_by_client:"Thay đổi theo khách hàng",download:"Tải xuống",enterbelong:"Vui lòng chọn loại hình mua tiêu hao",enterformat:"Vui lòng nhập quy cách",enterisn:"Vui lòng nhập mã liệu",enterlt:"Vui lòng nhập LT",entermoney:"Vui lòng chọn loại tiền tệ",entermoq:"Vui lòng nhập MOQ",entermpq:"Vui lòng nhập MPQ",enterpName:"Vui lòng nhập tên sản phẩm",enterprice:"Vui lòng nhập đơn giá",entersafe:"Vui lòng nhập an toàn kho",entersenddep:"Vui lòng chọn bộ phận phát liệu",enterunit:"Vui lòng nhập đơn vị",enteryorn:"Vui lòng chọn Có/Không",equiproom:"Phòng cung cấp",exampleExcel:"Tải xuống định dạng",factory:" Loại nhà xưởng",format:"Quy cách",go_to_page:"Số trang hiện tại",gradea:"Vật liệu loại A",ieroom:"Phòng cung cấp của IE",inreason:"Lí do nhập kho",isn:"Mã liệu",isnlength:"Độ dài cuả mã liệu không phải 12 kí tự",isnrepeat:"Mã liệu trùng lặp",line:"Loại dây chuyền",loc:" Vị trí lưu trữ",lt:"Thời gian đợi hàng sau PO",machine:"Dòng máy",matsInfo:"Thông tin vât liệu mới",matsdata:"Hồ sơ của vật liệu",matssearch:"Tra cứu bằng mã liệu",meroom:"Phòng cung cấp của ME",money:"Loại tiền tệ",month:"Mua hàng tháng",moq:"Số lượng đặt hàng tối thiểu",mpq:"Lượng đóng gói tối thiểu",new:"Thêm mới",newMats:"Thêm vât liệu mới",newbasicInfo:"Thêm mới thông tin cơ bản",no:"Không",nocheck:"Vui lòng kiểm tra các mục muốn gửi  đi/nộp",nodata:"Không có tài liệu gửi đi/nộp",now_showing:"Hiện tại hiển thị",obound:"Kho O ( Kho mượn dùng nguyên vật liệu)",pName:"Tên sản phẩm",page_name:"Thông tin cơ bản",plz_upload:"Vui lòng tải lên Excel",price:"Đơn giá",process:"Sản xuất",quicksearch:"Tra cứu nhanh",record:"Hạng mục",records_per_page:"Số lượng hạng mục trên mỗi trang",repeat:"Dữ liệu đã được lưu vào kho dữ liệu , vui lòng kiểm tra",return:"Phản hồi",returnreason:"Lí do trả lại",room:"Phòng cung cấp",row:"Cùng dòng",safe:"An toàn kho",safeerror:"Yêu cầu mua hàng phi hàng tháng bắt buộc phải nhập mục An toàn kho",search_with_no_data_returned:"Không tìm thấy tài liệu",searchisn:"Trực tiếp tìm kiếm toàn bộ hoặc nhập đầu mã liệu để tìm kiếm",searchisn1:"Tra cứu nhiều số vật liệu , giữa các số vật liệu vui lòng sử dụng phím ngắt dòng để phân cách(phím enter-can)",senddep:"Bộ phận phát liệu",stand:"Trạm",submit:"Gửi  đi/nộp",success:"Thành công",total:"Tổng cộng",unit:"Đơn vị",upload:"Tải lên hàng loạt",upload1:"Phòng cung cấp thiết bị",uploaderror:"Đây không phải là định dạng của thông tin cơ bản để tải lên hàng loạt",usedep:"Bộ phận lĩnh dùng",usereason:"Lí do lĩnh dùng",yellowrepeat:"Nền màu vàng cho biết dữ liệu đã được lưu trữ trong kho dữ liệu.",yes:"Có"},"vi.bupagelang":{amounterr:"Số lượng phân bổ nhỏ hơn số lượng tồn kho / Số lượng phân bổ<=0",amounterr1:"Số lượng phân bổ thực tế > Số lượng tồn kho hiện tại",begindate:"Ngày bắt đầu",bu:"BU quản lý vật tư tiêu hao",buyrecord:"Hồ sơ mua hàng gần đây",buytime:"Thời gian mua hàng gần đây",changeok:"Đã cập nhật thành công",check:"Kiểm tra",checkreceive:"Xác nhận tiếp nhận hay không",checktrans:"Xác nhận phân bổ hay không",client:"Loại khách hàng",days:"Số ngày tồn đọng",dbadd:"Thêm mới đơn điều chuyển",dblist:"Mã đơn điều chuyển",delete:"Xóa",download:"Tải xuống",enddate:"Ngày kết thúc",enteramount:"Vui lòng nhập vào số lượng",enterclient:"Vui lòng chọn loại khách hàng",enterfactory:"Vui lòng chọn khu vực nhà xưởng",enterisn:"Vui lòng nhập mã liệu",enterloc:"Vui lòng chọn vị trí lưu trữ",enteroutlist:"Vui lòng chọn đơn phân bổ",enteroutpeople:"Vui lòng chọn người phân bổ",enterpicklist:"Vui lòng chọn đợn tiếp nhận",enterreceivepeople:"Vui lòng chọn người tiếp nhận",factory:"Khu nhà xưởng",factorychange:"Điều chuyển tồn kho của nhà xưởng",format:"Quy cách",inboundtime:"Thời gian nhập kho",inventoryerr:"Tồn kho đã thay đổi vui lòng sắp xếp lại",isn:"Mã liệu",isnlength:"Độ dài cuả mã liệu không phải 12 kí tự",jobnum:"Mã số thẻ",loc:" Vị trí lưu trữ",name:"Tên",nocheck:"Vui lòng kiểm tra các mục muốn xóa/ cập nhật hạng mục",nocheck1:"Vui lòng kiểm tra các mục muốn nộp",noisn:"Mã liệu không tồn tại, vui lòng duy trì thông tin của mã liệu trước",nooutpeople:"Mã số thẻ của người phân bổ không tồn tại, vui lòng vào phần quản lý người dùng-Thêm bảo trì thông tin nhân sự",nopickpeople:"Mã số thẻ của người tiếp nhận không tồn tại, vui lòng vào phần quản lý người dùng-Thêm bảo trì thông tin nhân sự",notequal:"Không bằng nhau",nowstock:"Tồn kho hiện tại",opentime:"Thời gian khai đơn",outboundtime:"Thời gian xuất kho",outdetail:"Chi tiết phân bổ",outfactory:"Khu vực nhà máy phân bổ",outlist:"Điều chuyển _Đơn phân bổ",outpeople:"Người phân bổ",outtime:"Thời gian phân bổ",pName:"Tên sản phẩm",page_name:"BU quản lý vật tư tiêu hao",picklist:"Điều chuyển _Đơn tiếp nhận",preamount:"Số lượng phân bổ dự kiến",realamount:"Số lượng tiếp nhận thực tế",realpickamount:"Số lượng tiếp nhận thực tế",receiveamount:"Số lượng tiếp nhận",receivedetail:"Chi tiết tiếp nhận",receivefac:"Khu vực nhà xưởng tiếp nhận",receivepeople:"Người tiếp nhận",receivetime:"Thời gian tiếp nhận",remark:"Ghi chú",return:"Phản hồi",row:"Cùng hàng",search:"Tra cứu",searchdetail:"Tra cứu chi tiết điều chuyển",searchlist:"Tra cứu đơn điều chuyển",searchoutlist:"Tìm kiếm đơn phân bổ",searchpicklist:"Tìm kiếm đơn tiếp nhận",senddep:"Bộ phận phát liệu",sluggish:"Hàng tồn kho ứ đọng/không sử dụng tới",status:"Trạng thái",stock:"Tồn kho",submit:"Nộp/Gửi đi",success:"Thành công",timepart:"Khoảng thời gian",tranamount:"Số lượng điều chuyển",transamount:"Số lượng phân bổ",transpeople:"Người phân bổ",unit:"Đơn vị"},"vi.callpageLang":{callsys:"Hệ thống cảnh báo",change:"Cập nhật",client:"Loại khách hàng",dayalert:"Cảnh báo số ngày tồn đọng",days:"Số ngày tồn đọng",diffalert:"Yêu cầu & Lĩnh dùng bất thường",entersenddep:"Vui lòng chọn bộ phận phát liệu",format:"Quy cách",ismonth:"Hàng vật tư tiêu hao mua hàng tháng",isn:"Mã liệu",loc:" Vị trí lưu trữ",mark:"Ghi chú",month:"Mua hàng tháng",nostock:"Hiện tại không có gì tồn kho",notmonth:"Hàng vật tư tiêu hao mua phi hàng tháng",nowstock:"Tồn kho hiện tại",pName:"Tên sản phẩm",page_name:"Hệ thống cảnh báo",req_vs_real:"Số lượng yêu cầu và lĩnh dùng bất thường",req_vs_real_percent:"Yêu cầu và lĩnh dùng bất thường",return:"Phản hồi",safe:"An toàn kho",safealert:"Cảnh báo an toàn kho",saveremark:"Lưu lại ghi chú",senddep:"Bộ phận phát liệu",stock:"Tổng tồn kho",success:"Thành công"},"vi.checkInvLang":{all:"Toàn bộ",approver_priority_notice:"Chỉ có người có quyền 1 mới có thể phê duyệt thay đổi hàng tồn kho",check:"Kiểm kê",check_not_right_amount:"Kiểm kê thừa/thiếu",check_record:"Hổ sơ kiểm kê",checked:"Kiểm kê",checking_result:"Kết quả",client:"Khách hàng",continue_check:"Gia hạn",create_new_table:"Tạo biểu kiểm kê mới",create_table_fail:"Tạo thất bại",create_table_success:"Biểu kiểm kê mới đã được tạo thành công",created_by:"Người tạo",created_time:"Thời gian tạo",edit:"Chỉnh sửa",emptyList:"Tải xuống biểu kiểm kê trống",exact:"Kiểm kê chính xác",excess:"Kiểm kê thặng dư",existed_tables:"Đã có biểu kiểm kê gần đây",has:"Còn có",has_exist_sheet_confirm:"Đã có biểu kiểm kê gần đây, vui lòng xác nhận xem có cần thiết phải tạo biểu kiểm kê mới không?",input_isn_barcode:"Nhập mã vạch của mã liêu",input_loc_barcode:"Nhập mã vạch của vị trí lưu trữ",inventory:"Kiểm kê",isn:"Mã liệu",loc:" Vị trí lưu trữ",loc_short:"Vị trí lưu trữ",no_results_found:"Không tìm thấy tư liệu",no_such_isn:"Không tìm thấy mã liệu này",no_such_loc:"Không tìm thấy vị trí lưu trữ này",no_table_found:"Không có biểu kiểm kê gần đây",not_checked:"Không có hàng tồn kho",page_name:"Quản lí kiểm kê",plz_create:"Không có biểu kiểm kê gần đây, vui lòng tạo biểu kiểm kê mới",product_name:"Tên sản phẩm",search:"Tìm kiếm",search_by:"Tìm kiếm",sent_email_failed:"Gửi thư thất bại",serial_number:"Số đơn hàng",shortage:"Kiểm kê thiếu hụt",sort_by:"Lọc",stock:"Tồn kho",submit:"Gửi đi",this:"Cái này",time_range:"Thời gian",unchecked:"vẫn chưa được kiểm kê!",unknown:"N/A",update_failed:"Cập nhật thất bại",update_success:"Cập nhật thành công",updated_at:"Thời gian kiểm kê",updated_by:"Người kiểm kê",upload:"Tải lên kết quả kiểm kê",value_not_changed:"Kết quả kiểm kê không thay đổi , xác nhận gửi đi?"},"vi.fileUploadErrors":{Content_errors:"Có lỗi trong nội dung tập tin",Exceeded_filesize_limit:"Đã vượt quá giới hạn kích thước tệp",Failed_to_move_uploaded_file:"Không thể di chuyển tập tin vào thư mục của máy chủ",Invalid_file_format:"Vui lòng tải lên tệp .xlsx hoặc .xls",Invalid_parameters:"Lỗi tham số",No_file_sent:"Không có tập tin/File",Unknown_errors:"Lỗi không xác định"},"vi.httpErrors":{error_569_msg:"Đăng nhập thất bại",error_569_title:"Đăng nhập thất bại"},"vi.inboundpageLang":{FlowNumber:"Mã đơn lĩnh liệu SSZ",LocationChangeRecord:"Lịch sử điều chuyển <br/> &nbsp;&nbsp;&nbsp;&nbsp; vị trí lưu trữ",add:"Thêm",addclient:"Thêm (bởi khách hàng)",addtodatabase:"Thêm vào tồn kho",altered_by_other_recently:"Đã bị người khác sửa đổi, hãy tìm kiếm lại lần nữa",amount:"Số lượng",begindate:"Ngày bắt đầu",change:"Cập nhật",check:"Tích chọn",choose:"Lựa chọn",click_the_flow_number:"Click vào đơn lĩnh liệu vật liệu sẽ gửi đến trị trí lưu trữ",client:"Khách hàng",coming:"Sắp có từ",days:"Số ngày không dùng đến",delete:"Xóa",download:"Tải xuống",enddate:"Ngày kết thúc",enterSSZ:"Mã đơn lĩnh liệu SSZ",enteramount:"Hãy nhập vào số lượng",enterclient:"Hãy chọn khách hàng",enterinpeople:"Hãy chọn nhân viên",enterinreason:"Hãy chọn nguyên nhân nhập kho",enterisn:"Hãy nhập mã liệu",enterisn_or_loc:"Mã liệu/Vị trí lưu trữ",enterisn_or_spec:"Mã liệu/Quy cách",enterloc:"Hãy lựa chọn vị trí lưu trữ",entersenddep:"Hãy chọn bộ phận phát liệu",exampleExcel:"Tải form mẫu xuống",format:"Quy cách",gradea:"Nguyên liẹu cấp A",inbound_loc:"Vị trí lưu trữ nhập kho",inbound_staff:"Nhân viên nhập kho",inboundnum:"Số lượng nhập kho",inboundtime:"Thời gian nhập kho",inlist:"Mã đơn nhập kho",inpeople:"Nhân viên thao tác",inputinreason:"Hãy nhập nguyên nhân nhập kho",inreason:"Nguyên nhân nhập kho",isn:"Mã liệu",isnlength:"Độ dài của mã liệu là 12 kí tự",lessstock:"Có tồn kho nhỏ hơn số lượng nhập kho, không thể xóa đơn nhập kho",loc:"Vị trí lưu trữ",locationchange:"Điều chuyển <br/> &nbsp;&nbsp;&nbsp;&nbsp; vị trí lưu trữ",mark:"Ghi chú",money:"Tiền tệ",month:"Mua tháng",monthuse:"Mthly Use",new:"Thêm mới",newloc:"Đưa đến vị trí lưu trữ",newloc_empty:"Chữa lựa chọn vị trí lưu trữ",newloc_same:"Vị trí lưu trữ mới và vị trí lưu trữ cũ như nhau",no_basic:"Dữ liệu mã liệu không tồn tại",no_basic_are_highlighted:"Mã liệu màu đỏ thể hiện thông tin mã liệu đó chưa được duy trì",nocheck:"Hãy tích chọn hạng mục xóa /sửa đổi",noclient:"Khách hàng không tồn tại",nogood:"Hàng lỗi",noinpeople:"Mã nhân viên của người này không tồn tại, hãy chọn đến quản lý người dùng-duy trì thông tin nhân viên",noisn:"Mã liệu không tồn tại",noloc:"Vị trí lưu trữ không tồn tại",notransit:"Số lượng hàng chưa đến là 0, không thể khai đơn lĩnh liệu",nowstock:"Tồn kho",nowstock_failed:"Lấy số lượng tồn kho thất bại",oldloc:"Vị trí lưu trữ tồn kho",operateTime:"Thời gian thao tác",orig_loc:"Vị trí cũ",other:"Khác",pName:"Tên sản phẩm",page_name:"Nhập kho",plz_upload:"Hãy tải bản Excel lên",price:"Đơn giá",qty_empty:"Số lượng điều chuyển không được là 0",qty_exceed:"Số lượng điều chuyển không được lớn hơn số lượng tồn khô hiện có",record:"hạng mục",repeated_isn_90_pair:"Có trùng lặp mã liệu + vị trí 90",repeated_isn_loc_pair:"Có trùng lặp mã liệu+ vị trí lưu trữ",return:"Quay lại",rfidinpeople:"Hãy Click vào đây để cảm ứng thẻ nhân viên",row:"Cùng dòng",safe:"An toàn kho",search:"Tìm kiếm",searchstock:"Tìm kiếm tồn kho",senddep:"Bộ phận phát liệu",stock:"Tồn kho",stock_within_brackets:"Trong (dấu ngoặc đơn)là số lượng tồn kho trước khi điều chuyển",stockmonth:"Tồn kho sử dụng số tháng",stockupload:"Tải tồn kho lên",submit:"Gửi đi",success:"Thành công",timepart:"Khoảng thời gian",to:"đến",total:"Total",transfer:"Điều chuyển",transferamount:"Số lượng điều chuyển",transit:"Lượng hàng chưa đến",transiterror:"Số lượng nhập kho không được lớn hơn số lượng hàng chưa đến",unit:"Đơn vị",updatetime:"Thời gian cập nhật cuối cùng",upload:"Tải lên hàng loạt",upload1:"Tải lên",within_a_month:"Trong vòng 1 tháng",within_a_year:"Trong vòng 1 năm",within_three_months:"Trong vòng 3 tháng"},"vi.loginPageLang":{addtodatabase:"Thêm vào kho tài liệu",adduser:"Thêm người dùng",againlogin:"Hãy đăng nhập lại",change:"Cập nhật",changeMail:"Sửa mail",changePass:"Sửa mật khẩu",change_site_permission_reset:"Việc chuyển đổi khu vực nhà máy sẽ đặt lại quyền<br/>Nếu cần, vui lòng liên hệ với người quản lý nhà máy hoặc quản trị viên hệ thống để nâng cấp quyền.",check:"Tích chọn",current_permission:"Quyền hạn hiện tại",data:"Tài liệu",database_list:"Có thể đăng nhập kho tài liệu",delete:"Xóa",dep:"Bộ phận",email:"Mail công ty",enter_email:"Mail mới",enterdep:"Hãy nhập bộ phận",enteremail:"Hãy nhập mail công ty",enterjobsearch:"Nhập mã nhân viên",enterlogin:"Hãy nhập tài khoản đăng nhập",entername:"Hãy nhập họ tên",enternewpass:"Hãy nhập mật khẩu mới",enteroldpass:"Hãy nhập mật khẩu cũ",enterpassword:"Hãy nhập lại mật khẩu một lần nữa",enterpriority:"Hãy chọn quyền hạn",errorpassword:"Mật khẩu cũ nhập sai",errorpassword2:"Mật khẩu không khớp",exampleExcel:"Tải form mẫu xuống",functionality:"Chức năng",home:"Trang đầu",joblength:"Độ dài mã nhân viên là 9 kí tự",jobnumber:"Mã nhân viên",jobrepeat:"Mã nhân viên trùng lặp",jobsearch:"Tìm kiếm mã nhân viên",latest_login_time:"Đăng nhập lần cuối cùng",login_btn:"Đăng nhập",loginsearch:"Tìm kiếm tài khoản đăng nhập",mail:"Thư",name:"Họ tên",new:"Thêm mới",newSSO_msg:"Tài khoản công ty này chưa bao giờ đăng nhập vào hệ thống quản lý vật tư tiêu hao<br/>Vui lòng điền nội dung sau để hoàn tất cài đặt ban đầu",new_email:"Hãy nhập tài khoản mail",newpass:"Mật khẩu mới",no_email:"Không",nocheck:"Hãy tích chọn hạng mục cần gửi đi",old_email:"Mail cũ",oldpass:"Mật khẩu cũ",page_name:"Quản lý người dùng",password:"Mật khẩu",password_placeholder:"Hãy nhập mật khẩu",permission_details:"Mô tả quyền hạn",permission_notice:"Các quyền ban đầu được đặt ở mức thấp nhất (4)<br/>Nếu cần, vui lòng liên hệ với người giám sát hoặc quản trị viên hệ thống của bạn để nâng cấp các quyền.",pinf:"Thông tin nhân viên",plz_upload:"Hãy tải bản Excel lên",pre_page:"Quay lại",priority:"Quyền hạn",profile_pic:"Hình đại diện",record:"hạng mục",return:"Quay lại",row:"Cùng dòng",search:"Tìm kiếm",selectprofile_pic:"Hãy lựa chọn hình đại diện",settings:"Cài đặt",signup:"Đăng kí",site:"Khu vực xưởng",site_error:"Hãy lựa chọn khu vực xưởng",site_placeholder:"Hãy lựa chọn khu vực xưởng",submit:"Gửi đi",success:"Thành công",surepassword:"Xác nhận mật khẩu",total:"Tổng cộng",upload:"Tải lên hàng loạt",upload1:"Tải lên",user:"Người dùng",username:"Mã nhân viên",username_placeholder:"Hãy nhập tài khoản",username_search:"Tìm kiếm tài khoản/Tên",usernamerepeat:"Tài khoản trùng lặp, hãy nhập lại",welcome:"Chào mừng",welcome_msg:"Hãy đăng nhập tài khoản và tiếp tục sử dụng chức năng",yellowrepeat:"Đánh dấu màu vàng thể hiện kho tài liệu này đã tồn tại trong kho tài liệu"},"vi.monthlyPRpageLang":{"90isn":"Mã liệu 90","90isnlength":"Độ dài mã liệu 90 là 12 kí tự",PR:"Tổng hợp tất cả các mặt hàng mua",SXB_search:"Lịch sửa mua",SendPRReview:"Gửi đi toàn bộ",SendSelectedPRReview:"Gửi các mục đã chọn",UpdateUnitPrice:"Tải lên đơn giá",add:"Thêm",addtodatabase:"Thêm vào kho tài liệu",allclient:"Tất cả khách hàng",applydate:"Ngày làm đơn",buyamount:"Số lượng mua lần này",buyamount1:"Số lượng mua",buyper:"Tỷ lệ mua",buyprice:"Tổng giá",buytime:"Thời gian mua",change:"Cập nhật",check:"Chọn",clickmail:"Click vào đường link này",client:"Khách hàng",confirm_pr:"Xác nhận và gửi đơn mua ra",confirmemail:"Xác nhận mail",confirmpeople:"Xác nhận nhân viên",consume:"lượng dùng",consumemail:"Hãy click vào đường link để xác nhận lượng dùng",control:"Hạng mục kiểm soát",data:"Tài liệu",delete:"Xóa bỏ",description:"Sự miêu tả",download:"Tải xuống",duplicate_pr_warning1:"Nếu trong 20 ngày qua có yêu cầu mua hàng có số lượng nguyên vật liệu giống nhau và lặp lại liên tục thì hệ thống sẽ khấu trừ lượng hàng tồn kho tương tự khi tính toán.",duplicate_pr_warning2:"Vui lòng xác nhận tổng số lượng mua hàng (số lượng mua hàng của bạn + số lượng mua hàng ở mẫu này) có chính xác hay không",email:"Email",emailsender:"Người gửi mail",enter90isn:"Hãy nhập mã liệu 90",enteramount:"Hãy nhập vào số lượng",enterclient:"Hãy chọn khách hàng",entercontrol:"Hãy chọn hạng mục kiểm soát",enterdesc:"Hãy nhập mô tả vào",enterisn:"mã liệu",enterisn_90pn_or_descr:"Mã liệu/mã liệu 90/tên liệu",enterisn_or_descr:"Mã liệu/Tên liệu",entermachine:"Hyax chọn dòng máy",entermoney:"Hãy lựa chọn tiền tệ",enterprocess:"Hãy chọn giai đoạn",entersenddep:"Hãy chọn bộ phận phát liệu",entersrm:"Mã đơn SRM",entersxb:"Nhập mã nhân viên",errormonth:"Vì là tiêu hao hàng tháng, cần chọn điền các hạng mục cần kiểm soát và điền mô tả",exampleExcel:"Tải form",exchangerate_notfound:"Tìm kiếm tiền tệ sai",export:"Tổng hợp ra",export1:"Tổng hợp form khảo giá",exportspan:"Chỉ tổng hợp tài liệu có số lượng mua lần này > 0",format:"Quy cách",generatePR:"Sản xuất đơn mua",importMonthlyData:"Tổng hợp hàng mua hàng tháng",importNonMonthlyData:"Tổng hợp hàng mua không hàng tháng",info:"Thông tin chi tiết",isn:"Mã liệu",isnConsumeAdd:"Lượng tiêu hao mã liệu ( thêm mới )",isnConsumeUpdate:"Lượng tiêu hao mã liệu ( tìm kiếm/sửa )",isnlength:"Độ dài của mã liệu là 12 kí tự",loadconsume:"Đã load vào đợi Approve",loadsuccess:"Đã load vào thành công",lt:"LT",machine:"Dòng máy",markconsume:"Tích chọn thể hiện kỹ sư đã xác nhận lượng dùng, không tích chọn thể hiện bắt buộc phải khai đơn lại từ đầu",markstand:"Tích chọn thể hiện kỹ sư đã xác nhận lượng dùng, không tích chọn thể hiện bắt buộc phải khai đơn lại từ đầu",money:"Tiền tệ",month:"Mua hàng tháng",months:"Giêng_Hai_Ba_Tư_Năm_Sáu_Bảy_Tám_Chín_Mười_Mười một_Mười hai",moq:"MOQ",mpq:"MPQ",needper:"Tỷ lệ yêu cầu",needprice:"Số tiền yêu cầu",new:"Thêm mới",nextchange:"Tần suất đổi mỗi ngày của tháng sau",nextclass:"Số ca làm việc của tháng sau",nextday:"Số ngày sản xuất của tháng sau",nextdayneed:"Yêu cầu mỗi ngày của tháng sau",nextline:"Số chuyền mở của tháng sau",nextmps:"MPS của tháng sau",nextneed:"Nhu cầu trong tháng sau",nextpeople:"Số người của trạm tháng sau",nextuse:"Số lượng cần dùng của mỗi ngày mỗi người của tháng sau",no_req_amount_to_submit:"Tất cả số lượng mua đều bằng 0, không có dữ liệu đưa ra",nocheck:"Hãy chọn hạng mục gửi đi",noclient:"Khách hàng không tồn tại",nodata:"Không có tài liệu gửi đi",noemail:"Xác nhận nhân viên",noisn:"Mã liệu không tồn tại",noload:"Không có tài liệu load vào",nomachine:"Dòng máy không tồn tại",nonmonthly_pr_already_sxb:"Mã liệu dưới đây đang được gửi đi xin kí duyệt",nopeople:"Xác nhận mã nhân viên",noproduction:"Giai đoại đoạn này không tồn tại",notmonth:"Mua không hàng tháng",nounitconsumption:"Lượng dùng này không tồn tại hoặc chưa được approve",nowchange:"Tần suất đổi mỗi ngày của tháng này",nowclass:"Số ca làm việc của tháng này",nowday:"Số ngày sản xuất của tháng này",nowdayneed:"Yêu cầu mỗi ngày của tháng này",nowline:"Số chuyền mở của tháng này",nowmps:"MPS của tháng này",nowneed:"Nhu cầu trong tháng này",nowpeople:"Số người của trạm tháng này",nowrite:"Chưa điền hết",nowstock:"Tồn kho hiện tại",nowuse:"Số lượng cần dùng của mỗi ngày mỗi người của tháng này",on_the_way_search:"Số lượng chưa về hàng",pName:"Tên sản phẩm",page_name:"Mua tháng",please_utilize:"Đã thông qua",plz_upload:"Hãy tải Excel lên",plz_write:"Vui lòng điền vào",pr_sender:"Người khai đơn",price:"Đơn giá",process:"Giai đoạn",rate:"Hối đoái",realneed:"Yêu cầu thực tế",reason:"Hãy điền nguyên nhân",record:"hạng mục",remark:"Ghi chú",repeat:"Tài liệu đã ở trong kho tài liệu, vui lòng kiểm tra",repeated_isn:"Có mã liệu trùng lặp",return:"Quay lại",review_cancel:"Trả đơn",review_complete:"Kí hoàn thành",review_pending:"Đợi kí",row:"Cùng hàng",safe:"An toàn kho",search:"Tìm kiếm",senddep:"Bộ phận phát liệu",shallow_delete:"Xóa ở đây chỉ có nghĩa là sẽ không được gửi. Để xóa hoàn toàn, vui lòng vào mục (không) mua hàng hàng tháng.",some_data_has_no_amount:"Một số số lượng yêu cầu là 0 và chỉ những mã liệu có số lượng yêu cầu mới xuất hiện trong bản PDF yêu cầu",srm:"mã đơn SRM",srmspan:"Chỉ đi đến dòng đã kiểm tra",stand:"Trạm",standAdd:"Nhân lực trạm ( thêm mới )",standUpdate:"Nhân lực trạm ( tìm kiếm/sửa )",standmail:"Hãy click vào đường link để xác nhận trạm",status:"Trạng thái",submit:"Gửi đi",submitspan:"Chỉ dòng có số đơn đặt hàng SRM và số lượng mua > 0 mới được gửi hoặc xuất",success:"Thành công",surepeople:"Xác nhận mã nhân viên",surepeopleemail:"Xác nhận mail nhân viên",sxbamount:"Số lượng SXB",sxbamounterr:"Số lượng SXB không được lớn hơn số lượng mua",timepart:"Khoảng thời gian",to_update_unit_price:"Cập nhật đơn giá",total:"Tổng cộng",transit:"Lượng hàng chưa đến",transit_reviser:"Người sửa",unit:"Đơn vị",upload:"Tải lên",upload1:"Tải lên",uploadtime:"Thời gian tải lên",writesrm:"Hãy điền mã đơn SRM",writetime:"Điền thời gian",yellowrepeat:"Đánh dấu màu vàng thể hiện kho tài liệu này đã tồn tại trong kho tài liệu"},"vi.oboundpageLang":{add:"Thêm",addtodatabase:"Thêm vào kho tài liệu",amount:"Số lượng",amountzero:"Số lượng nhập kho không được nhỏ hơn hoặc bằng 0",back:"Trả liệu",backamount:"Số lượng dự kiến trả lại",backdiffreason:"Nguyên nhân số lượng trả lại chênh lệch",backlist:"Đơn trả liệu",backlistnum:"Mã đơn trả liệu",backpeople:"Nhân viên trả liệu",backpeoplenum:"Mã nhận viên trả liệu",backreason:"Nguyên nhân trả lại",backrecord:"Biểu lịch sử trả liệu",begindate:"Ngày bắt đầu",bound:"Loại kho",client:"Khách hàng",data:"Tài liệu",delete:"Xóa",deletebacklist:"Xóa đơn trả liệu",deletepicklist:"Xóa đơn lĩnh liệu",diffreason:"Nguyên nhân lĩnh dùng chênh lệch",download:"Tải xuống",enddate:"Ngày kết thúc",enteramount:"Hãy nhập số lượng",enterbacklist:"Hãy chọn đơn trả lại",enterbackpeople:"Hãy chọn nhân viên trả liệu",enterbackreason:"Hãy chọn nguyên nhân trả lại",enterbound:"Hãy chọn loại kho",enterclient:"Hãy lựa chọn khách hàng",enterdiffreason:"Hãy nhập nguyên nhân chênh lệch",enterformat:"Hãy nhập quy cách",enterinpeople:"Hãy chọn nhân viên",enterinreason:"Hãy chọn nguyên nhân nhập kho",enterisn:"Hãy nhập mã liệu",enterline:"Hãy lựa chọn chuyền sản xuất",entermachine:"Hãy lựa chọn dòng máy",enterpName:"Hãy nhập tên sản phẩm",enterpicklist:"Hãy chọn đơn lĩnh liệu",enterpickpeople:"Hãy chọn nhân viên lĩnh liệu",enterprocess:"Hãy chọn giai đoạn",enterreceivepeople:"Hãy chọn nhân viên nhận liệu",entersendpeople:"Hãy chọn nhân viên phát liệu",enterstatus:"Hãy chọn trạng thái công năng",enterusereason:"Hãy lựa chọn nguyên nhân lĩnh dùng",exampleExcel:"Tải Form",format:"Quy cách",good:"Hàng đạt",inbound:"Nhập kho",inboundnum:"Số lượng nhập kho",inboundsearch:"Tìm kiếm nhập kho",inboundtime:"Thời gian nhập kho",inlist:"Mã đơn nhập kho",inpeople:"Nhân viên",inputbackpeople:"Hãy nhập mã nhân viên trả liệu",inputbackreason:"Hãy nhập nguyên nhân trả lại",inputinreason:"Hãy nhập nguyên nhân nhập kho",inputpickpeople:"Hãy nhập mã nhân viên lĩnh liệu",inputreceivepeople:"Hãy nhập mã nhân viên nhận liệu",inputsendpeople:"Hãy nhập mã nhân viên phát liệu",inputusereason:"Hãy nhập nguyên nhân lĩnh dùng",inreason:"Nguyên nhân lĩnh dùng",isn:"Mã liệu",isnlength:"Độ dài mã liệu không quas 12 kí tự",isnrepeat:"Mã liệu trùng lặp",lessstock1:"Số lượng tồn kho hiện tại nhỏ hơn số lượng nhập kho, không thể xóa nhập kho hạng mục này",line:"Chuyền",machine:"Dòng máy",mark:"Ghi chú",matsInfo:"Thông tin vật liệu ( Tìm kiếm )",matsdata:"Tài liệu vật liệu",new:"Thêm mới",newMats:"Thêm vật liệu",nobackpeople:"Mã nhân viên trả liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nobound:"Loại kho không tồn tại",nocheck:"Hãy tích chọn hạng mục xóa /sửa đổi",noclient:"Khách hàng không tồn tại",nogood:"Hàng lỗi",noinpeople:"Mã nhân viên của người này không tồn tại, hãy chọn đến quản lý người dùng-duy trì thông tin nhân viên",noisn:"Mã liệu không tồn tại",nopickpeople:"Mã nhân viên lĩnh liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",noreceivepeople:"Mã nhân viên nhận liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nosendpeople:"Mã nhân viên phát liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nostock:"Mã liệu và khách hàng này không có tồn kho, không thể khai đơn lĩnh liệu",nowbound:"Loại kho hiện tại",nowstock:"Tồn kho hiện có",oisn:"Mã liệu kho O",opentime:"Thời gian khai đơn",other:"Khác",outbackok:"Hoàn thành xuất kho,mã đơn trả liệu",outboundtime:"Thời gian xuất kho",outpickok:"Hoàn thành xuất kho, mã đơn lĩnh liệu",pName:"Tên sản phẩm",page_name:"Kho O",pick:"Lĩnh liệu",pickamount:"Số lượng dự kiến lĩnh",picklist:"Đơn lĩnh liệu",picklistnum:"Mã đơn lĩnh liệu",pickpeople:"Nhân viên lĩnh liệu",pickpeoplenum:"Mã nhân viên người lĩnh liệu",pickrecord:"Biểu lịch sử lĩnh liệu",plz_upload:"Tải Excel lên",process:"Giai đoạn",realbackamount:"Số lượng trả lại thực tế",realpickamount:"Số lượng thực tế lĩnh dùng",receivepeople:"Nhân viên nhận liệu",receivepeoplenum:"Mã nhân viên nhân liệu",record:"Hạng mục",return:"Quay lại",rfidinpeople:"Click chỗ này để cảm ứng thẻ nhân viên",row:"Trên dòng",search:"TÌm kiếm",searchbacklist:"Tìm kiếm đơn trả liệu",searchpicklist:"TÌm kiếm đơn lĩnh liệu",searchstock:"Tìm kiếm tồn kho",senddep:"Bộ phận phát liệu",sendpeople:"Nhân viên phát liệu",sendpeoplenum:"Mã nhân viên người phát liệu",status:"Trạng thế công năng",stockless:"Số lượng tồn kho nhỏ hơn số lượng thực lĩnh , không thể xuất kho",stockupload:"Tải tồn kho lên",submit:"Gửi đi",success:"Thành công",timepart:"Khoảng thời gian",total:"Tổng cộng",unit:"Đơn vị",updatetime:"Thời gian cập nhật cuối cùng",upload:"Tải lên hàng loạt",upload1:"Tải lên",usereason:"Nguyên nhân lĩnh dùng",yellowrepeat:"Đánh dấu màu vàng thể hiện kho tài liệu này đã tồn tại trong kho tài liệu"},"vi.outboundpageLang":{add:"Thêm",back:"Trả liệu",backamount:"Số lượng dự kiến trả lại",backdiffreason:"Nguyên nhân số lượng trả lại chênh lệch",backlist:"Đơn trả liệu",backlistnum:"Mã đơn trả liệu",backpeople:"Nhân viên trả liệu",backpeoplenum:"Mã nhận viên trả liệu",backreason:"Nguyên nhân trả lại",backrecord:"Biểu lịch sử trả liệu",begindate:"Ngày bắt đầu",client:"Khách hàng",delete:"Xóa",deletebacklist:"Xóa đơn trả liệu",deletepicklist:"Xóa đơn lĩnh liệu",diffreason:"Nguyên nhân lĩnh dùng chênh lệch",download:"Tải xuống",download_example:"Tải xuống mẫu",enddate:"Ngày kết thúc",enteramount:"Hãy nhập số lượng",enterbacklist:"Hãy chọn đơn trả lại",enterbackpeople:"Hãy chọn nhân viên trả liệu",enterbackreason:"Hãy chọn nguyên nhân trả lại",enterclient:"Hãy lựa chọn khách hàng",enterdiffreason:"Hãy nhập nguyên nhân chênh lệch",enterisn:"Hãy nhập mã liệu",enterline:"Hãy lựa chọn chuyền sản xuất",enterloc:"Hãy lựa chọn vị trí lưu giữ",entermachine:"Hãy lựa chọn dòng máy",enterpicklist:"Hãy chọn đơn lĩnh liệu",enterpickpeople:"Hãy chọn nhân viên lĩnh liệu",enterprocess:"Lựa chọn giai đoạn",enterreceivepeople:"Hãy chọn nhân viên nhận liệu",entersenddep:"Hãy chọn bộ phận phát liệu",entersendpeople:"Hãy chọn nhân viên phát liệu",enterstatus:"Hãy chọn trạng thái công năng",enterusereason:"Hãy lựa chọn nguyên nhân lĩnh dùng",format:"Quy cách",good:"Hàng đạt",inboundtime:"Thời gian nhập kho",inputbackpeople:"Hãy nhập mã nhân viên trả liệu",inputbackreason:"Hãy nhập nguyên nhân trả lại",inputpickpeople:"Hãy nhập mã nhân viên lĩnh liệu",inputreceivepeople:"Hãy nhập mã nhân viên nhận liệu",inputsendpeople:"Hãy nhập mã nhân viên phát liệu",inputusereason:"Hãy nhập nguyên nhân lĩnh dùng",isn:"Mã liệu",isnlength:"Độ dài mã liệu không quas 12 kí tự",line:"Chuyền",loc:"Vị trí lưu giữ",machine:"Dòng máy",mark:"Ghi chú",no_line:"Dòng sản xuất không tồn tại",no_reason:"Nguyên nhân lĩnh dùng không tồn tại",nobackpeople:"Mã nhân viên trả liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nogood:"Hàng lỗi",noisn:"Mã liệu không tồn tại",nopickpeople:"Mã nhân viên lĩnh liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",noreceivepeople:"Mã nhân viên nhận liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nosendpeople:"Mã nhân viên phát liệu không tồn tại, hãy chọn đơn quản lý người dùng-duy trì thông tin nhân viên",nostock:"Mã liệu này không có tồn kho, không thể khai đơn lĩnh liệu",nostock1:"Mã liệu & vị trí lưu trữ này không tồn kho, không thể xuất kho",nowloc:"Vị trí lưu trữ hiện tại",nowstock:"Tồn kho hiện có",opentime:"Thời gian khai đơn",other:"Khác",outbackok:"Hoàn thành xuất kho,mã đơn trả liệu",outboundtime:"Thời gian xuất kho",outpickok:"Hoàn thành xuất kho, mã đơn lĩnh liệu",pName:"Tên sản phẩm",page_name:"Xuất kho",pick:"Lĩnh liệu",pickamount:"Số lượng dự kiến lĩnh",picklist:"Đơn lĩnh liệu",picklistnum:"Mã đơn lĩnh liệu",pickpeople:"Nhân viên lĩnh liệu",pickpeoplenum:"Mã nhân viên người lĩnh liệu",pickrecord:"Biểu lịch sử lĩnh liệu",process:"Giai đoạn",realbackamount:"Số lượng trả lại thực tế",realpickamount:"Số lượng thực tế lĩnh dùng",realpickzero:"Số lượng lĩnh dùng thực tế là 0",receivepeople:"Nhân viên nhận liệu",receivepeoplenum:"Mã nhân viên nhân liệu",record:"Hạng mục",repeated_isn_will_not_display:"Mã liệu+Dòng sản xuất+Nguyên nhân lĩnh dùng lặp lại sẽ không được hiển thị trong Excel",return:"Quay lại",rfidinputbackpeople:"Hãy click vào đây và cảm ứng thẻ nhân viên trả liệu",rfidinputpickpeople:"Hãy click vào đây và cảm ứng thẻ nhân viên lĩnh liệu",rfidinputreceivepeople:"Hãy click vào đây và cảm ứng thẻ nhân viên nhận liệu",rfidinputsendpeople:"Hãy click vào đây và cảm ứng thẻ nhân viên phát liệu",row:"Trên dòng",search:"TÌm kiếm",searchbacklist:"Tìm kiếm đơn trả liệu",searchpicklist:"TÌm kiếm đơn lĩnh liệu",senddep:"Bộ phận phát liệu",sendpeople:"Nhân viên phát liệu",sendpeoplenum:"Mã nhân viên người phát liệu",status:"Trạng thế công năng",stockless:"Số lượng tồn kho nhỏ hơn số lượng lĩnh dùng, không thể xuất kho",submit:"Gửi đi",success:"Thành công",timepart:"Khoảng thời gian",total:"Tổng cộng",unit:"Đơn vị",usereason:"Nguyên nhân lĩnh dùng"},"vi.pagination":{next:"Next &raquo;",previous:"&laquo; Previous"},"vi.passwords":{reset:"Your password has been reset!",sent:"We have emailed your password reset link!",throttled:"Please wait before retrying.",token:"This password reset token is invalid.",user:"We can't find a user with that email address."},"vi.templateWords":{News:"Thông báo",PInfo:"Thông tin nhân viên",PR:"Tổng hợp tất cả các <br/> &nbsp;&nbsp;&nbsp;&nbsp; mặt hàng mua",UserInfo:"Thông tin người dùng",addNewCat:"Thêm mới loại hình",addNews:"Thêm thông báo",all:"Tất cả",all_history_records:"Tất cả lịch sử",apply:"Xác nhận",barcode_gen:"Mã vạch",barcode_generator:"Máy sản sinh mã vạch",basicInfo:"Thông tin cơ bản",bu:"BU quản lý tiêu hao",callsys:"Hệ thống cảnh báo",cancel:"Hủy",cat:"Loại",changePass:"Sửa mật khẩu",checkIvent:"Quản lý kiểm kê",checkIvent_create_new_table:"Create New Sheet",chrome:"Chrome",clear_cache:"Nếu chức năng hoặc hiển thị của trang web không bình thường, trước tiên vui lòng xóa bộ nhớ đệm của trình duyệt theo các tài liệu sau",content:"Nội dung",custom_range:"Tùy chỉnh",dashboard:"Biểu công năng",dateOfNotice:"Ngày tháng",dep:"Department Site",east:"PSH EIP",edge:"Edge",editNews:"Biên tập thông báo",first_thing_first:"Nếu màn hình không hiển thị, vui lòng nhấn Shift + Ctrl + R trên bàn phím trước",importMonthlyData:"Tổng hợp tư liệu mua <br/> &nbsp;&nbsp;&nbsp;&nbsp; hàng tháng",importNonMonthlyData:"Tổng hợp tư liệu mua <br/> &nbsp;&nbsp;&nbsp;&nbsp; không hàng tháng",important:"Quan trọng",inbound:"Nhập kho",isnBarcode:"Tìm kiếm theo mã vạch mã liệu",isnConsumeAdd:"Tiêu thụ vị đơn <br/> &nbsp;&nbsp;&nbsp;&nbsp; (Thêm mới)",isnConsumeUpdate:"Tiêu thụ vị đơn <br/> &nbsp;&nbsp;&nbsp;&nbsp; (Tìm kiếm & Sửa)",language:"Ngôn ngữ/Language",level:"Cấp độ",locBarcode:"Tìm kiếm theo mã vạch lưu trữ",logout_btn:"Đăng xuất",middle:"PSZ EIP",monthly:"Mua hàng tháng",newPInfo:"Thêm thông tin nhân viên",newUser:"Thêm người dùng",nonmonthly:"Mua không hàng tháng",normal:"Thông thường",nowuser:"Người dùng hiện tại đang đăng nhập là :",obound:"Kho O",on_the_way_search:"Số lượng chưa về hàng",outbound:"Xuất kho",past_three_months:"Trong vòng 3 tháng",project:"Project Site",site:"Loại xưởng",standAdd:"Nhân lực từng trạm (Thêm mới)",standUpdate:"Nhân lực từng trạm (Tìm kiếm & Sửa)",taipei:"Taipei EIP",title:"Tiêu đề",today:"Hôm nay",urgent:"Gấp",userManage:"Quản lý người dùng",websiteName:"Hệ thống quan lý tiêu hao",west:"PCQ EIP"},"vi.validation":{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute must only contain letters.",alpha_dash:"The :attribute must only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute must only contain letters and numbers.",array:"The :attribute must be an array.",attributes:{password:"password",username:"username"},before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{array:"The :attribute must have between :min and :max items.",file:"The :attribute must be between :min and :max kilobytes.",numeric:"The :attribute must be between :min and :max.",string:"The :attribute must be between :min and :max characters."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",custom:{"attribute-name":{"rule-name":"custom-message"}},date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",ends_with:"The :attribute must end with one of the following: :values.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{array:"The :attribute must have more than :value items.",file:"The :attribute must be greater than :value kilobytes.",numeric:"The :attribute must be greater than :value.",string:"The :attribute must be greater than :value characters."},gte:{array:"The :attribute must have :value items or more.",file:"The :attribute must be greater than or equal :value kilobytes.",numeric:"The :attribute must be greater than or equal :value.",string:"The :attribute must be greater than or equal :value characters."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{array:"The :attribute must have less than :value items.",file:"The :attribute must be less than :value kilobytes.",numeric:"The :attribute must be less than :value.",string:"The :attribute must be less than :value characters."},lte:{array:"The :attribute must not have more than :value items.",file:"The :attribute must be less than or equal :value kilobytes.",numeric:"The :attribute must be less than or equal :value.",string:"The :attribute must be less than or equal :value characters."},max:{array:"The :attribute must not have more than :max items.",file:"The :attribute must not be greater than :max kilobytes.",numeric:"The :attribute must not be greater than :max.",string:"The :attribute must not be greater than :max characters."},mimes:"Lỗi định dạng file, chuyển thành : File Values",mimetypes:"Lỗi định dạng file , chuyển thành: .xls hoặc .xlsx",min:{array:"The :attribute must have at least :min items.",file:"The :attribute must be at least :min kilobytes.",numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},multiple_of:"The :attribute must be a multiple of :value.",not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",password:"The password is incorrect.",present:"The :attribute field must be present.",prohibited:"The :attribute field is prohibited.",prohibited_if:"The :attribute field is prohibited when :other is :value.",prohibited_unless:"The :attribute field is prohibited unless :other is in :values.",regex:"Lỗi Format",required:"Chưa điền đủ thông tin",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{array:"The :attribute must contain :size items.",file:"The :attribute must be :size kilobytes.",numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with one of the following: :values.",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID."},"vi.welcomePageLang":{header:"Quản lý tiêu hao",login_btn:"Đăng nhập",menu:"Danh mục"},"zh-CN.auth":{failed:"登入资料不符合",throttle:"尝试登入太多次，请 :seconds 秒后再尝试"},"zh-CN.barcodeGenerator":{Delete_Notice:"此处之删除仅表示其条码不会被列印",Temporary_Storage_Zone:"暂存区",barcode_gening:"条码生成",batch_upload:"批量产生",enter_isn:"请输入料号",enter_loc:"请输入储位",enter_pName:"请输入品名",exampleExcel:"示例格式下载",gen:"产生",isn:"料号",isn_gen_barcode:"产生料号条码",leaving_page_alert:"离开页面将会清所有暂存资料，确认离开？",loc:"储位",loc_gen_barcode:"产生储位条码",nothing_to_print:"没有条码",pName:"品名",page_name:"条码",plz_upload:"请上传Excel档",print:"列印",print_amount:"列印数量",search:"查询",search_isn:"料号查询 ",search_loc:"储位查询 ",spec:"规格",temp_save_error:"错误 :",temp_save_success:"暂存成功",upload_save_success:"上传成功"},"zh-CN.basicInfoLang":{add:"添加",addtodatabase:"新增至资料库",basicInfo:"基础信息",belong:"耗材归属",change:"更新",check:"勾选",client:"客户别",consume:"单耗",data:"资料",delete:"删除",differ_by_client:"因客户而不同",download:"下载",enterbelong:"请选择耗材归属",enterformat:"请输入规格",enterisn:"请输入料号",enterlt:"请输入LT",entermoney:"请选择币别",entermoq:"请输入MOQ",entermpq:"请输入MPQ",enterpName:"请输入品名",enterprice:"请输入单价",entersafe:"请输入安全库存",entersenddep:"请选择发料部门",enterunit:"请输入单位",enteryorn:"请选择是/否",equiproom:"设备备品室",exampleExcel:"格式下载",factory:"厂别",format:"规格",go_to_page:"现在页数 : ",gradea:"A级资材",ieroom:"IE备品室",inreason:"入库原因",isn:"料号",isnlength:"料号长度不为12",isnrepeat:"料号重复",line:"线别",loc:"储位",lt:"LT",machine:"机种",matsInfo:"料件信息",matsdata:"料件资料",matssearch:"料号查询",meroom:"ME备品室",money:"币别",month:"月请购",moq:"MOQ",mpq:"MPQ",new:"新增",newMats:"新增料件",newbasicInfo:"新增基础信息",no:"否",nocheck:"请勾选欲提交项目",nodata:"无资料提交",now_showing:"现在显示",obound:"O库(借贷库)",pName:"品名",page_name:"基础资料",plz_upload:"请上传Excel档",price:"单价",process:"制程",quicksearch:"快速查询",record:"笔",records_per_page:"每页笔数 : ",repeat:"资料已存放在资料库内，请检查。 ",return:"返回",returnreason:"退回原因",room:"备品室",row:"在行",safe:"安全库存",safeerror:"非月请购之安全库存为必填项目",search_with_no_data_returned:"查无资料",searchisn:"直接搜索全部，或输入料号开头搜索",searchisn1:"输入多笔料号查询，使用换行隔开",senddep:"发料部门",stand:"站位",submit:"提交",success:"成功",total:"共",unit:"单位",upload:"批量上传",upload1:"上传",uploaderror:"不是基础信息批量上传的格式",usedep:"领用部门",usereason:"领用原因",yellowrepeat:"黄底标表示资料库已存放在资料库内",yes:"是"},"zh-CN.bupagelang":{amounterr:"拨出数量小于库存/拨出数量<=0",amounterr1:"实际拨出数量>现有库存",begindate:"起始日期",bu:"BU耗材管理",buyrecord:"近期请购纪录",buytime:"近期请购时间",changeok:"已顺利更新",check:"勾选",checkreceive:"确认是否接收",checktrans:"确认是否拨出",client:"客户别",days:"呆滞天数",dbadd:"调拨单新增",dblist:"调拨单号",delete:"删除",download:"下载",enddate:"结束日期",enteramount:"请输入数量",enterclient:"请选择客户别",enterfactory:"请选择厂区",enterisn:"请输入料号",enterloc:"请选择储位",enteroutlist:"请选择拨出单",enteroutpeople:"请选择拨出人",enterpicklist:"请选择接收单",enterreceivepeople:"请选择接收人",factory:"厂区",factorychange:"厂区库存调拨",format:"规格",inboundtime:"入库时间",inventoryerr:"库存有异动，请重新整理",isn:"料号",isnlength:"料号长度不为12",jobnum:"工号",loc:"储位",name:"姓名",nocheck:"请勾选欲删除/更新项目",nocheck1:"请勾选欲提交项目",noisn:"料号不存在,请先维护此料件信息",nooutpeople:"拨出人员之工号不存在，请先到用户管理-新增人员讯息维护",nopickpeople:"接收人员之工号不存在，请先到用户管理-新增人员讯息维护",notequal:"不等于",nowstock:"现有库存",opentime:"开单时间",outboundtime:"出库时间",outdetail:"拨出明细",outfactory:"拨出厂区",outlist:"调拨_拨出单",outpeople:"拨出人",outtime:"拨出时间",pName:"品名",page_name:"BU耗材管理",picklist:"调拨_接收单",preamount:"预计拨出数量",realamount:"实际拨出数量",realpickamount:"实际接收数量",receiveamount:"接收数量",receivedetail:"接收明细",receivefac:"接收厂区",receivepeople:"接收人",receivetime:"接收时间",remark:"备注",return:"返回",row:"在行",search:"查询",searchdetail:"调拨明细查询",searchlist:"调拨单查询",searchoutlist:"搜寻拨出单",searchpicklist:"搜寻接收单",senddep:"发料部门",sluggish:"呆滞库存",status:"状态",stock:"库存",submit:"提交",success:"成功",timepart:"时间段",tranamount:"调拨数量",transamount:"拨出数量",transpeople:"拨出人",unit:"单位"},"zh-CN.callpageLang":{callsys:"报警系统",change:"更新",client:"客户别",dayalert:"呆滞天数警报",days:"呆滞天数",diffalert:"需求vs领用差异",entersenddep:"请选择发料部门",format:"规格",ismonth:"月请购耗材",isn:"料号",loc:"储位",mark:"备注",month:"月请购",nostock:"目前无任何库存",notmonth:"非月请购耗材",nowstock:"现有库存",pName:"品名",page_name:"报警系统",req_vs_real:"需求与领用差异量",req_vs_real_percent:"需求与领用差异",return:"返回",safe:"安全库存",safealert:"安全库存警报",saveremark:"保存备注",senddep:"发料部门",stock:"总库存",success:"成功"},"zh-CN.checkInvLang":{all:"全部",approver_priority_notice:"权限1人员才能核准库存变动",check:"盘点",check_not_right_amount:"盘盈亏",check_record:"盘点记录",checked:"已盘点",checking_result:"结果",client:"客户",continue_check:"续盘",create_new_table:"建立新盘点表",create_table_fail:"建立失败",create_table_success:"新盘点表建立成功 !",created_by:"建立者",created_time:"建立时间",edit:"修改",emptyList:"下载空白盘点表",exact:"盘正确",excess:"盘盈",existed_tables:"已有近期盘点表",has:"还有",has_exist_sheet_confirm:"已有近期盘点表，请确认是否仍须建立新盘点表？",input_isn_barcode:"输入 料号条码",input_loc_barcode:"输入 储位条码",inventory:"盘点",isn:"料号",loc:"储位",loc_short:"储位",no_results_found:"查无资料 !",no_such_isn:"查无此料号",no_such_loc:"查无此储位",no_table_found:"无近期盘点表",not_checked:"未盘点",page_name:"盘点管理",plz_create:"无近期盘点表，请建立新盘点表",product_name:"品名",search:"搜寻",search_by:"搜寻",sent_email_failed:"寄信失败",serial_number:"单号",shortage:"盘亏",sort_by:"筛选",stock:"库存",submit:"送出",this:"此",time_range:"时间",unchecked:"个未盘",unknown:"N/A",update_failed:"更新失败",update_success:"更新成功",updated_at:"盘点时间",updated_by:"盘点人",upload:"盘点结果上传",value_not_changed:"盘点结果未改变，确定送出？"},"zh-CN.fileUploadErrors":{Content_errors:"档案内容有错误",Exceeded_filesize_limit:"超过档案大小限制",Failed_to_move_uploaded_file:"无法移动档案至伺服器资料夹",Invalid_file_format:"请上传.xlsx或.xls档",Invalid_parameters:"参数错误",No_file_sent:"没有档案",Unknown_errors:"未知错误"},"zh-CN.httpErrors":{error_569_msg:"Login Failed",error_569_title:"Login Failed"},"zh-CN.inboundpageLang":{FlowNumber:"SSZ领料单号",LocationChangeRecord:"储位调拨记录",add:"添加",addclient:"添加(By 客户别)",addtodatabase:"加入库存",altered_by_other_recently:"已被他人修改，请重新查询",amount:"数量",begindate:"起始日期",change:"更新",check:"勾选",choose:"选择",click_the_flow_number:"点击领料单号把料件归类至储位",client:"客户别",coming:"即将从",days:"呆滞天数",delete:"删除",download:"下载",enddate:"结束日期",enterSSZ:"SSZ领料单号",enteramount:"请输入数量",enterclient:"请选择客户别",enterinpeople:"请选择人员",enterinreason:"请选择入库原因",enterisn:"请输入料号",enterisn_or_loc:"料号/储位",enterisn_or_spec:"料号/规格",enterloc:"请选择储位",entersenddep:"请选择发料部门",exampleExcel:"格式下载",format:"规格",gradea:"A级资材",inbound_loc:"入库储位",inbound_staff:"入库人员",inboundnum:"入库数量",inboundtime:"入库时间",inlist:"入库单号",inpeople:"操作人员",inputinreason:"请输入入库原因",inreason:"入库原因",isn:"料号",isnlength:"料号长度不为12",lessstock:"有库存小于入库数量，无法删除一些入库单。",loc:"储位",locationchange:"储位调拨",mark:"备注",money:"币别",month:"月请购",monthuse:"月使用量",new:"新增",newloc:"送至储位",newloc_empty:"未选择送至储位",newloc_same:"送至储位与原储位相同",no_basic:"料号资料不存在",no_basic_are_highlighted:"红字料号表示其料件讯息未维护",nocheck:"请勾选欲删除/更新项目",noclient:"客户不存在",nogood:"不良品",noinpeople:"人员之工号不存在，请先到用户管理-人员讯息维护",noisn:"料号不存在",noloc:"储位不存在",notransit:"在途量为0，无法开领料单",nowstock:"现有库存",nowstock_failed:"获取现有库存失败",oldloc:"库存储位",operateTime:"操作时间",orig_loc:"原储位",other:"其他",pName:"品名",page_name:"入库",plz_upload:"请上传Excel档",price:"单价",qty_empty:"调拨数量不可为0",qty_exceed:"调拨数量不可大于现有库存",record:"笔",repeated_isn_90_pair:"有重复的料号＋90料号",repeated_isn_loc_pair:"有重复的料号＋储位",return:"返回",rfidinpeople:"请点这里感应人员识别证",row:"在行",safe:"安全库存",search:"查询",searchstock:"库存查询",senddep:"发料部门",stock:"库存",stock_within_brackets:"(括号)内为调拨前库存量",stockmonth:"库存使用月数",stockupload:"库存上传",submit:"提交",success:"成功",timepart:"时间段",to:"到",total:"共",transfer:"调拨",transferamount:"调拨数量",transit:"在途量",transiterror:"入库数量不可大于在途量",unit:"单位",updatetime:"最后更新时间",upload:"批量上传",upload1:"上传",within_a_month:"一个月内",within_a_year:"一年内",within_three_months:"三个月内"},"zh-CN.loginPageLang":{addtodatabase:"新增至资料库",adduser:"新增用户",againlogin:"请重新登入",change:"更新",changeMail:"修改信箱",changePass:"修改密码",change_site_permission_reset:"切换厂区将重置权限<br/>若有需要请联络该厂主管或系统管理员提升权限",check:"勾选",current_permission:"当前权限",data:"资料",database_list:"可登入资料库",delete:"删除",dep:"部门",email:"公司信箱",enter_email:"请输入信箱帐号",enterdep:"请输入部门",enteremail:"请输入公司信箱",enterjobsearch:"请输入工号",enterlogin:"请输入登入帐号",entername:"请输入姓名",enternewpass:"请输入新密码",enteroldpass:"请输入旧密码",enterpassword:"请再次输入密码",enterpriority:"请选择权限",errorpassword:"旧密码输入错误",errorpassword2:"密码并不相符",exampleExcel:"格式下载",functionality:"功能",home:"首页",joblength:"工号长度不为9",jobnumber:"工号",jobrepeat:"工号重复",jobsearch:"工号查询",latest_login_time:"最后登入",login_btn:"登入",loginsearch:"登入帐号查询",mail:"信箱",name:"姓名",new:"新增",newSSO_msg:"此公司帐号从未登入过耗材管理系统<br/>请先填写以下内容完成初始设定",new_email:"新信箱",newpass:"新密码",no_email:"无",nocheck:"请勾选欲提交项目",old_email:"旧信箱",oldpass:"旧密码",page_name:"用户管理",password:"密码",password_placeholder:"请输入密码",permission_details:"权限说明",permission_notice:"初始权限设为最低(4)<br/>若有需要请联络主管或系统管理员提升权限",pinf:"人员信息",plz_upload:"请上传Excel档",pre_page:"返回",priority:"权限",profile_pic:"头像",record:"笔",return:"返回",row:"在行",search:"查询",selectprofile_pic:"请选择头像",settings:"设定",signup:"注册",site:"厂区",site_error:"请选择厂区",site_placeholder:"请选择厂区",submit:"提交",success:"成功",surepassword:"确认密码",total:"共",upload:"批量上传",upload1:"上传",user:"用户",username:"帐号",username_placeholder:"请输入帐号",username_search:"搜寻帐号/姓名",usernamerepeat:"帐号重复，请重新输入。",welcome:"欢迎",welcome_msg:"请登入帐户以继续使用功能",yellowrepeat:"黄底标表示资料库已存放在资料库内"},"zh-CN.monthlyPRpageLang":{"90isn":"90料号","90isnlength":"90料号长度不为12",PR:"汇出所有请购明细",SXB_search:"请购单纪录",SendPRReview:"送签全部",SendSelectedPRReview:"送签选取项",UpdateUnitPrice:"上传最新单价",add:"添加",addtodatabase:"新增至资料库",allclient:"所有客户",applydate:"申请日期",buyamount:"本次请购数量",buyamount1:"请购数量",buyper:"请购占比",buyprice:"总价",buytime:"请购时间",change:"更新",check:"勾选",clickmail:"点选此网址",client:"客户别",confirm_pr:"确认 & 送出请购单",confirmemail:"确认信箱",confirmpeople:"确认人员",consume:"单耗",consumemail:"您好，请点击此链接画押单耗",control:"管控项次",data:"资料",delete:"删除",description:"说明",download:"下载",duplicate_pr_warning1:"近20天内有相同料号的请购单，连续重复请购 系统在计算时 会扣除同样的库存",duplicate_pr_warning2:"请确认总请购量(您的请购量+本表格的请购量)是否正确",email:"画押信箱",emailsender:"发信者",enter90isn:"请输入90料号",enteramount:"请输入数量",enterclient:"请选择客户别",entercontrol:"请选择管控项次",enterdesc:"请输入说明",enterisn:"料号",enterisn_90pn_or_descr:"料号/90料号/品名",enterisn_or_descr:"料号/品名",entermachine:"请选择机种",entermoney:"请选择币别",enterprocess:"请选择制程",entersenddep:"请选择发料部门",entersrm:"SRM单号",entersxb:"请输入工号",errormonth:"为月请购耗材，需选填管控项次以及填入说明。 ",exampleExcel:"格式下载",exchangerate_notfound:"汇率查询错误",export:"汇出",export1:"汇出询价格式",exportspan:"仅会汇出本次请购数量 > 0 资料",format:"规格",generatePR:"产生请购单",importMonthlyData:"汇入月请购资料",importNonMonthlyData:"汇入非月请购资料",info:"详细资讯",isn:"料号",isnConsumeAdd:"料号单耗(新增)",isnConsumeUpdate:"料号单耗(查询与修改)",isnlength:"料号长度不为12",loadconsume:"载入待重画",loadsuccess:"载入成功",lt:"LT",machine:"机种",markconsume:"勾选表示此单耗工程师已确认，未勾选表示须重新开单",markstand:"勾选表示此站位工程师已确认，未勾选表示须重新开单",money:"币别",month:"月请购",months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月",moq:"MOQ",mpq:"MPQ",needper:"需求占比",needprice:"需求金额",new:"新增",nextchange:"下月每日更换频率",nextclass:"下月开班数",nextday:"下月生产天数",nextdayneed:"下月每日需求",nextline:"下月开线数",nextmps:"下月MPS",nextneed:"下月需求",nextpeople:"下月站位人数",nextuse:"下月每人每日需求量",no_req_amount_to_submit:"所有请购数量皆为0，无资料提交",nocheck:"请勾选欲提交项目",noclient:"客户别不存在",nodata:"无资料提交",noemail:"确认人员",noisn:"料号不存在",noload:"无资料载入",nomachine:"机种不存在",nonmonthly_pr_already_sxb:"以下料号已经送出请购单签核中：",nopeople:"确认人员工號",noproduction:"制程不存在",notmonth:"非月请购",nounitconsumption:"单耗不存在或未画押",nowchange:"当月每日更换频率",nowclass:"当月开班数",nowday:"当月生产天数",nowdayneed:"当月每日需求",nowline:"当月开线数",nowmps:"当月MPS",nowneed:"当月需求",nowpeople:"当月站位人数",nowrite:"尚未填写",nowstock:"现有库存",nowuse:"当月每人每日需求量",on_the_way_search:"在途数量",pName:"品名",page_name:"月请购",please_utilize:"请透过",plz_upload:"请上传Excel档",plz_write:"请填写",pr_sender:"开单人",price:"单价",process:"制程",rate:"汇率",realneed:"实际需求",reason:"请填写原因",record:"笔",remark:"备注",repeat:"资料已存放在资料库内，请检查。 ",repeated_isn:"有重复的料号",return:"返回",review_cancel:"退单",review_complete:"签核完成",review_pending:"待签核",row:"在行",safe:"安全库存",search:"查询",senddep:"发料部门",shallow_delete:"此处删除仅代表不会送签，完全删除请至 汇入(非)月请购",some_data_has_no_amount:"部分请购数量为0，有请购数量的料号才会出现在请购单PDF中",srm:"SRM单号",srmspan:"仅会至打勾的那一行",stand:"站位",standAdd:"站位人力(新增)",standUpdate:"站位人力(查询与修改)",standmail:"您好，请点击此链接画押站位",status:"状态",submit:"提交",submitspan:"仅会提交或汇出有填写SRM单号以及本次请购数量>0那一行",success:"成功",surepeople:"确认人员工号",surepeopleemail:"确认人员信箱",sxbamount:"SXB数量",sxbamounterr:"SXB数量不得大于本次请购数量",timepart:"时间段",to_update_unit_price:"更新单价",total:"共",transit:"在途量",transit_reviser:"修改人",unit:"单位",upload:"上传",upload1:"上传",uploadtime:"上传时间",writesrm:"填写SRM单号",writetime:"填写时间",yellowrepeat:"黄底标表示资料库已存放在资料库内"},"zh-CN.oboundpageLang":{add:"添加",addtodatabase:"新增至资料库",amount:"数量",amountzero:"入库数量不可小于等于零",back:"退料",backamount:"预退数量",backdiffreason:"实退差异原因",backlist:"退料单",backlistnum:"退料单号",backpeople:"退料人员",backpeoplenum:"退料人员工号",backreason:"退回原因",backrecord:"退料记录表",begindate:"起始日期",bound:"库别",client:"客户别",data:"资料",delete:"删除",deletebacklist:"删除退料单",deletepicklist:"删除领料单",diffreason:"实领差异原因",download:"下载",enddate:"结束日期",enteramount:"请输入数量",enterbacklist:"请选择退料单",enterbackpeople:"请选择退料人员",enterbackreason:"请选择退回原因",enterbound:"请选择库别",enterclient:"请选择客户别",enterdiffreason:"请输入差异原因",enterformat:"请输入规格",enterinpeople:"请选择人员",enterinreason:"请选择入库原因",enterisn:"请输入料号",enterline:"请选择线别",entermachine:"请选择机种",enterpName:"请输入品名",enterpicklist:"请选择领料单",enterpickpeople:"请选择领料人员",enterprocess:"请选择制程",enterreceivepeople:"请选择收料人员",entersendpeople:"请选择发料人员",enterstatus:"请选择功能状况",enterusereason:"请选择领用原因",exampleExcel:"格式下载",format:"规格",good:"良品",inbound:"入库",inboundnum:"入库数量",inboundsearch:"入库查询",inboundtime:"入库时间",inlist:"入库单号",inpeople:"人员",inputbackpeople:"请输入退料人员工号",inputbackreason:"请输入退回原因",inputinreason:"请输入入库原因",inputpickpeople:"请输入领料人员工号",inputreceivepeople:"请输入收料人员工号",inputsendpeople:"请输入发料人员工号",inputusereason:"请输入领用原因",inreason:"入库原因",isn:"料号",isnlength:"料号长度不为12",isnrepeat:"料号重复",lessstock1:"目前库存小于入库数量，无法删除此笔入库。",line:"线别",machine:"机种",mark:"备注",matsInfo:"料件信息(查询)",matsdata:"料件资料",new:"新增",newMats:"新增料件",nobackpeople:"退料人员之工号不存在，请先到用户管理-人员讯息维护",nobound:"库别不存在",nocheck:"请勾选欲删除/更新项目",noclient:"客户不存在",nogood:"不良品",noinpeople:"人员之工号不存在，请先到用户管理-人员讯息维护",noisn:"料号不存在",nopickpeople:"领料人员之工号不存在，请先到用户管理-人员讯息维护",noreceivepeople:"收料人员之工号不存在，请先到用户管理-人员讯息维护",nosendpeople:"发料人员之工号不存在，请先到用户管理-人员讯息维护",nostock:"该客户&料号没有库存，无法开领料单。",nowbound:"目前库别",nowstock:"现有库存",oisn:"O库料号",opentime:"开单时间",other:"其他",outbackok:"出库完成，退料单号",outboundtime:"出库时间",outpickok:"出库完成，领料单号",pName:"品名",page_name:"O库",pick:"领料",pickamount:"预领数量",picklist:"领料单",picklistnum:"领料单号",pickpeople:"领料人员",pickpeoplenum:"领料人员工号",pickrecord:"领料记录表",plz_upload:"请上传Excel档",process:"制程",realbackamount:"实际退回数量",realpickamount:"实际领用数量",receivepeople:"收料人员",receivepeoplenum:"收料人员工号",record:"笔",return:"返回",rfidinpeople:"请点这里感应识别证",row:"在行",search:"查询",searchbacklist:"搜寻退料单",searchpicklist:"搜寻领料单",searchstock:"库存查询",senddep:"发料部门",sendpeople:"发料人员",sendpeoplenum:"发料人员工号",status:"功能状况",stockless:"库存小于实际领用数量，无法出库。",stockupload:"库存上传",submit:"提交",success:"成功",timepart:"时间段",total:"共",unit:"单位",updatetime:"最后更新时间",upload:"批量上传",upload1:"上传",usereason:"领用原因",yellowrepeat:"黄底标表示资料库已存放在资料库内"},"zh-CN.outboundpageLang":{add:"添加",back:"退料",backamount:"预退数量",backdiffreason:"实退差异原因",backlist:"退料单",backlistnum:"退料单号",backpeople:"退料人员",backpeoplenum:"退料人员工号",backreason:"退回原因",backrecord:"退料记录表",begindate:"起始日期",client:"客户别",delete:"删除",deletebacklist:"删除退料单",deletepicklist:"删除领料单",diffreason:"实领差异原因",download:"下载",download_example:"下载领料单范例",enddate:"结束日期",enteramount:"请输入数量",enterbacklist:"请选择退料单",enterbackpeople:"请选择退料人员",enterbackreason:"请选择退回原因",enterclient:"请选择客户别",enterdiffreason:"请输入差异原因",enterisn:"请输入料号",enterline:"请选择线别",enterloc:"请选择储位",entermachine:"请选择机种",enterpicklist:"请选择领料单",enterpickpeople:"请选择领料人员",enterprocess:"请选择制程",enterreceivepeople:"请选择收料人员",entersenddep:"请选择发料部门",entersendpeople:"请选择发料人员",enterstatus:"请选择功能状况",enterusereason:"请选择领用原因",format:"规格",good:"良品",inboundtime:"入库时间",inputbackpeople:"请输入退料人员工号",inputbackreason:"请输入退回原因",inputpickpeople:"请输入领料人员工号",inputreceivepeople:"请输入收料人员工号",inputsendpeople:"请输入发料人员工号",inputusereason:"请输入领用原因",isn:"料号",isnlength:"料号长度不为12",line:"线别",loc:"储位",machine:"机种",mark:"备注",no_line:"线别不存在",no_reason:"领用原因不存在",nobackpeople:"退料人员之工号不存在，请先到用户管理-人员讯息维护",nogood:"不良品",noisn:"料号不存在",nopickpeople:"领料人员之工号不存在，请先到用户管理-人员讯息维护",noreceivepeople:"收料人员之工号不存在，请先到用户管理-人员讯息维护",nosendpeople:"发料人员之工号不存在，请先到用户管理-人员讯息维护",nostock:"该料号没有库存，无法开领料单。 ",nostock1:"该料号&储位没有库存，无法出库。 ",nowloc:"目前储位",nowstock:"现有库存",opentime:"开单时间",other:"其他",outbackok:"出库完成，退料单号",outboundtime:"出库时间",outpickok:"出库完成，领料单号",pName:"品名",page_name:"出库",pick:"领料",pickamount:"预领数量",picklist:"领料单",picklistnum:"领料单号",pickpeople:"领料人员",pickpeoplenum:"领料人员工号",pickrecord:"领料记录表",process:"制程",realbackamount:"实际退回数量",realpickamount:"实际领用数量",realpickzero:"实际领用数量为0",receivepeople:"收料人员",receivepeoplenum:"收料人员工号",record:"笔",repeated_isn_will_not_display:"Excel中重复的料号+线别+领用原因不会显示",return:"返回",rfidinputbackpeople:"请点这里感应退料人员识别证",rfidinputpickpeople:"请点这里感应领料人员识别证",rfidinputreceivepeople:"请点这里感应收料人员识别证",rfidinputsendpeople:"请点这里感应发料人员识别证",row:"在行",search:"查询",searchbacklist:"搜寻退料单",searchpicklist:"搜寻领料单",senddep:"发料部门",sendpeople:"发料人员",sendpeoplenum:"发料人员工号",status:"功能状况",stockless:"库存小于实际领用数量，无法出库",submit:"提交",success:"成功",timepart:"时间段",total:"共",unit:"单位",usereason:"领用原因"},"zh-CN.templateWords":{News:"公告",PInfo:"人员讯息维护",PR:"汇出所有请购明细",UserInfo:"用户讯息(查询/修改)",addNewCat:"新增类别",addNews:"新增公告",all:"所有厂别",all_history_records:"所有纪录",apply:"确定",barcode_gen:"条码",barcode_generator:"条码产生器",basicInfo:"基础资料",bu:"BU耗材管理",callsys:"报警系统",cancel:"取消",cat:"类别",changePass:"修改密码",checkIvent:"盘点管理",chrome:"Chrome",clear_cache:"网站功能或显示异常时，请先依照以下文件清理浏览器快取",content:"内容",custom_range:"自订",dashboard:"功能表",dateOfNotice:"日期",dep:"部门网站",east:"华东EIP",edge:"Edge",editNews:"编辑公告",first_thing_first:"若画面显示缺漏，请先按下键盘 Shift + Ctrl + R",importMonthlyData:"汇入月请购资料",importNonMonthlyData:"汇入非月请购资料",important:"重要",inbound:"入库",isnBarcode:"料号条码查询",isnConsumeAdd:"料号单耗(新增)",isnConsumeUpdate:"料号单耗(查询与修改)",language:"语言/Language",level:"层级",locBarcode:"储位条码查询",logout_btn:"登出",middle:"华中EIP",monthly:"月请购",newPInfo:"新增人员讯息",newUser:"新增用户",nonmonthly:"非月请购",normal:"一般",nowuser:"现在登入的用户是 :",obound:"O库",on_the_way_search:"在途数量",outbound:"出库",past_three_months:"过去3个月内",project:"专案网站",site:"厂别",standAdd:"站位人力(新增)",standUpdate:"站位人力(查询与修改)",taipei:"台北企总EIP",title:"标题",today:"今日",urgent:"紧急",userManage:"用户管理",websiteName:"耗材管理系统",west:"华西EIP"},"zh-CN.validation":{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute must only contain letters.",alpha_dash:"The :attribute must only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute must only contain letters and numbers.",array:"The :attribute must be an array.",attributes:{password:"密码",username:"帐号"},before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{array:"The :attribute must have between :min and :max items.",file:"The :attribute must be between :min and :max kilobytes.",numeric:"The :attribute must be between :min and :max.",string:"The :attribute must be between :min and :max characters."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",custom:{"attribute-name":{"rule-name":"custom-message"}},date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",ends_with:"The :attribute must end with one of the following: :values.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{array:"The :attribute must have more than :value items.",file:"The :attribute must be greater than :value kilobytes.",numeric:"The :attribute must be greater than :value.",string:"The :attribute must be greater than :value characters."},gte:{array:"The :attribute must have :value items or more.",file:"The :attribute must be greater than or equal :value kilobytes.",numeric:"The :attribute must be greater than or equal :value.",string:"The :attribute must be greater than or equal :value characters."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{array:"The :attribute must have less than :value items.",file:"The :attribute must be less than :value kilobytes.",numeric:"The :attribute must be less than :value.",string:"The :attribute must be less than :value characters."},lte:{array:"The :attribute must not have more than :value items.",file:"The :attribute must be less than or equal :value kilobytes.",numeric:"The :attribute must be less than or equal :value.",string:"The :attribute must be less than or equal :value characters."},max:{array:"The :attribute must not have more than :max items.",file:"The :attribute must not be greater than :max kilobytes.",numeric:"The :attribute must not be greater than :max.",string:"The :attribute must not be greater than :max characters."},mimes:"档案格式错误，需为 :values 档",mimetypes:"档案格式错误，需为 xls 或 xlsx 档",min:{array:"The :attribute must have at least :min items.",file:"The :attribute must be at least :min kilobytes.",numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},multiple_of:"The :attribute must be a multiple of :value.",not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",password:"The password is incorrect.",present:"The :attribute field must be present.",prohibited:"The :attribute field is prohibited.",prohibited_if:"The :attribute field is prohibited when :other is :value.",prohibited_unless:"The :attribute field is prohibited unless :other is in :values.",regex:"格式不正确",required:"栏位未填写",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{array:"The :attribute must contain :size items.",file:"The :attribute must be :size kilobytes.",numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with one of the following: :values.",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID."},"zh-CN.welcomePageLang":{header:"耗材管理",login_btn:"登入",menu:"主目录"},"zh-TW.auth":{failed:"登入資料不符合",throttle:"嘗試登入太多次，請 :seconds 秒後再嘗試"},"zh-TW.barcodeGenerator":{Delete_Notice:"此處之刪除僅表示其條碼不會被列印",Temporary_Storage_Zone:"暫存區",barcode_gening:"條碼生成",batch_upload:"批量生產",enter_isn:"請輸入料號",enter_loc:"請輸入儲位",enter_pName:"請輸入品名",exampleExcel:"範例格式下載",gen:"生成",isn:"料號",isn_gen_barcode:"產生料號條碼",leaving_page_alert:"離開頁面將會清所有暫存資料，確認離開？",loc:"儲位",loc_gen_barcode:"產生儲位條碼",nothing_to_print:"沒有條碼",pName:"品名",page_name:"條碼",plz_upload:"請上傳Excel檔",print:"列印",print_amount:"列印數量",search:"查詢",search_isn:"料號查詢 ",search_loc:"儲位查詢 ",spec:"規格",temp_save_error:"錯誤 :",temp_save_success:"暫存成功",upload_save_success:"上傳成功"},"zh-TW.basicInfoLang":{add:"添加",addtodatabase:"新增至資料庫",basicInfo:"基礎信息",change:"更新",check:"勾選",client:"客戶別",consume:"單耗",data:"資料",delete:"刪除",differ_by_client:"因客戶而不同",download:"下載",enterformat:"請輸入規格",enterisn:"請輸入料號",enterlt:"請輸入LT",entermoney:"請選擇幣別",entermoq:"請輸入MOQ",entermpq:"請輸入MPQ",enterpName:"請輸入品名",enterprice:"請輸入單價",entersafe:"請輸入安全庫存",entersenddep:"請選擇發料部門",enterunit:"請輸入單位",enteryorn:"請選擇是/否",equiproom:"設備備品室",exampleExcel:"範例格式下載",factory:"廠別",format:"規格",go_to_page:"現在頁數 : ",gradea:"A級資材",ieroom:"IE備品室",inreason:"入庫原因",isn:"料號",isnlength:"料號長度不為12",isnrepeat:"料號重複",line:"線別",loc:"儲位",lt:"LT",machine:"機種",matsInfo:"料件信息",matsdata:"料件資料",matssearch:"料號查詢",meroom:"ME備品室",money:"幣別",month:"月請購",moq:"MOQ",mpq:"MPQ",new:"新增",newMats:"新增料件",newbasicInfo:"新增基礎信息",no:"否",nocheck:"請勾選欲提交項目",nodata:"無資料提交",now_showing:"現在顯示",obound:"O庫(借貸庫)",pName:"品名",page_name:"基礎資料",plz_upload:"請上傳Excel檔",price:"單價",process:"製程",quicksearch:"快速查詢",record:"筆",records_per_page:"每頁筆數 : ",repeat:"資料已存放在資料庫內，請檢查。",return:"返回",returnreason:"退回原因",room:"備品室",row:"在列",safe:"安全庫存",safeerror:"非月請購之安全庫存為必填項目",search_with_no_data_returned:"查無資料",searchisn:"直接搜尋全部，或輸入料號開頭搜尋",searchisn1:"輸入多筆料號查詢，使用換行隔開",senddep:"發料部門",stand:"站位",submit:"提交",success:"成功",total:"共",unit:"單位",upload:"批量上傳",upload1:"上傳",uploaderror:"不是基礎信息批量上傳的格式",usedep:"領用部門",usereason:"領用原因",yellowrepeat:"黃底標表示資料庫已存放在資料庫內",yes:"是"},"zh-TW.bupagelang":{amounterr:"撥出數量小於庫存/撥出數量<=0",amounterr1:"實際撥出數量>現有庫存",begindate:"起始日期",bu:"BU耗材管理",buyrecord:"近期請購紀錄",buytime:"近期請購時間",changeok:"已順利更新",check:"勾選",checkreceive:"確認是否接收",checktrans:"確認是否撥出",client:"客戶別",days:"呆滯天數",dbadd:"調撥單新增",dblist:"調撥單號",delete:"刪除",download:"下載",enddate:"結束日期",enteramount:"請輸入數量",enterclient:"請選擇客戶別",enterfactory:"請選擇廠區",enterisn:"請輸入料號",enterloc:"請選擇儲位",enteroutlist:"請選擇撥出單",enteroutpeople:"請選擇撥出人",enterpicklist:"請選擇接收單",enterreceivepeople:"請選擇接收人",factory:"廠區",factorychange:"廠區庫存調撥",format:"規格",inboundtime:"入庫時間",inventoryerr:"庫存有異動，請重新整理",isn:"料號",isnlength:"料號長度不為12",jobnum:"工號",loc:"儲位",name:"姓名",nocheck:"請勾選欲刪除/更新項目",nocheck1:"請勾選欲提交項目",noisn:"料號不存在,請先維護此料件信息",nooutpeople:"撥出人員之工號不存在，請先到用戶管理-新增人員信息維護",nopickpeople:"接收人員之工號不存在，請先到用戶管理-新增人員信息維護",notequal:"不等於",nowstock:"現有庫存",opentime:"開單時間",outboundtime:"出庫時間",outdetail:"撥出明細",outfactory:"撥出廠區",outlist:"調撥_撥出單",outpeople:"撥出人",outtime:"撥出時間",pName:"品名",page_name:"BU耗材管理",picklist:"調撥_接收單",preamount:"預計撥出數量",realamount:"實際撥出數量",realpickamount:"實際接收數量",receiveamount:"接收數量",receivedetail:"接收明細",receivefac:"接收廠區",receivepeople:"接收人",receivetime:"接收時間",remark:"備註",return:"返回",row:"在列",search:"查詢",searchdetail:"調撥明細查詢",searchlist:"調撥單查詢",searchoutlist:"搜尋撥出單",searchpicklist:"搜尋接收單",senddep:"發料部門",sluggish:"呆滯庫存",status:"狀態",stock:"庫存",submit:"提交",success:"成功",timepart:"時間段",tranamount:"調撥數量",transamount:"撥出數量",transpeople:"撥出人",unit:"單位"},"zh-TW.callpageLang":{callsys:"報警系統",change:"更新",client:"客戶別",dayalert:"呆滯天數警報",days:"呆滯天數",diffalert:"需求vs領用差異",entersenddep:"請選擇發料部門",format:"規格",ismonth:"月請購耗材",isn:"料號",loc:"儲位",mark:"備註",month:"月請購",nostock:"目前無任何庫存",notmonth:"非月請購耗材",nowstock:"現有庫存",pName:"品名",page_name:"報警系統",req_vs_real:"需求&領用差異量",req_vs_real_percent:"需求&領用差異",return:"返回",safe:"安全庫存",safealert:"安全庫存警報",saveremark:"保存備註",senddep:"發料部門",stock:"總庫存",success:"成功"},"zh-TW.checkInvLang":{all:"全部",approver_priority_notice:"權限1人員才能核准庫存變動",check:"盤點",check_not_right_amount:"盤盈虧",check_record:"盤點紀錄",checked:"已盤點",checking_result:"結果",client:"客戶",continue_check:"續盤",create_new_table:"建立新盤點表",create_table_fail:"建立失敗",create_table_success:"新盤點表建立成功 !",created_by:"建立者",created_time:"建立時間",edit:"修改",emptyList:"下載空白盤點表",exact:"盤正確",excess:"盤盈",existed_tables:"已有近期盤點表",has:"還有",has_exist_sheet_confirm:"已有近期盤點表，請確認是否仍須建立新盤點表？",input_isn_barcode:"輸入 料號條碼",input_loc_barcode:"輸入 儲位條碼",inventory:"盤點",isn:"料號",loc:"儲位",loc_short:"儲位",no_results_found:"查無資料 !",no_such_isn:"查無此料號",no_such_loc:"查無此儲位",no_table_found:"無近期盤點表",not_checked:"未盤點",page_name:"盤點管理",plz_create:"無近期盤點表，請建立新盤點表",product_name:"品名",search:"搜尋",search_by:"搜尋",sent_email_failed:"寄信失敗",serial_number:"單號",shortage:"盤虧",sort_by:"篩選",stock:"庫存",submit:"送出",this:"此",time_range:"時間",unchecked:"筆未盤",unknown:"N/A",update_failed:"更新失敗",update_success:"更新成功",updated_at:"盤點時間",updated_by:"盤點人",upload:"盤點結果上傳",value_not_changed:"盤點結果未改變，確定送出？"},"zh-TW.fileUploadErrors":{Content_errors:"檔案內容有錯誤",Exceeded_filesize_limit:"超過檔案大小限制",Failed_to_move_uploaded_file:"無法移動檔案至伺服器資料夾",Invalid_file_format:"請上傳.xlsx或.xls檔",Invalid_parameters:"參數錯誤",No_file_sent:"沒有檔案",Unknown_errors:"未知錯誤"},"zh-TW.httpErrors":{error_569_msg:"Login Failed",error_569_title:"Login Failed"},"zh-TW.inboundpageLang":{FlowNumber:"SSZ領料單號",LocationChangeRecord:"儲位調撥記錄",add:"添加",addclient:"添加(By 客戶別)",addtodatabase:"加入庫存",altered_by_other_recently:"已被他人修改，請重新查詢",amount:"數量",begindate:"起始日期",change:"更新",check:"勾選",choose:"選擇",click_the_flow_number:"點擊領料單號將料件歸類至儲位",client:"客戶別",coming:"即將從",days:"呆滯天數",delete:"刪除",download:"下載",enddate:"結束日期",enterSSZ:"SSZ領料單號",enteramount:"請輸入數量",enterclient:"請選擇客戶別",enterinpeople:"請選擇人員",enterinreason:"請選擇入庫原因",enterisn:"請輸入料號",enterisn_or_loc:"料號/儲位",enterisn_or_spec:"料號/規格",enterloc:"請選擇儲位",entersenddep:"請選擇發料部門",exampleExcel:"範例格式下載",format:"規格",gradea:"A級資材",inbound_loc:"入庫儲位",inbound_staff:"入庫人員",inboundnum:"入庫數量",inboundtime:"入庫時間",inlist:"入庫單號",inpeople:"操作人員",inputinreason:"請輸入入庫原因",inreason:"入庫原因",isn:"料號",isnlength:"料號長度不為12",lessstock:"有庫存小於入庫數量，無法刪除部分入庫單。",loc:"儲位",locationchange:"儲位調撥",mark:"備註",money:"幣別",month:"月請購",monthuse:"月使用量",new:"新增",newloc:"送至儲位",newloc_empty:"未選擇送至儲位",newloc_same:"送至儲位與原儲位相同",no_basic:"料號資料不存在",no_basic_are_highlighted:"紅字料號表示其料件訊息未維護",nocheck:"請勾選欲刪除/更新項目",noclient:"客戶不存在",nogood:"不良品",noinpeople:"人員之工號不存在，請先到用戶管理-人員信息維護",noisn:"料號不存在",noloc:"儲位不存在",notransit:"在途量為0，無法開領料單",nowstock:"現有庫存",nowstock_failed:"獲取現有庫存失敗",oldloc:"庫存儲位",operateTime:"操作時間",orig_loc:"原儲位",other:"其他",pName:"品名",page_name:"入庫",plz_upload:"請上傳Excel檔",price:"單價",qty_empty:"調撥數量不可為0",qty_exceed:"調撥數量不可大於現有庫存",record:"筆",repeated_isn_90_pair:"有重複的料號＋90料號",repeated_isn_loc_pair:"有重複的料號＋儲位",return:"返回",rfidinpeople:"請點這裡感應人員識別證",row:"在列",safe:"安全庫存",search:"查詢",searchstock:"庫存查詢",senddep:"發料部門",stock:"庫存",stock_within_brackets:"(括號)內為調撥前庫存量",stockmonth:"庫存使用月數",stockupload:"庫存上傳",submit:"提交",success:"成功",timepart:"時間段",to:"到",total:"共",transfer:"調撥",transferamount:"調撥數量",transit:"在途量",transiterror:"入庫數量不可大於在途量",unit:"單位",updatetime:"最後更新時間",upload:"批量上傳",upload1:"上傳",within_a_month:"一個月內",within_a_year:"一年內",within_three_months:"三個月內"},"zh-TW.loginPageLang":{addtodatabase:"新增至資料庫",adduser:"新增用戶",againlogin:"請重新登入",change:"更新",changeMail:"修改信箱",changePass:"修改密碼",change_site_permission_reset:"切換廠區將重置權限<br/>若有需要請聯絡該廠主管或系統管理員提升權限",check:"勾選",current_permission:"目前權限",data:"資料",database_list:"可登入資料庫",delete:"刪除",dep:"部門",email:"公司信箱",enter_email:"請輸入信箱帳號",enterdep:"請輸入部門",enteremail:"請輸入公司信箱",enterjobsearch:"請輸入工號",enterlogin:"請輸入登入帳號",entername:"請輸入姓名",enternewpass:"請輸入新密碼",enteroldpass:"請輸入舊密碼",enterpassword:"請再次輸入密碼",enterpriority:"請選擇權限",errorpassword:"舊密碼輸入錯誤",errorpassword2:"密碼並不相符",exampleExcel:"範例格式下載",functionality:"功能",home:"首頁",joblength:"工號長度不為9",jobnumber:"工號",jobrepeat:"工號重複",jobsearch:"工號查詢",latest_login_time:"最後登入",login_btn:"登入",loginsearch:"登入帳號查詢",mail:"信箱",name:"姓名",new:"新增",newSSO_msg:"此公司帳號從未登入過耗材管理系統<br/>請先填寫以下內容完成初始設定",new_email:"新信箱",newpass:"新密碼",no_email:"無",nocheck:"請勾選欲提交項目",old_email:"舊信箱",oldpass:"舊密碼",page_name:"用戶管理",password:"密碼",password_placeholder:"請輸入密碼",permission_details:"權限說明",permission_notice:"初始權限設為最低(4)<br/>若有需要請聯絡主管或系統管理員提升權限",pinf:"人員信息",plz_upload:"請上傳Excel檔",pre_page:"返回",priority:"權限",profile_pic:"頭像",record:"筆",return:"返回",row:"在列",search:"查詢",selectprofile_pic:"請選擇頭像",settings:"設定",signup:"註冊",site:"廠區",site_error:"請選擇廠區",site_placeholder:"請選擇廠區",submit:"提交",success:"成功",surepassword:"確認密碼",total:"共",upload:"上傳",upload1:"上傳",user:"用戶",username:"帳號",username_placeholder:"請輸入帳號",username_search:"搜尋帳號/姓名",usernamerepeat:"帳號重複，請重新輸入。",welcome:"歡迎",welcome_msg:"請登入帳戶以繼續使用功能",yellowrepeat:"黃底標表示資料庫已存放在資料庫內"},"zh-TW.monthlyPRpageLang":{"90isn":"90料號","90isnlength":"90料號長度不為12",PR:"匯出所有請購明細",SXB_search:"請購單紀錄",SendPRReview:"送簽全部",SendSelectedPRReview:"送簽選取項",UpdateUnitPrice:"上傳最新單價",add:"添加",addtodatabase:"新增至資料庫",allclient:"所有客戶",applydate:"申請日期",buyamount:"本次請購數量",buyamount1:"請購數量",buyper:"請購占比",buyprice:"總價",buytime:"請購時間",change:"更新",check:"勾選",clickmail:"點選此網址",client:"客戶別",confirm_pr:"確認 & 送出請購單",confirmemail:"確認信箱",confirmpeople:"確認人員",consume:"單耗",consumemail:"您好，請點擊此鏈接畫押單耗",control:"管控項次",data:"資料",delete:"刪除",description:"說明",download:"下載",duplicate_pr_warning1:"近20天內有相同料號的請購單，連續重複請購 系統在計算時 會扣除同樣的庫存",duplicate_pr_warning2:"請確認總請購量(您的請購量+本表格的請購量)是否正確",email:"畫押信箱",emailsender:"發信者",enter90isn:"請輸入90料號",enteramount:"請輸入數量",enterclient:"請選擇客戶別",entercontrol:"請選擇管控項次",enterdesc:"請輸入說明",enterisn:"料號",enterisn_90pn_or_descr:"料號/90料號/品名",enterisn_or_descr:"料號/品名",entermachine:"請選擇機種",entermoney:"請選擇幣別",enterprocess:"請選擇製程",entersenddep:"請選擇發料部門",entersrm:"SRM單號",entersxb:"請輸入工號",errormonth:"為月請購耗材，需選填管控項次以及填入說明。",exampleExcel:"範例格式下載",exchangerate_notfound:"匯率查詢錯誤",export:"匯出",export1:"匯出詢價格式",exportspan:"僅會匯出本次請購數量 > 0 資料",format:"規格",generatePR:"產生請購單",importMonthlyData:"匯入月請購資料",importNonMonthlyData:"匯入非月請購資料",info:"詳細資訊",isn:"料號",isnConsumeAdd:"料號單耗(新增)",isnConsumeUpdate:"料號單耗(查詢與修改)",isnlength:"料號長度不為12",loadconsume:"載入待重畫",loadsuccess:"載入成功",lt:"LT",machine:"機種",markconsume:"打勾表示此單耗工程師已確認，未勾選表示須重新開單",markstand:"打勾表示此站位工程師已確認，未勾選表示須重新開單",money:"幣別",month:"月請購",months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月",moq:"MOQ",mpq:"MPQ",needper:"需求占比",needprice:"需求金額",new:"新增",nextchange:"下月每日更換頻率",nextclass:"下月開班數",nextday:"下月生產天數",nextdayneed:"下月每日需求",nextline:"下月開線數",nextmps:"下月MPS",nextneed:"下月需求",nextpeople:"下月站位人數",nextuse:"下月每人每日需求量",no_req_amount_to_submit:"所有請購數量皆為0，無資料提交",nocheck:"請勾選欲提交項目",noclient:"客戶別不存在",nodata:"無資料提交",noemail:"確認人員",noisn:"料號不存在",noload:"無資料載入",nomachine:"機種不存在",nonmonthly_pr_already_sxb:"以下料號已經送出請購單簽核中：",nopeople:"確認人員工號",noproduction:"製程不存在",notmonth:"非月請購",nounitconsumption:"單耗不存在或未畫押",nowchange:"當月每日更換頻率",nowclass:"當月開班數",nowday:"當月生產天數",nowdayneed:"當月每日需求",nowline:"當月開線數",nowmps:"當月MPS",nowneed:"當月需求",nowpeople:"當月站位人數",nowrite:"尚未填寫",nowstock:"現有庫存",nowuse:"當月每人每日需求量",on_the_way_search:"在途數量",pName:"品名",page_name:"月請購",please_utilize:"請透過",plz_upload:"請上傳Excel檔",plz_write:"請填寫",pr_sender:"開單人",price:"單價",process:"製程",rate:"匯率",realneed:"實際需求",reason:"請填寫原因",record:"筆",remark:"備註",repeat:"資料已存放在資料庫內，請檢查。",repeated_isn:"有重複的料號",return:"返回",review_cancel:"退單",review_complete:"簽核完成",review_pending:"待簽核",row:"在列",safe:"安全庫存",search:"查詢",senddep:"發料部門",shallow_delete:"此處刪除僅代表不會送簽，完全刪除請至 匯入(非)月請購",some_data_has_no_amount:"部分請購數量為0，有請購數量的料號才會出現在請購單PDF中",srm:"SRM單號",srmspan:"僅會填寫至打勾的那一列",stand:"站位",standAdd:"站位人力(新增)",standUpdate:"站位人力(查詢與修改)",standmail:"您好，請點擊此鏈接畫押站位",status:"狀態",submit:"提交",submitspan:"僅會提交或匯出有填寫SRM單號以及本次請購數量>0那一列",success:"成功",surepeople:"確認人員工號",surepeopleemail:"確認人員信箱",sxbamount:"SXB數量",sxbamounterr:"SXB數量不得大於本次請購數量",timepart:"時間段",to_update_unit_price:"更新單價",total:"共",transit:"在途量",transit_reviser:"修改人",unit:"單位",upload:"上傳",upload1:"上傳",uploadtime:"上傳時間",writesrm:"填寫SRM單號",writetime:"填寫時間",yellowrepeat:"黃底標表示資料庫已存放在資料庫內"},"zh-TW.oboundpageLang":{add:"添加",addtodatabase:"新增至資料庫",amount:"數量",amountzero:"入庫數量不可小於等於零",back:"退料",backamount:"預退數量",backdiffreason:"實退差異原因",backlist:"退料單",backlistnum:"退料單號",backpeople:"退料人員",backpeoplenum:"退料人員工號",backreason:"退回原因",backrecord:"退料記錄表",begindate:"起始日期",bound:"庫別",client:"客戶別",data:"資料",delete:"刪除",deletebacklist:"刪除退料單",deletepicklist:"刪除領料單",diffreason:"實領差異原因",download:"下載",enddate:"結束日期",enteramount:"請輸入數量",enterbacklist:"請選擇退料單",enterbackpeople:"請選擇退料人員",enterbackreason:"請選擇退回原因",enterbound:"請選擇庫別",enterclient:"請選擇客戶別",enterdiffreason:"請輸入差異原因",enterformat:"請輸入規格",enterinpeople:"請選擇人員",enterinreason:"請選擇入庫原因",enterisn:"請輸入料號",enterline:"請選擇線別",entermachine:"請選擇機種",enterpName:"請輸入品名",enterpicklist:"請選擇領料單",enterpickpeople:"請選擇領料人員",enterprocess:"請選擇製程",enterreceivepeople:"請選擇收料人員",entersendpeople:"請選擇發料人員",enterstatus:"請選擇功能狀況",enterusereason:"請選擇領用原因",exampleExcel:"範例格式下載",format:"規格",good:"良品",inbound:"入庫",inboundnum:"入庫數量",inboundsearch:"入庫查詢",inboundtime:"入庫時間",inlist:"入庫單號",inpeople:"人員",inputbackpeople:"請輸入退料人員工號",inputbackreason:"請輸入退回原因",inputinreason:"請輸入入庫原因",inputpickpeople:"請輸入領料人員工號",inputreceivepeople:"請輸入收料人員工號",inputsendpeople:"請輸入發料人員工號",inputusereason:"請輸入領用原因",inreason:"入庫原因",isn:"料號",isnlength:"料號長度不為12",isnrepeat:"料號重複",lessstock1:"目前庫存小於入庫數量，無法刪除此筆入庫。",line:"線別",machine:"機種",mark:"備註",matsInfo:"料件信息(查詢)",matsdata:"料件資料",new:"新增",newMats:"新增料件",nobackpeople:"退料人員之工號不存在，請先到用戶管理-人員信息維護",nobound:"庫別不存在",nocheck:"請勾選欲刪除/更新項目",noclient:"客戶不存在",nogood:"不良品",noinpeople:"人員之工號不存在，請先到用戶管理-人員信息維護",noisn:"料號不存在",nopickpeople:"領料人員之工號不存在，請先到用戶管理-人員信息維護",noreceivepeople:"收料人員之工號不存在，請先到用戶管理-人員信息維護",nosendpeople:"發料人員之工號不存在，請先到用戶管理-人員信息維護",nostock:"該客戶&料號沒有庫存，無法開領料單。",nowbound:"目前庫別",nowstock:"現有庫存",oisn:"O庫料號",opentime:"開單時間",other:"其他",outbackok:"出庫完成，退料單號",outboundtime:"出庫時間",outpickok:"出庫完成，領料單號",pName:"品名",page_name:"O庫",pick:"領料",pickamount:"預領數量",picklist:"領料單",picklistnum:"領料單號",pickpeople:"領料人員",pickpeoplenum:"領料人員工號",pickrecord:"領料記錄表",plz_upload:"請上傳Excel檔",process:"製程",realbackamount:"實際退回數量",realpickamount:"實際領用數量",receivepeople:"收料人員",receivepeoplenum:"收料人員工號",record:"筆",return:"返回",rfidinpeople:"請點這裡感應識別證",row:"在列",search:"查詢",searchbacklist:"搜尋退料單",searchpicklist:"搜尋領料單",searchstock:"庫存查詢",senddep:"發料部門",sendpeople:"發料人員",sendpeoplenum:"發料人員工號",status:"功能狀況",stockless:"庫存小於實際領用數量，無法出庫。",stockupload:"庫存上傳",submit:"提交",success:"成功",timepart:"時間段",total:"共",unit:"單位",updatetime:"最後更新時間",upload:"批量上傳",upload1:"上傳",usereason:"領用原因",yellowrepeat:"黃底標表示資料庫已存放在資料庫內"},"zh-TW.outboundpageLang":{add:"添加",back:"退料",backamount:"預退數量",backdiffreason:"實退差異原因",backlist:"退料單",backlistnum:"退料單號",backpeople:"退料人員",backpeoplenum:"退料人員工號",backreason:"退回原因",backrecord:"退料記錄表",begindate:"起始日期",client:"客戶別",delete:"刪除",deletebacklist:"刪除退料單",deletepicklist:"刪除領料單",diffreason:"實領差異原因",download:"下載",download_example:"下載領料單範例",enddate:"結束日期",enteramount:"請輸入數量",enterbacklist:"請選擇退料單",enterbackpeople:"請選擇退料人員",enterbackreason:"請選擇退回原因",enterclient:"請選擇客戶別",enterdiffreason:"請輸入差異原因",enterisn:"請輸入料號",enterline:"請選擇線別",enterloc:"請選擇儲位",entermachine:"請選擇機種",enterpicklist:"請選擇領料單",enterpickpeople:"請選擇領料人員",enterprocess:"請選擇製程",enterreceivepeople:"請選擇收料人員",entersenddep:"請選擇發料部門",entersendpeople:"請選擇發料人員",enterstatus:"請選擇功能狀況",enterusereason:"請選擇領用原因",format:"規格",good:"良品",inboundtime:"入庫時間",inputbackpeople:"請輸入退料人員工號",inputbackreason:"請輸入退回原因",inputpickpeople:"請輸入領料人員工號",inputreceivepeople:"請輸入收料人員工號",inputsendpeople:"請輸入發料人員工號",inputusereason:"請輸入領用原因",isn:"料號",isnlength:"料號長度不為12",line:"線別",loc:"儲位",machine:"機種",mark:"備註",no_line:"線別不存在",no_reason:"領用原因不存在",nobackpeople:"退料人員之工號不存在，請先到用戶管理-人員信息維護",nogood:"不良品",noisn:"料號不存在",nopickpeople:"領料人員之工號不存在，請先到用戶管理-人員信息維護",noreceivepeople:"收料人員之工號不存在，請先到用戶管理-人員信息維護",nosendpeople:"發料人員之工號不存在，請先到用戶管理-人員信息維護",nostock:"該料號沒有庫存，無法開領料單。",nostock1:"該料號&儲位沒有庫存，無法出庫。",nowloc:"目前儲位",nowstock:"現有庫存",opentime:"開單時間",other:"其他",outbackok:"出庫完成，退料單號",outboundtime:"出庫時間",outpickok:"出庫完成，領料單號",pName:"品名",page_name:"出庫",pick:"領料",pickamount:"預領數量",picklist:"領料單",picklistnum:"領料單號",pickpeople:"領料人員",pickpeoplenum:"領料人員工號",pickrecord:"領料記錄表",process:"製程",realbackamount:"實際退回數量",realpickamount:"實際領用數量",realpickzero:"實際領用數量為0",receivepeople:"收料人員",receivepeoplenum:"收料人員工號",record:"筆",repeated_isn_will_not_display:"Excel中重複的料號+線別+領用原因不會顯示",return:"返回",rfidinputbackpeople:"請點這裡感應退料人員識別證",rfidinputpickpeople:"請點這裡感應領料人員識別證",rfidinputreceivepeople:"請點這裡感應收料人員識別證",rfidinputsendpeople:"請點這裡感應發料人員識別證",row:"在列",search:"查詢",searchbacklist:"搜尋退料單",searchpicklist:"搜尋領料單",senddep:"發料部門",sendpeople:"發料人員",sendpeoplenum:"發料人員工號",status:"功能狀況",stockless:"庫存小於實際領用數量，無法出庫",submit:"提交",success:"成功",timepart:"時間段",total:"共",unit:"單位",usereason:"領用原因"},"zh-TW.templateWords":{News:"公告",PInfo:"人員信息維護",PR:"匯出所有請購明細",UserInfo:"用戶訊息(查詢/修改)",addNewCat:"新增類別",addNews:"新增公告",all:"所有廠別",all_history_records:"所有紀錄",apply:"確定",barcode_gen:"條碼",barcode_generator:"條碼產生器",basicInfo:"基礎資料",bu:"BU耗材管理",callsys:"報警系統",cancel:"取消",cat:"類別",changePass:"修改密碼",checkIvent:"盤點管理",checkIvent_create_new_table:"Create New Sheet",chrome:"Chrome",clear_cache:"網站功能或顯示異常時，請先依照以下文件清理瀏覽器快取",content:"內容",custom_range:"自訂",dashboard:"功能表",dateOfNotice:"日期",dep:"部門網站",east:"華東EIP",edge:"Edge",editNews:"編輯公告",first_thing_first:"若畫面顯示缺漏，請先按下鍵盤 Shift + Ctrl + R",importMonthlyData:"匯入月請購資料",importNonMonthlyData:"匯入非月請購資料",important:"重要",inbound:"入庫",isnBarcode:"料號條碼查詢",isnConsumeAdd:"料號單耗(新增)",isnConsumeUpdate:"料號單耗(查詢與修改)",language:"語言/Language",level:"層級",locBarcode:"儲位條碼查詢",logout_btn:"登出",middle:"華中EIP",monthly:"月請購",newUser:"新增用戶",nonmonthly:"非月請購",normal:"一般",nowuser:"現在登入的用戶是 :",obound:"O庫",on_the_way_search:"在途數量",outbound:"出庫",past_three_months:"過去3個月內",project:"專案網站",site:"廠別",standAdd:"站位人力(新增)",standUpdate:"站位人力(查詢與修改)",taipei:"台北企總EIP",title:"標題",today:"今日",urgent:"緊急",userManage:"用戶管理",websiteName:"耗材管理系統",west:"華西EIP"},"zh-TW.validation":{accepted:"The :attribute must be accepted.",active_url:"The :attribute is not a valid URL.",after:"The :attribute must be a date after :date.",after_or_equal:"The :attribute must be a date after or equal to :date.",alpha:"The :attribute must only contain letters.",alpha_dash:"The :attribute must only contain letters, numbers, dashes and underscores.",alpha_num:"The :attribute must only contain letters and numbers.",array:"The :attribute must be an array.",attributes:{password:"密碼",username:"帳號"},before:"The :attribute must be a date before :date.",before_or_equal:"The :attribute must be a date before or equal to :date.",between:{array:"The :attribute must have between :min and :max items.",file:"The :attribute must be between :min and :max kilobytes.",numeric:"The :attribute must be between :min and :max.",string:"The :attribute must be between :min and :max characters."},boolean:"The :attribute field must be true or false.",confirmed:"The :attribute confirmation does not match.",custom:{"attribute-name":{"rule-name":"custom-message"}},date:"The :attribute is not a valid date.",date_equals:"The :attribute must be a date equal to :date.",date_format:"The :attribute does not match the format :format.",different:"The :attribute and :other must be different.",digits:"The :attribute must be :digits digits.",digits_between:"The :attribute must be between :min and :max digits.",dimensions:"The :attribute has invalid image dimensions.",distinct:"The :attribute field has a duplicate value.",email:"The :attribute must be a valid email address.",ends_with:"The :attribute must end with one of the following: :values.",exists:"The selected :attribute is invalid.",file:"The :attribute must be a file.",filled:"The :attribute field must have a value.",gt:{array:"The :attribute must have more than :value items.",file:"The :attribute must be greater than :value kilobytes.",numeric:"The :attribute must be greater than :value.",string:"The :attribute must be greater than :value characters."},gte:{array:"The :attribute must have :value items or more.",file:"The :attribute must be greater than or equal :value kilobytes.",numeric:"The :attribute must be greater than or equal :value.",string:"The :attribute must be greater than or equal :value characters."},image:"The :attribute must be an image.",in:"The selected :attribute is invalid.",in_array:"The :attribute field does not exist in :other.",integer:"The :attribute must be an integer.",ip:"The :attribute must be a valid IP address.",ipv4:"The :attribute must be a valid IPv4 address.",ipv6:"The :attribute must be a valid IPv6 address.",json:"The :attribute must be a valid JSON string.",lt:{array:"The :attribute must have less than :value items.",file:"The :attribute must be less than :value kilobytes.",numeric:"The :attribute must be less than :value.",string:"The :attribute must be less than :value characters."},lte:{array:"The :attribute must not have more than :value items.",file:"The :attribute must be less than or equal :value kilobytes.",numeric:"The :attribute must be less than or equal :value.",string:"The :attribute must be less than or equal :value characters."},max:{array:"The :attribute must not have more than :max items.",file:"The :attribute must not be greater than :max kilobytes.",numeric:"The :attribute must not be greater than :max.",string:"The :attribute must not be greater than :max characters."},mimes:"檔案格式錯誤，需為 :values 檔",mimetypes:"檔案格式錯誤，需為 xls 或 xlsx 檔",min:{array:"The :attribute must have at least :min items.",file:"The :attribute must be at least :min kilobytes.",numeric:"The :attribute must be at least :min.",string:"The :attribute must be at least :min characters."},multiple_of:"The :attribute must be a multiple of :value.",not_in:"The selected :attribute is invalid.",not_regex:"The :attribute format is invalid.",numeric:"The :attribute must be a number.",password:"The password is incorrect.",present:"The :attribute field must be present.",prohibited:"The :attribute field is prohibited.",prohibited_if:"The :attribute field is prohibited when :other is :value.",prohibited_unless:"The :attribute field is prohibited unless :other is in :values.",regex:"格式不正確",required:"欄位未填寫",required_if:"The :attribute field is required when :other is :value.",required_unless:"The :attribute field is required unless :other is in :values.",required_with:"The :attribute field is required when :values is present.",required_with_all:"The :attribute field is required when :values are present.",required_without:"The :attribute field is required when :values is not present.",required_without_all:"The :attribute field is required when none of :values are present.",same:"The :attribute and :other must match.",size:{array:"The :attribute must contain :size items.",file:"The :attribute must be :size kilobytes.",numeric:"The :attribute must be :size.",string:"The :attribute must be :size characters."},starts_with:"The :attribute must start with one of the following: :values.",string:"The :attribute must be a string.",timezone:"The :attribute must be a valid zone.",unique:"The :attribute has already been taken.",uploaded:"The :attribute failed to upload.",url:"The :attribute format is invalid.",uuid:"The :attribute must be a valid UUID."},"zh-TW.welcomePageLang":{header:"耗材管理",login_btn:"登入",menu:"主目錄"}}},2939:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"input[data-v-6c7e1e83]::-webkit-inner-spin-button,input[data-v-6c7e1e83]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}input[type=number][data-v-6c7e1e83]{-moz-appearance:textfield}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/ChartJSLine.vue"],names:[],mappings:"AAwKA,oGAEI,uBAAwB,CACxB,QACJ,CAGA,oCACI,yBACJ",sourcesContent:['<template>\n    <div class="card-header row align-items-center">\n        <div class="col col-2">\n            <input id="yearInput" class="text-center m-0 p-0 form-control form-control-lg" type="number" min="1996"\n                v-model="yearTag" />\n        </div>\n        <h3 class="col col-auto align-middle m-0 p-0">\n            {{ $t("callpageLang.diffalert") }}\n        </h3>\n    </div>\n    <div class="card-body">\n        <Line ref="chartRef" :data="chartData" :options="options" @click="onClick" />\n    </div>\n</template>\n\n<script>\nimport { yearTag, monthTag, checkedRows, data, table, datasetBuyUSD, datasetRealUSD } from \'../../composables/DiffTableStore.js\';\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport {\n    Chart as ChartJS,\n    Title,\n    Tooltip,\n    Legend,\n    BarElement,\n    CategoryScale,\n    LinearScale,\n    InteractionItem,\n    LineElement,\n    PointElement,\n    Filler\n} from \'chart.js\';\nimport {\n    Chart,\n    Line,\n    getDatasetAtEvent,\n    getElementAtEvent,\n    getElementsAtEvent\n} from \'vue-chartjs\';\n\nChartJS.register(CategoryScale, LinearScale, BarElement, LineElement, PointElement, Filler, Title, Tooltip, Legend);\n\nexport default {\n    name: \'App\',\n    components: { Line },\n    setup() {\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const datasetAtEvent = (dataset) => {\n            if (!dataset.length) return\n\n            const datasetIndex = dataset[0].datasetIndex\n\n            console.log(\'dataset\', chartData.value.datasets[datasetIndex].label)\n        } // datasetAtEvent\n\n        const elementAtEvent = (element) => {\n            if (!element.length) return\n\n            const { datasetIndex, index } = element[0]\n\n            // console.log(\n            //     \'element\',\n            //     datasetIndex,\n            //     index,\n            //     chartData.value.labels[index],\n            //     chartData.value.datasets[datasetIndex].data[index]\n            // );\n\n            monthTag.value = index;\n        } // elementAtEvent\n\n        const elementsAtEvent = (elements) => {\n            if (!elements.length) return\n\n            console.log(\'elements\', elements)\n        } // elementsAtEvent\n\n        const chartRef = ref(null);\n\n        const onClick = (event) => {\n            const {\n                value: { chart }\n            } = chartRef\n\n            if (!chart) {\n                return\n            } // if\n\n            // datasetAtEvent(getDatasetAtEvent(chart, event));\n            elementAtEvent(getElementAtEvent(chart, event));\n            // elementsAtEvent(getElementsAtEvent(chart, event));\n        } // onClick\n\n        const date = new Date();\n        const currentMonth = date.getMonth();\n        const currentYear = date.getFullYear();\n        const monthList = ref(app.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split(\'_\'));\n        monthList.value.splice(currentMonth + 1, 12);\n        watch(yearTag, async () => {\n            if (parseInt(yearTag.value) == currentYear) {\n                let tempRef = app.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split(\'_\');\n                tempRef.splice(currentMonth + 1, 12);\n                monthList.value = tempRef;\n            } else {\n                monthList.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split(\'_\');\n            } // if else\n        }); // watch for data change\n\n        const chartData = computed(() => ({\n            labels: monthList.value,\n            datasets: [\n                {\n                    label: app.appContext.config.globalProperties.$t("outboundpageLang.realpickamount") + "(USD)",\n                    borderColor: \'rgb(9, 116, 230)\',\n                    backgroundColor: \'rgba(9, 116, 230, 0.5)\',\n                    pointStyle: \'rect\',\n                    data: datasetRealUSD.value,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1") + "(USD)",\n                    borderColor: \'rgb(245, 44, 44)\',\n                    backgroundColor: \'rgba(245, 44, 44, 0.5)\',\n                    pointStyle: \'rect\',\n                    fill: \'-1\',\n                    data: datasetBuyUSD.value,\n                },\n                // {\n                //     type: \'bar\',\n                //     label: \'Bar\',\n                //     backgroundColor: \'#ff9991\',\n                //     data: [10, 20, 30, 40, 90, 100, 50, 1, 40, 90, 100, 5]\n                // },\n            ],\n        }));\n        const options = {\n            interaction: {\n                mode: \'index\',\n                intersect: false,\n            },\n            responsive: true,\n            maintainAspectRatio: false,\n            // radius: 10,\n            hoverRadius: 10,\n        };\n\n        return {\n            chartRef,\n            onClick,\n            chartData,\n            options,\n            yearTag\n        }\n    }\n}\n<\/script>\n<style scoped>\n/* Chrome, Safari, Edge, Opera */\ninput::-webkit-outer-spin-button,\ninput::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n}\n\n/* Firefox */\ninput[type=number] {\n    -moz-appearance: textfield;\n}\n</style>'],sourceRoot:""}]);const l=i},3868:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-67febda6] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/CheckingInventoryRecord.vue"],names:[],mappings:"AAkpBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3 class="m-0 p-0">{{ $t(\'checkInvLang.check_record\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="serialInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="serialInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.entersxb\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="row col col-auto text-center align-items-center justify-content-between">\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1"\n                            value="month" v-model="picked" checked>\n                        <label class="form-check-label" for="inlineRadio1">{{ $t(\'inboundpageLang.within_a_month\')\n                            }}</label>\n                    </div>\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2"\n                            value="quarter" v-model="picked">\n                        <label class="form-check-label" for="inlineRadio2">{{ $t(\'inboundpageLang.within_three_months\')\n                            }}</label>\n                    </div>\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3"\n                            value="year" v-model="picked">\n                        <label class="form-check-label" for="inlineRadio3">{{ $t(\'inboundpageLang.within_a_year\')\n                            }}</label>\n                    </div>\n                </div>\n            </div>\n            <div class="w-100" style="height: 0ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-between">\n                <span class="col col-auto text-danger fw-bold">\n                </span>\n                <span class="col col-auto text-danger fw-bold">\n                    {{ $t(\'checkInvLang.approver_priority_notice\') }}\n                </span>\n            </div>\n            <table-lite :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false" :messages="table.messages"\n                :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n                :page-options="table.pageOptions" :sortable="table.sortable" :is-fixed-first-column="false"\n                :is-loading="table.isLoading" @is-finished="table.isLoading = false">\n                <template v-slot:單號="{ row, key }">\n                    <div class="col col-auto align-items-center m-0 p-0">\n                        <button @click="openDetails(row.單號)" type="button" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" class="btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0"\n                            style="border-radius: 20px;" :id="\'sxb\' + row.id" :name="\'sxb\' + key">More</button>\n                    </div>\n                </template>\n                <template v-slot:狀態="{ row, key }">\n                    <div class="col col-auto align-items-center m-0 p-0">\n                        <a v-if="row.狀態 === \'未簽核\'" @click="openDetails(row.單號)" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" class="m-0 p-0" style="color: #dca120;">\n                            {{ $t("monthlyPRpageLang.review_pending") }}\n                        </a>\n                        \x3c!-- <a v-else-if="row.狀態 === \'已退單\'" @click="openDetails(row.單號)" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" class="m-0 p-0" style="color: #808080;">\n                            {{ $t("monthlyPRpageLang.review_cancel") }}\n                        </a> --\x3e\n                        <a v-else class="m-0 p-0" @click="openDetails(row.單號)" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" style="color: #2bb91b;">\n                            {{ $t("monthlyPRpageLang.review_complete") }}\n                        </a>\n                    </div>\n                </template>\n            </table-lite>\n\n            \x3c!-- Modal --\x3e\n            <div class="modal fade" id="detailTable" tabindex="-1" aria-labelledby="detailTable" aria-hidden="false">\n                <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">\n                    <div class="modal-content">\n                        <div class="modal-header justify-content-center">\n                            <h1 class="col col-auto modal-title m-0 p-0 fs-4">\n                                {{ modalTitle }}\n                            </h1>\n                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                        </div>\n                        <div class="modal-body">\n                            <div class="row justify-content-between">\n                                <div class="row col col-auto">\n                                    <div class="col col-auto">\n                                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch")\n                                            }}\n                                            :</label>\n                                    </div>\n                                    <div class="col col-auto p-0 m-0">\n                                        <input id="pnInput" class="text-center form-control form-control-lg"\n                                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')"\n                                            v-model="searchTerm2" />\n                                    </div>\n                                </div>\n                                <div class="col col-auto">\n                                    <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                                        :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(modalTitle)">\n                                        <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                                    </button>\n                                </div>\n                            </div>\n                            <div class="w-100" style="height: 1ch"></div>\n                            \x3c!-- </div>breaks cols to a new line--\x3e\n                            <table-lite :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false"\n                                :messages="table2.messages" :columns="table2.columns" :rows="table2.rows"\n                                :total="table2.totalRecordCount" :page-options="table2.pageOptions"\n                                :sortable="table2.sortable" :is-fixed-first-column="false"\n                                :is-loading="table2.isLoading" @is-finished="table2.isLoading = false">\n                            </table-lite>\n                        </div>\n                        <div v-if="showFooter" class="modal-footer justify-content-between">\n                            <button @click="checking_reject" type="button" class="btn btn-lg btn-danger"\n                                style="border-radius: 5px;">\n                                {{ $t(\'monthlyPRpageLang.review_cancel\') }}\n                            </button>\n                            <button @click="checking_approve" type="button" class="btn btn-lg btn-success"\n                                style="border-radius: 5px;">\n                                {{ $t(\'monthlyPRpageLang.review_complete\') }}\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useCheckingInventory from "../../composables/CheckingInventory.ts";\nimport useUserSearch from "../../composables/UserSearch.ts";\n\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { checking_records, get_checking_records, checking_Reject, checking_Approve } = useCheckingInventory(); // axios get the mats data\n        const { current_user, getCurrentUser } = useUserSearch();\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            table2.isLoading = true;\n            await getCurrentUser();\n            await get_checking_records(JSON.stringify(picked.value));\n        });\n\n        const searchTerm = ref(""); // Search text\n        const searchTerm2 = ref(""); // Search text for modal table\n        const modalTitle = ref("");\n        let showFooter = ref(false);\n        let AllRecords = [];\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        const data2 = reactive([]);\n        const picked = ref("month");\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const openDetails = (serial_number) => {\n            // console.log("clicked!"); // test\n            table2.isLoading = true;\n            modalTitle.value = serial_number;\n            data2.splice(0);\n            for (let i = 0; i < AllRecords.length; i++) {\n                if (AllRecords[i].單號 === serial_number) {\n                    data2.push(AllRecords[i]);\n                } // if\n            } // for\n\n            if (data2[0].狀態 === \'未簽核\' && parseInt(current_user.value.priority) <= 1) {\n                showFooter.value = true;\n            } // if\n            else {\n                showFooter.value = false;\n            } // else\n            table2.isLoading = false;\n        } // openDetails\n\n        const OutputExcelClick = async (output_range) => {\n            await triggerModal();\n            let temp = AllRecords.filter(function (record) {\n                return record.單號 == output_range;\n            });\n\n            let rows = temp.map(({\n                A級資材, LT, MOQ, MPQ, approved_at, approved_by, email, id, updated_by, 主管工號, 單價, 單號, 姓名, 安全庫存, 工號, 幣別, 月請購, 狀態, 發料部門, 部門,\n                ...keepAttrs }) => keepAttrs);\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("checkInvLang.check"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.isn"), key: \'料號\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.stock"), key: \'現有庫存\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.loc"), key: \'儲位\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.opentime"), key: \'開單時間\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.pName"), key: \'品名\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.format"), key: \'規格\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.unit"), key: \'單位\' },\n            ];\n\n            rows.forEach(row => {\n                worksheet.addRow(row);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: \'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\' });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("checkInvLang.check") + "_" + output_range + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        };\n\n        const checking_reject = async () => {\n            await triggerModal();\n            console.log(data2[0].單號); // test\n            let result = await checking_Reject(data2[0].單號);\n            if (result === "success") {\n                showFooter.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                await get_checking_records(JSON.stringify(picked.value));\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // checking_reject\n\n        const checking_approve = async () => {\n            await triggerModal();\n\n            let isn = [];\n            let loc = [];\n            let stock = [];\n            for (let i = 0; i < data2.length; i++) {\n                isn.push(data2[i].料號);\n                loc.push(data2[i].儲位);\n                stock.push(data2[i].現有庫存);\n            } // for\n\n            let result = await checking_Approve(data2[0].單號, isn, loc, stock);\n            if (result === "success") {\n                showFooter.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                await get_checking_records(JSON.stringify(picked.value));\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // checking_approve\n\n        watch(picked, async () => {\n            await triggerModal();\n            table.isLoading = true;\n            await get_checking_records(JSON.stringify(picked.value));\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(checking_records, async () => {\n            await triggerModal();\n            // console.log(JSON.parse(checking_records.value)); // test\n            // console.log(current_user.value.priority); // test\n            let allRowsObj = JSON.parse(checking_records.value);\n            data.splice(0);\n            AllRecords = [];\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                allRowsObj.data[i].id = i;\n                if (allRowsObj.data[i].approved_by === null || allRowsObj.data[i].approved_by === undefined) {\n                    allRowsObj.data[i].狀態 = "未簽核";\n                } // if\n                else {\n                    allRowsObj.data[i].狀態 = "已簽核";\n                } // else\n\n                let indexOfObject = data.findIndex(object => {\n                    return (object.單號 === allRowsObj.data[i].單號);\n                });\n                if (indexOfObject === -1) {\n                    data.push(allRowsObj.data[i]);\n                } // if\n\n                AllRecords.push(allRowsObj.data[i]);\n            } // for\n\n            // console.log(allRowsObj.data); // test\n            // console.log(AllRecords); // test\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "checkInvLang.updated_at"\n                    ),\n                    field: "開單時間",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        let returnStr = "";\n                        // console.log(row); // test\n                        returnStr =\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.created_at +\n                            "</div>";\n\n                        return returnStr;\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.status"\n                    ),\n                    field: "狀態",\n                    width: "6ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.info"\n                    ),\n                    field: "單號",\n                    width: "4ch",\n                    sortable: false,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "checkInvLang.updated_by"\n                    ),\n                    field: "盤點人",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.updated_by === null || row.updated_by === undefined) row.updated_by = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.updated_by +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.updated_by\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase())\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "請購時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const table2 = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        // console.log(row);\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.stock"\n                    ),\n                    field: "庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.現有庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data2.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm2.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm2.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table2.rows.length;\n            }),\n            sortable: {\n                order: "儲位",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            // checkedRows = rowsKey;\n        };\n\n        return {\n            searchTerm,\n            searchTerm2,\n            picked,\n            table,\n            table2,\n            modalTitle,\n            showFooter,\n            openDetails,\n            OutputExcelClick,\n            checking_approve,\n            checking_reject,\n        };\n    }, // setup\n});\n<\/script>\n\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},6573:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-52f62922] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/CheckingInventoryUploadTable.vue"],names:[],mappings:"AAyvBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'checkInvLang.upload\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto">\n                    <a @click="OutputExcelClick" href="#">\n                        {{ $t(\'checkInvLang.emptyList\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'monthlyPRpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <button id="togglebtn" class="btn btn-primary col col-auto" type="button" data-bs-toggle="collapse"\n        data-bs-target="#importedtable" aria-expanded="false" aria-controls="importedtable" style="display: none;">\n    </button>\n\n    <div class="card collapse" id="importedtable">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput1" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}:\n                        </label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="pnInput1" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'inboundpageLang.enterisn_or_loc\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        :value="$t(\'basicInfoLang.delete\')" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong style="white-space: pre-wrap;">{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="true"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows"></table-lite>\n\n            <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" type="submit" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useCheckingInventory from "../../composables/CheckingInventory.ts";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        // let exampleUrl = ref(window.location.origin + \'/download/CheckingExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, getExistingStock } = useInboundStockSearch(); // axios get the mats data\n        const { queryResult, manualResult, locations, validateISN, validateISN_manual, getLocs } = useCommonlyUsedFunctions();\n        const { upload_checkig_result } = useCheckingInventory();\n\n        onBeforeMount(async () => {\n            table.isLoading = false;\n            await getLocs();\n        });\n\n        let isInvalid = ref(false); // file input validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        const file = ref();\n        let input_data;\n        let checkedRows = [];\n        const searchTerm = ref(""); // Search text\n        const selected_mail = ref(""); // Mail reciever name\n        const data = reactive([]); // pour the data into table\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n            await getExistingStock(new Array(0), new Array(0));\n            let allData = JSON.parse(mats.value).data;\n            // console.log(JSON.parse(mats.value).data); // test\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = Array();\n            for (let i = 0; i < allData.length; i++) {\n                if (allData[i].料號 === "" || allData[i].料號 === null || allData[i].料號.toLowerCase() === "null") {\n                    continue;\n                } // if\n                let tempObj = new Object;\n                tempObj.料號 = allData[i].料號;\n                tempObj.品名 = allData[i].品名;\n                tempObj.規格 = allData[i].規格;\n                tempObj.現有庫存 = allData[i].現有庫存;\n                tempObj.盤點庫存 = "";\n                tempObj.單位 = allData[i].單位;\n                tempObj.儲位 = allData[i].儲位;\n                rows.push(tempObj);\n            } // for\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("checkInvLang.check"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.isn"), key: \'料號\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.pName"), key: \'品名\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.format"), key: \'規格\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.nowstock"), key: \'現有庫存\' },\n                { header: app.appContext.config.globalProperties.$t("checkInvLang.checking_result"), key: \'盤點庫存\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.unit"), key: \'單位\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.loc"), key: \'儲位\' }\n            ];\n\n            worksheet.addRows(rows);\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: \'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\' });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("checkInvLang.check") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\' });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined ||\n                            input_data[0][0] === undefined || input_data[0][1] === undefined ||\n                            input_data[0][2] === undefined || input_data[0][3] === undefined ||\n                            input_data[0][4] === undefined || input_data[0][5] === undefined ||\n                            input_data[0][6] === undefined ) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][0] != undefined && input_data[i].length > 2 && input_data[i][0].trim() != "" && input_data[i][0].trim() != null) {\n                                    tempArr.push(input_data[i][0].trim());\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n                            } // for\n\n                            // console.log(tempArr); // test\n                            await triggerModal();\n                            await validateISN(tempArr);\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            data.splice(0); // cleanup data from previous upload\n            queryResult.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n            if ($("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n        } // onInputChange\n\n        function CheckCurrentRow(e) {\n            // console.log(e.target.closest(\'tr\').firstChild.firstChild); // test\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const deleteRow = () => {\n            // console.log(checkedRows); // test\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.id) === parseInt(checkedRows[i].id);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n\n            checkedRows = [];\n        } // deleteRow\n\n        const onSendToDBClick = async () => {\n            // console.log(selected_mail.value); // test\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the isn exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (!data[j].valid_isn) {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    data[rowsCount].料號 + " " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if there\'s duplicate values in table\n            let duplicatedArray = Array();\n            for (let i = 0; i < data.length; i++) {\n                if (data[i].料號 != null && data[i].料號.trim() != "") {\n                    duplicatedArray.push(data[i].料號.toString().trim() + "_" + data[i].儲位.toString());\n                } // if\n            } // for\n\n            let findDuplicatesResult = findDuplicates(duplicatedArray);\n            // console.log(findDuplicatesResult); // test\n            if (findDuplicatesResult.length > 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_loc_pair") +\n                    " : " + findDuplicatesResult[0].split("_")[0] +\n                    " (" + findDuplicatesResult[0].split("_")[1] + ")";\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            // ----------------------------------------------\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let locArray = [];\n            let stockArray = [];\n            for (let j = 0; j < data.length; j++) {\n                pnArray.push(data[j].料號);\n                locArray.push(data[j].儲位);\n                stockArray.push(data[j].盤點庫存);\n            } // for\n            // console.log(stockArray); //test\n            // actually updating database now\n            let start = Date.now();\n            let result = await upload_checkig_result(pnArray, locArray, stockArray);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(queryResult, async () => {\n            await triggerModal();\n            validation_err_msg.value =\n                app.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error") +\n                " Excel " +\n                app.appContext.config.globalProperties.$t("monthlyPRpageLang.row");\n            // console.log(input_data); // test\n            if (queryResult.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                table.isLoading = false;\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(queryResult.value);\n            let allLocsObj = JSON.parse(locations.value);\n            // console.log(allLocsObj); // test\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                singleEntry.id = i;\n                singleEntry.料號 = input_data[i][0].toString().trim();\n                singleEntry.品名 = input_data[i][1].toString().trim();\n                singleEntry.規格 = input_data[i][2].toString().trim();\n                singleEntry.盤點庫存 = parseInt(input_data[i][4]);\n                singleEntry.單位 = input_data[i][5].toString().trim();\n                singleEntry.儲位 = input_data[i][6].toString().trim();\n\n                let indexOfObject = allRowsObj.data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號);\n                });\n\n                let indexOfObject2 = allLocsObj.data.findIndex(object => {\n                    return (object.儲存位置 === singleEntry.儲位);\n                });\n\n                if (indexOfObject != -1) { // if isn exist in consumptive_material table\n                    singleEntry.valid_isn = true;\n                } // if\n                else {\n                    singleEntry.valid_isn = false;\n                } // else\n\n                if (indexOfObject2 != -1) { // if location exist in location table\n                    singleEntry.valid_loc = true;\n                } // if\n                else {\n                    singleEntry.valid_loc = false;\n                } // else\n\n                if (isNaN(singleEntry.盤點庫存) || singleEntry.valid_isn === false || singleEntry.valid_loc === false) {\n                    isInvalid_DB.value = true;\n\n                    validation_err_msg.value = validation_err_msg.value + " " + (i + 1) + ",";\n                } // if\n                data.push(singleEntry);\n                singleEntry = {};\n            } // for\n\n            validation_err_msg.value = validation_err_msg.value.slice(0, -1); // Remove the last character ","\n\n            // console.log(data); // test\n            if (!$("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n\n            uploadToDBReady.value = !isInvalid_DB.value;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if\n                        else { // isn exist in database\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            if (row.品名 === "N/A") {\n                                return (\n                                    \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<span class="text-danger fw-bold">\' + row.品名 + \'</span>\' +\n                                    "</div>"\n                                );\n                            } // if\n                            else {\n                                return (\n                                    \'<div class="CustomScrollbar text-nowrap"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    row.品名 +\n                                    "</div>"\n                                );\n                            } // else\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.規格 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "checkInvLang.checking_result"\n                    ),\n                    field: "庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (!Number.isInteger(row.盤點庫存)) {\n                            if (row.單位 === "N/A") {\n                                return (\n                                    \'<div class="text-nowrap CustomScrollbar"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<i class="bi bi-x-lg text-danger fw-bold"></i>\' + \'&nbsp;<small class="text-danger fw-bold">\' + row.單位 + \'</small>\' +\n                                    "</div>"\n                                );\n                            } else {\n                                return (\n                                    \'<div class="text-nowrap CustomScrollbar"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<i class="bi bi-x-lg text-danger fw-bold"></i>\' + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                                    "</div>"\n                                );\n                            } // else\n\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.盤點庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_loc === false) { // if location not exist in location table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                \'<span class="text-danger fw-bold">\' + row.儲位 + \'</span>\' +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.儲位 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.儲位\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "儲位",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            // exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            OutputExcelClick,\n            updateCheckedRows,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n            CheckCurrentRow,\n            deleteRow,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},9534:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-0bda0809] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/CombinedMonthlyPRSearchTable.vue"],names:[],mappings:"AA02CA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header ">\n            <h3>{{ $t("monthlyPRpageLang.PR") }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button id="delete" name="delete" class="col col-auto btn btn-lg btn-danger" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                    &nbsp;\n                    <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                        :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick">\n                        <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-between">\n                <span v-if="isInvalid_DB" class="col col-auto text-danger m-0 p-0" role="alert">\n                    <strong>{{ validation_err_msg }}</strong>\n                </span>\n                <span v-else class="col col-auto text-danger m-0 p-0" role="alert">\n                    <strong></strong>\n                </span>\n                <span class="col col-auto text-sm text-danger m-0 p-0">\n                    {{ $t(\'monthlyPRpageLang.shallow_delete\') }}\n                </span>\n            </div>\n            <table-lite id="searchTable" :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="true"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows"></table-lite>\n\n            <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div v-show="uploadToDBReady" class="row justify-content-center">\n                <div v-if="needConfirm2" class="col col-auto m-0 p-0">\n                    <button type="button" name="upload" data-bs-toggle="modal" data-bs-target="#sendPRConfirmTable"\n                        aria-controls="sendPRConfirmTable"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-outline-info">\n                        <i class="bi bi-envelope-check"></i>\n                        {{ $t(\'monthlyPRpageLang.SendSelectedPRReview\') }}\n                    </button>\n                </div>\n                <div v-else class="col col-auto m-0 p-0">\n                    <button @click="onSendClick(true, $event)" type="button" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-outline-info">\n                        <i class="bi bi-envelope-check"></i>\n                        {{ $t(\'monthlyPRpageLang.SendSelectedPRReview\') }}\n                    </button>\n                </div>\n                <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div v-if="needConfirm" class="col col-auto m-0 p-0">\n                    <button type="button" name="upload" data-bs-toggle="modal" data-bs-target="#sendPRConfirmTable"\n                        aria-controls="sendPRConfirmTable" class="col col-auto fs-3 text-center btn btn-lg btn-info">\n                        <i class="bi bi-envelope-at-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.SendPRReview\') }}\n                    </button>\n                </div>\n                <div v-else class="col col-auto m-0 p-0">\n                    <button @click="onSendClick(false, $event)" type="button" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info">\n                        <i class="bi bi-envelope-at-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.SendPRReview\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="sendPRConfirmTable" tabindex="-1" aria-labelledby="sendPRConfirmTable"\n        aria-hidden="true">\n        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">\n            <div class="modal-content">\n                <div class="modal-header justify-content-center">\n                    <div class="col col-10">\n                        <span class="text-danger"><b>{{ modalTitle1 }}</b></span>\n                        <div class="w-100" style="height: 0ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                        <span class="text-danger"><b>{{ modalTitle2 }}</b></span>\n                    </div>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="row justify-content-between">\n                        <div class="row col col-auto">\n                            <div class="col col-auto">\n                                <label for="pnInput2" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}\n                                    :</label>\n                            </div>\n                            <div class="col col-auto p-0 m-0">\n                                <input id="pnInput2" class="text-center form-control form-control-lg"\n                                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')"\n                                    v-model="searchTerm2" />\n                            </div>\n                        </div>\n                    </div>\n                    <div class="w-100" style="height: 1ch;"></div>\n                    \x3c!-- </div>breaks cols to a new line--\x3e\n                    <table-lite :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false"\n                        :messages="table2.messages" :columns="table2.columns" :rows="table2.rows"\n                        :total="table2.totalRecordCount" :page-options="table2.pageOptions" :sortable="table2.sortable"\n                        :is-fixed-first-column="false">\n                    </table-lite>\n                </div>\n                <div v-if="showFooter" class="modal-footer justify-content-between">\n                    <button type="button" class="btn btn-lg btn-danger" style="border-radius: 5px;"\n                        data-bs-dismiss="modal" aria-label="Close">\n                        {{ $t(\'templateWords.cancel\') }}\n                    </button>\n                    <button @click="onSendClick(false, $event)" type="button" class="btn btn-lg btn-success"\n                        style="border-radius: 5px;">\n                        {{ $t(\'monthlyPRpageLang.confirm_pr\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useMonthlyPRSearch from "../../composables/MonthlyPRSearch.ts";\nimport useSxbSearch from "../../composables/SxbSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, Currency, getMats_Buylist, getMats_nonMonthly, sendBuylistMail, submitBuylist, getCurrency } = useMonthlyPRSearch(); // axios get the mats data\n        const { mats_SXB, getMats } = useSxbSearch(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getCurrency();\n        });\n        const selectedValue2 = ref(\'USD\');\n        let isInvalid = ref(true); // validation\n\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref(app.appContext.config.globalProperties.$t("validation.required"));\n        let checkedRows = [];\n        let uploadToDBReady = ref(false); // validation\n        let needConfirm = ref(false); // try to prevent redundant PR on the same PN\n        let needConfirm2 = ref(false); // try to prevent redundant PR on the selected PN\n\n        const MPSData = ref(null);\n        const nonMPSData = ref(null);\n        const combinedData = ref(null);\n        let nonMPS_PN_Array = [];\n        let MPS_PN_Array = [];\n        let MPS_90PN_Array = [];\n\n        const searchTerm = ref(""); // Search text\n        const searchTerm2 = ref(""); // Search text for modal table\n        const modalTitle1 = ref("");\n        const modalTitle2 = ref("");\n        let showFooter = ref(true);\n\n\n        // pour the data in\n        const data = reactive([]);\n        const data2 = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const deleteRow = () => {\n            if (checkedRows.length == 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                return;\n            } // if\n\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.id) === parseInt(checkedRows[i].id);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n            checkedRows = [];\n\n        } // deleteRowv\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = [];\n\n            for (let i = 0; i < data.length; i++) {\n                let tempObj = {};\n                tempObj.料號 = data[i].料號;\n                tempObj.品名 = data[i].品名;\n                tempObj.規格 = data[i].規格;\n                tempObj.單價 = data[i].單價;\n                tempObj.幣別1 = data[i].幣別;\n                tempObj.當月需求 = parseFloat(data[i].當月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                tempObj.下月需求 = parseFloat(data[i].下月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                tempObj.現有庫存 = parseInt(data[i].現有庫存).toLocaleString("en-US");\n                tempObj.在途量 = parseInt(data[i].在途量).toLocaleString("en-US");\n                tempObj.本次請購數量 = parseInt(data[i].本次請購數量).toLocaleString("en-US");\n                tempObj.請購金額 = parseFloat(data[i].請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                tempObj.幣別2 = data[i].幣別;\n                tempObj.匯率 = parseFloat(data[i].匯率).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                tempObj.MOQ = data[i].MOQ;\n                rows.push(tempObj);\n            } // for\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("monthlyPRpageLang.PR"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"), key: \'料號\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"), key: \'品名\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.format"), key: \'規格\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.price"), key: \'單價\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.money"), key: \'幣別1\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed"), key: \'當月需求\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed"), key: \'下月需求\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.nowstock"), key: \'現有庫存\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"), key: \'在途量\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"), key: \'本次請購數量\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"), key: \'請購金額\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.money"), key: \'幣別2\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice") + "(USD)", key: \'匯率\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"), key: \'MOQ\', width: 20 },\n            ];\n\n            rows.forEach((row) => {\n                worksheet.addRow(row);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("monthlyPRpageLang.PR") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        }; // OutputExcelClick\n\n        const onSendClick = async (selectedOnly) => {\n            await triggerModal();\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n\n            if (selectedOnly || needConfirm2.value) {\n                if (checkedRows.length <= 0) {\n                    notyf.open({\n                        type: "warning",\n                        message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                        duration: 3000, //miliseconds, use 0 for infinite duration\n                        ripple: true,\n                        dismissible: true,\n                        position: {\n                            x: "right",\n                            y: "bottom",\n                        },\n                    });\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n            } else {\n                if (data.length <= 0) {\n                    notyf.open({\n                        type: "warning",\n                        message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                        duration: 3000, //miliseconds, use 0 for infinite duration\n                        ripple: true,\n                        dismissible: true,\n                        position: {\n                            x: "right",\n                            y: "bottom",\n                        },\n                    });\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n            } // if else\n\n            // ----------------------------------------------\n            // actually updating database now\n            let number = [];\n            let pName = [];\n            let spec = [];\n            let unit_price = [];\n            let nowNeed = [];\n            let nextNeed = [];\n            let stock = [];\n            let in_transit = [];\n            let req_amount = [];\n            let total_price_default_currency = [];\n            let total_price_default_currency_name = [];\n            let total_price_other_currency = [];\n            let moq = [];\n\n            let tempData;\n            if (selectedOnly || needConfirm2.value) {\n                tempData = checkedRows;\n            } else {\n                tempData = data;\n            } // else\n\n            tempData.sort((a, b) => b.匯率 - a.匯率);\n            for (let i = 0; i < tempData.length; i++) {\n                if (parseInt(tempData[i].本次請購數量) > 0) { // send only the one that has value\n                    number.push(tempData[i].料號);\n                    pName.push(tempData[i].品名);\n                    spec.push(tempData[i].規格);\n                    unit_price.push(tempData[i].單價);\n                    nowNeed.push(parseFloat(tempData[i].當月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ","));\n                    nextNeed.push(parseFloat(tempData[i].下月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ","));\n                    stock.push(parseInt(tempData[i].現有庫存).toLocaleString("en-US"));\n                    in_transit.push(parseInt(tempData[i].在途量).toLocaleString("en-US"));\n                    req_amount.push(parseInt(tempData[i].本次請購數量).toLocaleString("en-US"));\n                    total_price_default_currency.push(parseFloat(tempData[i].請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ","));\n                    total_price_default_currency_name.push(tempData[i].幣別);\n                    total_price_other_currency.push(parseFloat(tempData[i].匯率).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ","));\n                    moq.push(tempData[i].MOQ);\n                } // if\n                else {\n                    hasError = true;\n                } // else\n            } // for\n\n            if (number.length <= 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.no_req_amount_to_submit");\n\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            else if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.some_data_has_no_amount");\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.some_data_has_no_amount"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else if\n\n            // console.log(total_price_other_currency); // test\n            // return;\n            let start = Date.now();\n            let result = await sendBuylistMail(\n                number, pName, spec, unit_price,\n                nowNeed, nextNeed, stock, in_transit, req_amount,\n                total_price_default_currency, total_price_default_currency_name, total_price_other_currency, moq\n            );\n\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (selectedOnly || needConfirm2.value) {\n                let checkedPN = checkedRows.map(obj => obj.料號);\n                // Remove items from MPS_PN_Array if not in checkedPN\n                for (let i = MPS_PN_Array.length - 1; i >= 0; i--) {\n                    if (!checkedPN.includes(MPS_PN_Array[i])) {\n                        MPS_PN_Array.splice(i, 1);\n                        MPS_90PN_Array.splice(i, 1);\n                    } // if\n                } // for\n\n                // Remove items from nonMPS_PN_Array if not in checkedPN\n                for (let i = nonMPS_PN_Array.length - 1; i >= 0; i--) {\n                    if (!checkedPN.includes(nonMPS_PN_Array[i])) {\n                        nonMPS_PN_Array.splice(i, 1);\n                    } // if\n                } // for\n            } // if\n            // ------- quick test --------\n            // result = await submitBuylist(\n            //     number, pName, spec, unit_price,\n            //     nowNeed, nextNeed, stock, in_transit, req_amount,\n            //     total_price_default_currency, total_price_default_currency_name,\n            //     total_price_other_currency, moq, nonMPS_PN_Array, MPS_90PN_Array, MPS_PN_Array\n            // );\n            // result = "failed";\n            // ------- ---------- --------\n\n            if (result === "success") {\n                result = await submitBuylist(\n                    number, pName, spec, unit_price,\n                    nowNeed, nextNeed, stock, in_transit, req_amount,\n                    total_price_default_currency, total_price_default_currency_name,\n                    total_price_other_currency, moq, nonMPS_PN_Array, MPS_90PN_Array, MPS_PN_Array\n                );\n\n                if (result === "success") {\n                    uploadToDBReady.value = false;\n                    notyf.open({\n                        type: "success",\n                        message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + data.length + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                        duration: 3000, //miliseconds, use 0 for infinite duration\n                        ripple: true,\n                        dismissible: true,\n                        position: {\n                            x: "right",\n                            y: "bottom",\n                        },\n                    });\n                } // if\n                else {\n                    notyf.open({\n                        type: "error",\n                        message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                        duration: 3000, //miliseconds, use 0 for infinite duration\n                        ripple: true,\n                        dismissible: true,\n                        position: {\n                            x: "right",\n                            y: "bottom",\n                        },\n                    });\n                } // else\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.sent_email_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            await getCurrency();\n        } // onSendClick\n\n        watch(Currency, async () => {\n            await triggerModal();\n            data.splice(0);\n            if (Currency.value === "Not Found") {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.exchangerate_notfound"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n            } // if\n\n            let today = new Date();\n            let twentyDaysAgo = new Date();\n            twentyDaysAgo.setDate(today.getDate() - 20);\n            sessionStorage.clear();\n            sessionStorage.setItem("sxbisn", null);\n            sessionStorage.setItem("sxbsend", null);\n            sessionStorage.setItem("sxbbegin", JSON.stringify(twentyDaysAgo.toISOString().split(\'T\')[0]));\n            sessionStorage.setItem("sxbend", JSON.stringify(today.toISOString().split(\'T\')[0]));\n            await getMats();\n\n            nonMPS_PN_Array = [];\n            MPS_PN_Array = [];\n            MPS_90PN_Array = [];\n            isInvalid.value = false;\n            let exchange_table = Currency.value.rates;\n\n            // if all is good, proceed on generating the CombinedPRTable\n            if (isInvalid.value === false) {\n                await getMats_Buylist();\n                MPSData.value = JSON.parse(mats.value).data;\n                await getMats_nonMonthly();\n                nonMPSData.value = JSON.parse(mats.value).data;\n\n                // console.log(MPSData.value); // test\n                // console.log(nonMPSData.value); // test\n\n                let singleEntry = {};\n                let tempAll = [];\n                for (let i = 0; i < MPSData.value.length; i++) {\n                    singleEntry.料號 = MPSData.value[i].料號.toString().trim();\n                    singleEntry.品名 = MPSData.value[i].品名.toString().trim();\n                    singleEntry.單位 = MPSData.value[i].單位.toString().trim();\n                    singleEntry.規格 = MPSData.value[i].規格.toString().trim();\n                    singleEntry.單價 = parseFloat(MPSData.value[i].單價);\n                    singleEntry.當月需求 = parseInt(MPSData.value[i].本月MPS) * parseFloat(MPSData.value[i].單耗) / 1000;\n                    singleEntry.下月需求 = parseInt(MPSData.value[i].下月MPS) * parseFloat(MPSData.value[i].單耗) / 1000;\n                    if (MPSData.value[i].total_stock === null) {\n                        singleEntry.現有庫存 = 0;\n                    } else {\n                        singleEntry.現有庫存 = parseInt(MPSData.value[i].total_stock);\n                    } // if else\n\n                    if (MPSData.value[i].in_transit === null) {\n                        singleEntry.在途量 = 0;\n                    } else {\n                        singleEntry.在途量 = Math.round(parseFloat(MPSData.value[i].in_transit));\n                    } // if else\n\n                    // Don\'t care, will be calculated below\n                    singleEntry.本次請購數量 = Math.ceil(singleEntry.當月需求 + singleEntry.下月需求);\n\n                    singleEntry.請購金額 = parseFloat((singleEntry.本次請購數量 * singleEntry.單價).toFixed(5));\n                    singleEntry.幣別 = MPSData.value[i].幣別.toString().trim().toUpperCase();\n                    if (singleEntry.幣別 == "RMB") {\n                        singleEntry.匯率 = parseFloat((singleEntry.請購金額 * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                    } // if\n                    else {\n                        singleEntry.匯率 = parseFloat((singleEntry.請購金額 * (exchange_table[\'USD\'] / exchange_table[singleEntry.幣別])).toFixed(5));\n                    } // else\n                    singleEntry.MOQ = parseInt(MPSData.value[i].MOQ.toString().trim());\n                    singleEntry.id = i;\n                    tempAll.push(singleEntry);\n                    MPS_PN_Array.push(singleEntry.料號);\n                    MPS_90PN_Array.push(MPSData.value[i].料號90);\n                    singleEntry = {};\n                } // for\n\n                for (let i = 0; i < nonMPSData.value.length; i++) {\n                    singleEntry.料號 = nonMPSData.value[i].料號.toString().trim();\n                    singleEntry.品名 = nonMPSData.value[i].品名.toString().trim();\n                    singleEntry.單位 = nonMPSData.value[i].單位.toString().trim();\n                    singleEntry.規格 = nonMPSData.value[i].規格.toString().trim();\n                    singleEntry.單價 = parseFloat(nonMPSData.value[i].單價);\n                    singleEntry.當月需求 = parseFloat(nonMPSData.value[i].當月需求);\n                    singleEntry.下月需求 = parseFloat(nonMPSData.value[i].下月需求);\n                    if (nonMPSData.value[i].total_stock === null) {\n                        singleEntry.現有庫存 = 0;\n                    } else {\n                        singleEntry.現有庫存 = parseInt(nonMPSData.value[i].total_stock);\n                    } // if else\n\n                    if (nonMPSData.value[i].in_transit === null) {\n                        singleEntry.在途量 = 0;\n                    } else {\n                        singleEntry.在途量 = Math.round(parseFloat(nonMPSData.value[i].in_transit));\n                    } // if else\n\n                    // Don\'t care, will be calculated below\n                    singleEntry.本次請購數量 = Math.ceil(singleEntry.當月需求 + singleEntry.下月需求);\n\n                    singleEntry.請購金額 = parseFloat((singleEntry.本次請購數量 * singleEntry.單價).toFixed(5));\n                    singleEntry.幣別 = nonMPSData.value[i].幣別.toString().trim().toUpperCase();\n                    if (singleEntry.幣別 == "RMB") {\n                        singleEntry.匯率 = parseFloat((singleEntry.請購金額 * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                    } // if\n                    else {\n                        singleEntry.匯率 = parseFloat((singleEntry.請購金額 * (exchange_table[\'USD\'] / exchange_table[singleEntry.幣別])).toFixed(5));\n                    } // else\n                    singleEntry.MOQ = parseInt(nonMPSData.value[i].MOQ.toString().trim());\n\n                    singleEntry.id = i + MPSData.value.length;\n\n                    tempAll.push(singleEntry);\n                    nonMPS_PN_Array.push(singleEntry.料號);\n                    singleEntry = {};\n                } // for\n\n                // console.log(tempAll); // test\n\n                // sum by 料號\n                let sum_result = Object.values(tempAll.reduce((accumulator, currentValue) => {\n                    if (!accumulator[currentValue.料號]) { // if the current 料號 is fisrt met, then we create a index for it\n                        accumulator[currentValue.料號] =\n                        {\n                            id: currentValue.id,\n                            料號: currentValue.料號,\n                            品名: currentValue.品名,\n                            規格: currentValue.規格,\n                            單位: currentValue.單位,\n                            單價: currentValue.單價,\n                            當月需求: 0,\n                            下月需求: 0,\n                            現有庫存: currentValue.現有庫存,\n                            在途量: currentValue.在途量,\n                            本次請購數量: 0,\n                            請購金額: 0,\n                            幣別: currentValue.幣別,\n                            匯率: 0,\n                            MOQ: currentValue.MOQ\n                        };\n                    } // if\n\n                    // sum the value by index\n                    accumulator[currentValue.料號].當月需求 += currentValue.當月需求;\n                    accumulator[currentValue.料號].下月需求 += currentValue.下月需求;\n                    return accumulator;\n                }, {}));\n\n                // console.log(sum_result); // test\n\n                // Calculate result rows\n                let final_result = Object.values(sum_result.reduce((accumulator, currentValue) => {\n                    if (!accumulator[currentValue.料號]) { // if the current 料號 is fisrt met, then we create a index for it\n                        accumulator[currentValue.料號] =\n                        {\n                            id: currentValue.id,\n                            料號: currentValue.料號,\n                            品名: currentValue.品名,\n                            單位: currentValue.單位,\n                            規格: currentValue.規格,\n                            單價: currentValue.單價,\n                            當月需求: currentValue.當月需求,\n                            下月需求: currentValue.下月需求,\n                            現有庫存: currentValue.現有庫存,\n                            在途量: currentValue.在途量,\n                            本次請購數量: 0,\n                            請購金額: 0,\n                            幣別: currentValue.幣別,\n                            匯率: 0,\n                            MOQ: currentValue.MOQ\n                        };\n                    } // if\n\n                    // calculate the value by index\n                    accumulator[currentValue.料號].本次請購數量 = Math.ceil(currentValue.當月需求 + currentValue.下月需求 - currentValue.現有庫存 - currentValue.在途量);\n                    if (accumulator[currentValue.料號].本次請購數量 < 0) {\n                        accumulator[currentValue.料號].本次請購數量 = 0;\n                    } // if\n                    accumulator[currentValue.料號].請購金額 = parseFloat((accumulator[currentValue.料號].本次請購數量 * currentValue.單價).toFixed(5));\n                    if (currentValue.幣別 == "RMB") {\n                        accumulator[currentValue.料號].匯率 = parseFloat((accumulator[currentValue.料號].請購金額 * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                    } // if\n                    else {\n                        accumulator[currentValue.料號].匯率 = parseFloat((accumulator[currentValue.料號].請購金額 * (exchange_table[\'USD\'] / exchange_table[currentValue.幣別])).toFixed(5));\n                    } // else\n                    // console.log(accumulator); // test\n                    return accumulator;\n                }, {}));\n\n                // console.log(final_result); // test\n\n                // push to table\n                Object.assign(data, final_result.map(obj => obj));\n\n                let allPN = final_result.map(obj => obj.料號);\n                let SXB_PN = JSON.parse(mats_SXB.value).datas.map(obj => obj.料號);\n                // console.log(JSON.parse(mats_SXB.value).datas); // test\n                needConfirm.value = allPN.some(r => SXB_PN.includes(r));\n                if (needConfirm.value) {\n                    modalTitle1.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning1");\n                    modalTitle2.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning2");\n                    data2.splice(0);\n                    Object.assign(data2, JSON.parse(mats_SXB.value).datas.flatMap((obj) => {\n                        if (obj.SRM單號 !== "已退單") {\n                            let singleEntry = {};\n                            singleEntry.料號 = obj.料號;\n                            singleEntry.品名 = obj.品名;\n                            singleEntry.單位 = obj.單位;\n                            singleEntry.規格 = obj.規格;\n                            singleEntry.單號 = obj.SXB單號;\n                            singleEntry.狀態 = obj.SRM單號;\n                            singleEntry.請購金額 = parseFloat(obj.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                            singleEntry.幣別 = obj.幣別.toString().trim().toUpperCase();\n                            singleEntry.請購量 = parseInt(obj.本次請購數量);\n                            singleEntry.請購時間 = obj.請購時間;\n                            singleEntry.開單人員 = obj.開單人員;\n                            singleEntry.現有庫存 = parseInt(obj.現有庫存);\n                            return singleEntry;\n                        } // if\n                        else {\n                            return [];\n                        } // else\n                    }));\n                } // if\n\n                if (data2.length <= 0) {\n                    needConfirm.value = false;\n                } // if\n\n            } // if\n\n            if (data.length > 0) {\n                uploadToDBReady.value = true;\n            } // if\n            else {\n                uploadToDBReady.value = false;\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="isn\' +\n                            row.id +\n                            \'" name="isn\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="scrollableWithoutScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.price"\n                    ),\n                    field: "單價",\n                    width: "9ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="price\' +\n                            i +\n                            \'" name="price\' +\n                            i +\n                            \'" value="\' +\n                            row.單價 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.單價 + " <small>" + row.幣別 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nowneed"\n                    ),\n                    field: "當月需求",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nowneed\' +\n                            i +\n                            \'" name="nowneed\' +\n                            i +\n                            \'" value="\' +\n                            row.當月需求 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.當月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nextneed"\n                    ),\n                    field: "下月需求",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nextneed\' +\n                            row.id +\n                            \'" name="nextneed\' +\n                            i +\n                            \'" value="\' +\n                            row.下月需求 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.下月需求).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nowstock"\n                    ),\n                    field: "現有庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nowstock\' +\n                            row.id +\n                            \'" name="nowstock\' +\n                            i +\n                            \'" value="\' +\n                            row.現有庫存 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.現有庫存).toLocaleString("en-US") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.transit"\n                    ),\n                    field: "在途量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="transit\' +\n                            i +\n                            \'" name="transit\' +\n                            i +\n                            \'" value="\' +\n                            row.在途量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.在途量).toLocaleString("en-US") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyamount"\n                    ),\n                    field: "本次請購數量",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="buyamount\' +\n                            row.id +\n                            \'" name="buyamount\' +\n                            i +\n                            \'" value="\' +\n                            row.本次請購數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.本次請購數量).toLocaleString("en-US") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyprice"\n                    ),\n                    field: "請購金額",\n                    width: "11ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="buyprice\' +\n                            row.id +\n                            \'" name="buyprice\' +\n                            i +\n                            \'" value="\' +\n                            row.請購金額 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") +\n                            " <small>" + row.幣別 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyprice"\n                    ) + "(USD)",\n                    field: "匯率",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="rate\' +\n                            row.id +\n                            \'" name="rate\' +\n                            i +\n                            \'" value="\' +\n                            row.匯率 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.匯率).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") +\n                            " " + "<small>USD</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.moq"\n                    ),\n                    field: "MOQ",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="moq\' +\n                            row.id +\n                            \'" name="moq\' +\n                            i +\n                            \'" value="\' +\n                            row.MOQ +\n                            \'">\' +\n                            \'<div class="scrollableWithoutScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.MOQ + " <small>" + row.單位 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "匯率",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const table2 = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buytime"\n                    ),\n                    field: "請購時間",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        let returnStr = "";\n                        // console.log(row); // test\n                        returnStr =\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.請購時間 +\n                            "</div>";\n\n                        return returnStr;\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        // console.log(row);\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyamount1"\n                    ),\n                    field: "請購量",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.請購量).toLocaleString("en-US") +\n                            " <small>" + row.單位 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyprice"\n                    ),\n                    field: "請購金額",\n                    width: "11ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.請購金額 + " <small>" + row.幣別 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pr_sender"\n                    ),\n                    field: "開單人員",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.開單人員 === null || row.開單人員 === undefined) row.開單人員 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.status"\n                    ),\n                    field: "狀態",\n                    width: "6ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.狀態 === \'未簽核\') {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; color: #dca120;">\' +\n                                app.appContext.config.globalProperties.$t(\n                                    "monthlyPRpageLang.review_pending"\n                                ) +\n                                "</div>"\n                            );\n                        } // if\n                        else if (row.狀態 === \'已退單\') {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; color: #808080;">\' +\n                                app.appContext.config.globalProperties.$t(\n                                    "monthlyPRpageLang.review_cancel"\n                                ) +\n                                "</div>"\n                            );\n                        } // else if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; color: #2bb91b;">\' +\n                                app.appContext.config.globalProperties.$t(\n                                    "monthlyPRpageLang.review_complete"\n                                ) +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data2.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm2.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm2.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table2.rows.length;\n            }),\n            sortable: {\n                order: "請購金額",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            checkedRows = rowsKey;\n            let SXB_PN = JSON.parse(mats_SXB.value).datas.map(obj => obj.料號);\n            let checkedPN = rowsKey.map(obj => obj.料號);\n            needConfirm2.value = checkedPN.some(r => SXB_PN.includes(r));\n            // console.log(checkedPN); // test\n            data2.splice(0);\n            if (needConfirm2.value) {\n                modalTitle1.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning1");\n                modalTitle2.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.duplicate_pr_warning2");\n                Object.assign(data2, JSON.parse(mats_SXB.value).datas.flatMap((obj) => {\n                    if (obj.SRM單號 !== "已退單") {\n                        let singleEntry = {};\n                        singleEntry.料號 = obj.料號;\n                        singleEntry.品名 = obj.品名;\n                        singleEntry.單位 = obj.單位;\n                        singleEntry.規格 = obj.規格;\n                        singleEntry.單號 = obj.SXB單號;\n                        singleEntry.狀態 = obj.SRM單號;\n                        singleEntry.請購金額 = parseFloat(obj.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",");\n                        singleEntry.幣別 = obj.幣別.toString().trim().toUpperCase();\n                        singleEntry.請購量 = parseInt(obj.本次請購數量);\n                        singleEntry.請購時間 = obj.請購時間;\n                        singleEntry.開單人員 = obj.開單人員;\n                        singleEntry.現有庫存 = parseInt(obj.現有庫存);\n                        return singleEntry;\n                    } // if\n                    else {\n                        return [];\n                    } // else\n                }));\n            } // if\n\n            if (data2.length <= 0) {\n                needConfirm2.value = false;\n            } // if\n        };\n\n        return {\n            selectedValue2,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            needConfirm,\n            needConfirm2,\n            searchTerm,\n            searchTerm2,\n            table,\n            table2,\n            modalTitle1,\n            modalTitle2,\n            showFooter,\n            updateCheckedRows,\n            deleteRow,\n            OutputExcelClick,\n            onSendClick,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},7311:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-3a4c3127] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/DemandRecieveDiffTable.vue"],names:[],mappings:"AA2nBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card-header row align-items-center">\n        <h3 class="col col-auto align-middle m-0 p-0">\n            {{ yearTag + "-" + monthStr + " " + $t("callpageLang.diffalert") }}\n        </h3>\n    </div>\n    <div class="card-body">\n        <div class="row justify-content-between">\n            <div class="row col col-auto">\n                <div class="col col-auto">\n                    <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                </div>\n                <div class="col col-auto p-0 m-0">\n                    <input id="pnInput" class="text-center form-control form-control-lg"\n                        v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                </div>\n            </div>\n            <div class="col col-auto">\n                <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                    :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(\'All\')">\n                    <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                </button>\n            </div>\n        </div>\n        <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n        <table-lite id="searchTable" :is-fixed-first-column="true" :hasCheckbox="true" :isStaticMode="true"\n            :isSlotMode="true" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n            :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n            :is-loading="table.isLoading" @is-finished="table.isLoading = false"\n            @return-checked-rows="updateCheckedRows">\n            <template v-slot:料號="{ row, key }">\n                <div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">\n                    {{ row.料號 }}\n                </div>\n            </template>\n            <template v-slot:請購數量="{ row, key }">\n                <div class="col col-auto align-items-center m-0 p-0">\n                    <span class="m-0 p-0" style="width: 12ch;">\n                        {{ parseInt(row.請購數量).toLocaleString(\'en\', { useGrouping: true }) }}\n                        <small>{{ row.單位 }}</small>\n                    </span>\n                </div>\n            </template>\n            <template v-slot:實際領用數量="{ row, key }">\n                <div class="col col-auto align-items-center m-0 p-0">\n                    <span class="m-0 p-0" style="width: 12ch;">\n                        {{ parseInt(row.實際領用數量).toLocaleString(\'en\', { useGrouping: true }) }}\n                        <small>{{ row.單位 }}</small>\n                    </span>\n                </div>\n            </template>\n            <template v-slot:需求與領用差異量="{ row, key }">\n                <div class="col col-auto align-items-center m-0 p-0">\n                    <span class="m-0 p-0" style="width: 12ch;">\n                        {{ parseInt(row.需求與領用差異量).toLocaleString(\'en\', { useGrouping: true }) }}\n                        <small>{{ row.單位 }}</small>\n                    </span>\n                </div>\n            </template>\n            <template v-slot:需求與領用差異="{ row, key }">\n                <div class="CustomScrollbar text-nowrap" style="overflow-x: auto; width: 100%;">\n                    {{ row.需求與領用差異 }}%\n                </div>\n            </template>\n        </table-lite>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed, defineModel } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport { yearTag, monthTag, checkedRows, searchTerm, data, table, datasetBuyUSD, datasetRealUSD } from \'../../composables/DiffTableStore.js\';\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useDiffSearch from "../../composables/DiffSearch.ts";\nimport useMonthlyPRSearch from "../../composables/MonthlyPRSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, getMats } = useDiffSearch(); // axios get the mats data\n        const { Currency, getCurrency } = useMonthlyPRSearch(); // axios get the currency\n\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getCurrency();\n            await getMats();\n        });\n\n        const monthList = ref(app.appContext.config.globalProperties.$t("monthlyPRpageLang.months").split(\'_\'));\n        const monthStr = ref(monthList.value[monthTag.value]);\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"));\n\n            // Add header row\n            worksheet.addRow([\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n                app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent"),\n            ]);\n\n            // Add data rows\n            data.forEach(item => {\n                worksheet.addRow([\n                    item.料號,\n                    item.品名,\n                    item.請購數量,\n                    item.實際領用數量,\n                    item.單位,\n                    item.需求與領用差異量,\n                    `${item.需求與領用差異}%`\n                ]);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/octet-stream" });\n            FileSaver.saveAs(blob, `${app.appContext.config.globalProperties.$t("callpageLang.req_vs_real_percent")}.xlsx`);\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        const SortCurrentMonthTable = async (inputMonth, resultArray) => {\n            // 無法確定此廠這個月的入庫是來自固定前一個月的請購or固定提前(早兩個月)的請購\n            // 回頭一個月一個月找時 若有料號match 表示整批的請購月份也是現在的月份\n            // 將找到matching請購月份紀錄下來 loop完inbound list後\n            // 會在loop buylist時只取用此請購月份的資料 (作為有請購但沒有(尚未?)入庫的料)\n            let matchingBuylistMonth = -99;\n            // console.log(all_data_sorted); // test\n            // find the matching buylist month\n            for (let i = 0; i < all_data_sorted.inbound[inputMonth].length; i++) {\n                let tempArry = all_data_sorted.inbound[inputMonth];\n                for (let j = 1; j < 3; j++) {\n                    let prevBuylistMonth = inputMonth - j;\n                    if (prevBuylistMonth == -1) { // 去年12月請購\n                        let obj = all_data_sorted.buylist_lastyear[11].find(o => o.料號 === tempArry[i].料號);\n                        // console.log(obj); // test\n                        if (obj) {\n                            if (prevBuylistMonth > matchingBuylistMonth) {\n                                matchingBuylistMonth = prevBuylistMonth;\n                            } // if\n                            break;\n                        } // if\n                    } else if (prevBuylistMonth == -2) { // 去年11月請購\n                        let obj = all_data_sorted.buylist_lastyear[10].find(o => o.料號 === tempArry[i].料號);\n                        // console.log(obj); // test\n                        if (obj) {\n                            if (prevBuylistMonth > matchingBuylistMonth) {\n                                matchingBuylistMonth = prevBuylistMonth;\n                            } // if\n                            break;\n                        } // if\n                    } else { // 今年內請購\n                        let obj = all_data_sorted.buylist[prevBuylistMonth].find(o => o.料號 === tempArry[i].料號);\n                        if (obj) {\n                            if (prevBuylistMonth > matchingBuylistMonth) {\n                                matchingBuylistMonth = prevBuylistMonth;\n                            } // if\n                            break;\n                        } // if\n                    } // if else\n                } // for\n            } // for\n\n            // loop thru inbound list and push to table\n            for (let i = 0; i < all_data_sorted.inbound[inputMonth].length; i++) {\n                let singleEntry = {};\n                let tempArry = all_data_sorted.inbound[inputMonth];\n                singleEntry.料號 = tempArry[i].料號;\n                singleEntry.品名 = tempArry[i].品名;\n\n                if (matchingBuylistMonth == -99) { // if the whole batch is newly inbound without any buy records\n                    singleEntry.請購數量 = 0;\n                } else if (matchingBuylistMonth == -1) { // if the batch\'s buy record is from last year Dec\n                    let obj = all_data_sorted.buylist_lastyear[11].find(o => o.料號 === singleEntry.料號);\n                    // console.log(obj); // test\n                    if (obj) {\n                        singleEntry.請購數量 = parseFloat(obj.本次請購數量);\n                        if (Number.isNaN(parseFloat(obj.本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                    } // if\n                    else { // 新入料\n                        singleEntry.請購數量 = 0;\n                    } // else\n                } else if (matchingBuylistMonth == -2) { // if the batch\'s buy record is from last year Nov\n                    let obj = all_data_sorted.buylist_lastyear[10].find(o => o.料號 === singleEntry.料號);\n                    if (obj) {\n                        singleEntry.請購數量 = parseFloat(obj.本次請購數量);\n                        if (Number.isNaN(parseFloat(obj.本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                    } // if\n                    else { // 新入料\n                        singleEntry.請購數量 = 0;\n                    } // else\n                } else { // if the batch\'s buy record is within this year\n                    let obj = all_data_sorted.buylist[matchingBuylistMonth].find(o => o.料號 === singleEntry.料號);\n                    if (obj) {\n                        singleEntry.請購數量 = parseFloat(obj.本次請購數量);\n                        if (Number.isNaN(parseFloat(obj.本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                    } // if\n                    else { // 新入料\n                        singleEntry.請購數量 = 0;\n                    } // else\n                } // if else\n\n                singleEntry.單位 = tempArry[i].單位;\n                singleEntry.實際領用數量 = parseInt(tempArry[i].入庫數量);\n                singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                if (Number.isNaN(singleEntry.需求與領用差異)) {\n                    singleEntry.需求與領用差異 = 0;\n                } // if\n                singleEntry.單價 = parseFloat(tempArry[i].單價);\n                singleEntry.幣別 = tempArry[i].幣別;\n\n                resultArray.push(singleEntry);\n            } // for\n\n            // fish out entries that are within buylist but not within inbound\n            if (matchingBuylistMonth == -99) {\n                // if the whole batch are all newly inbound without any corresponding buy records \n                // OR if there\'s no inbound records\n                // 目前作法：直接抓上個月的請購資料\n                let prevBuylistMonth = inputMonth - 1;\n                if (prevBuylistMonth == -1) { // 去年12月請購\n                    for (let i = 0; i < all_data_sorted.buylist_lastyear[11].length; i++) {\n                        let tempMonthRecord = all_data_sorted.buylist_lastyear[11];\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // for\n                } else if (prevBuylistMonth == -2) { // 去年11月請購\n                    for (let i = 0; i < all_data_sorted.buylist_lastyear[10].length; i++) {\n                        let tempMonthRecord = all_data_sorted.buylist_lastyear[10];\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // for\n                } else { // 今年內請購\n                    for (let i = 0; i < all_data_sorted.buylist[prevBuylistMonth].length; i++) {\n                        let tempMonthRecord = all_data_sorted.buylist[prevBuylistMonth];\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // for\n                } // if else\n            } else if (matchingBuylistMonth == -1) { // if the batch\'s buy record is from last year Dec\n                for (let i = 0; i < all_data_sorted.buylist_lastyear[11].length; i++) {\n                    let tempMonthRecord = all_data_sorted.buylist_lastyear[11];\n                    let obj = resultArray.find(o => o.料號 === tempMonthRecord[i].料號);\n                    if (obj === undefined) {\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // if\n                } // for\n            } else if (matchingBuylistMonth == -2) { // if the batch\'s buy record is from last year Nov\n                for (let i = 0; i < all_data_sorted.buylist_lastyear[10].length; i++) {\n                    let tempMonthRecord = all_data_sorted.buylist_lastyear[10];\n                    let obj = resultArray.find(o => o.料號 === tempMonthRecord[i].料號);\n                    if (obj === undefined) {\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // if\n                } // for\n            } else { // if the batch\'s buy record is within this year\n                for (let i = 0; i < all_data_sorted.buylist[matchingBuylistMonth].length; i++) {\n                    let tempMonthRecord = all_data_sorted.buylist[matchingBuylistMonth];\n                    let obj = resultArray.find(o => o.料號 === tempMonthRecord[i].料號);\n                    if (obj === undefined) {\n                        let singleEntry = {};\n                        singleEntry.料號 = tempMonthRecord[i].料號;\n                        singleEntry.品名 = tempMonthRecord[i].品名;\n                        singleEntry.請購數量 = parseFloat(tempMonthRecord[i].本次請購數量);\n                        if (Number.isNaN(parseFloat(tempMonthRecord[i].本次請購數量))) {\n                            singleEntry.請購數量 = 0;\n                        } // if\n                        singleEntry.單位 = tempMonthRecord[i].單位;\n                        singleEntry.實際領用數量 = 0;\n                        singleEntry.需求與領用差異量 = singleEntry.請購數量 - singleEntry.實際領用數量;\n                        singleEntry.需求與領用差異 = 100 * (singleEntry.請購數量 - singleEntry.實際領用數量) / ((singleEntry.請購數量 + singleEntry.實際領用數量) / 2);\n                        if (Number.isNaN(singleEntry.需求與領用差異)) {\n                            singleEntry.需求與領用差異 = 0;\n                        } // if\n                        singleEntry.單價 = parseFloat(tempMonthRecord[i].單價);\n                        singleEntry.幣別 = tempMonthRecord[i].幣別;\n\n                        resultArray.push(singleEntry);\n                    } // if\n                } // for\n            } // if else\n        }; // SortCurrentMonthTable\n\n        const CalChartDatasets = async () => {\n            let tempBuyUSD = [];\n            let tempRealUSD = [];\n\n            let monthlyTemp = [];\n            let exchange_table = Currency.value.rates;\n            for (let i = 0; i < 12; i++) { // loop thru whole year\n                monthlyTemp.splice(0); // clean up old records\n                await SortCurrentMonthTable(i, monthlyTemp); // get the sorted data by month\n                let currentMonthBuyTotalPrice = 0;\n                let currentMonthRealTotalPrice = 0;\n                // console.log(monthlyTemp); // test\n                for (let j = 0; j < monthlyTemp.length; j++) {\n                    if (monthlyTemp[j].料號) { // for safety measure\n                        if (checkedRows.length > 0) {\n                            if (checkedRows.find(o => o.料號 == monthlyTemp[j].料號) != undefined) {\n                                if (monthlyTemp[j].幣別 == "RMB") {\n                                    if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5)))) {\n                                        currentMonthBuyTotalPrice += parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                                    } // if\n\n                                    if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5)))) {\n                                        currentMonthRealTotalPrice += parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                                    } // if\n                                } // if\n                                else {\n                                    if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5)))) {\n                                        currentMonthBuyTotalPrice += parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5));\n                                    } // if\n                                    if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5)))) {\n                                        currentMonthRealTotalPrice += parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5));\n                                    } // if\n                                } // else\n                            } // if\n                        } // if\n                        else {\n                            if (monthlyTemp[j].幣別 == "RMB") {\n                                if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5)))) {\n                                    currentMonthBuyTotalPrice += parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                                } // if\n\n                                if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5)))) {\n                                    currentMonthRealTotalPrice += parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[\'CNY\'])).toFixed(5));\n                                } // if\n                            } // if\n                            else {\n                                if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5)))) {\n                                    currentMonthBuyTotalPrice += parseFloat((parseFloat(monthlyTemp[j].請購數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5));\n                                } // if\n                                if (!Number.isNaN(parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5)))) {\n                                    currentMonthRealTotalPrice += parseFloat((parseFloat(monthlyTemp[j].實際領用數量) * parseFloat(monthlyTemp[j].單價) * (exchange_table[\'USD\'] / exchange_table[monthlyTemp[j].幣別])).toFixed(5));\n                                } // if\n                            } // else\n                        } // else\n\n                    } // if\n                } // for\n\n                tempBuyUSD.push(currentMonthBuyTotalPrice);\n                tempRealUSD.push(currentMonthRealTotalPrice);\n            } // for\n\n            // console.log(tempRealUSD); // test\n            // console.log(tempBuyUSD); // test\n            datasetBuyUSD.value = tempBuyUSD;\n            datasetRealUSD.value = tempRealUSD;\n        }; // CalChartDatasets\n\n        watch(checkedRows, async () => {\n            await CalChartDatasets();\n        }); // watch checked rows\n\n        watch(yearTag, async () => {\n            if (yearTag.value.toString().length == 4 && parseInt(yearTag.value) >= 1996) {\n                await triggerModal();\n\n                data.splice(0); // clean up old records\n\n                await getMats(yearTag.value);\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n            } // if\n        }); // watch year change\n\n        watch(monthTag, async () => {\n            // Jan is 0 in monthTag\n            await triggerModal();\n\n            data.splice(0); // clean up possible old records\n\n            // uncheck all checkboxes\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n            checkedRows.splice(0);\n\n            monthStr.value = monthList.value[monthTag.value];\n            await SortCurrentMonthTable(monthTag.value, data);\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        }); // watch month change\n\n        var all_data_sorted = {\n            buylist_lastyear: [],\n            buylist: [],\n            inbound: []\n        };\n        watch(mats, async () => {\n            await triggerModal();\n            all_data_sorted = {\n                buylist_lastyear: [],\n                buylist: [],\n                inbound: []\n            }; // clean up possible old records\n            data.splice(0); // clean up possible old records\n            if (mats.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(mats.value);\n\n            // sort the last year\'s last few months\' buylist\n            for (let i = 0; i < 12; i++) {\n                let newArray = allRowsObj.buylist_lastyear.filter(function (el) {\n                    let sql_Date_To_JS_Date = new Date(el.請購時間.replace(\' \', \'T\'))\n                    return sql_Date_To_JS_Date.getMonth() == i;\n                });\n\n                // sum the entries with the same 料號                \n                let sum_result = Object.values(newArray.reduce((acc, curr) => {\n                    let item = acc[curr.料號];\n                    if (item) { // 匯率 其實是美金金額 不是真的匯率\n                        item.本次請購數量 += parseFloat(curr.本次請購數量);\n                        item.匯率 += parseFloat(curr.匯率);\n                    } else {\n                        curr.匯率 = parseFloat(curr.匯率);\n                        curr.本次請購數量 = parseFloat(curr.本次請購數量);\n                        acc[curr.料號] = curr;\n                    } // if else\n\n                    return acc;\n                }, {}));\n\n                all_data_sorted.buylist_lastyear[i] = sum_result;\n            } // for\n\n            // sort the yearly buylist\n            for (let i = 0; i < 12; i++) {\n                let newArray = allRowsObj.buylist.filter(function (el) {\n                    let sql_Date_To_JS_Date = new Date(el.請購時間.replace(\' \', \'T\'))\n                    return sql_Date_To_JS_Date.getMonth() == i;\n                });\n\n                // sum the entries with the same 料號\n                let sum_result = Object.values(newArray.reduce((acc, curr) => {\n                    let item = acc[curr.料號];\n\n                    if (item) {\n                        item.匯率 = parseFloat(item.匯率) + parseFloat(curr.匯率);\n                        item.本次請購數量 = parseFloat(item.本次請購數量) + parseFloat(curr.本次請購數量);\n                    } else {\n                        curr.匯率 = parseFloat(curr.匯率);\n                        curr.本次請購數量 = parseFloat(curr.本次請購數量);\n                        acc[curr.料號] = curr;\n                    } // if else\n\n                    return acc;\n                }, {}));\n\n                all_data_sorted.buylist[i] = sum_result;\n            } // for\n\n            // sort the yearly inbound\n            for (let i = 0; i < 12; i++) {\n                let newArray = allRowsObj.inbound.filter(function (el) {\n                    let sql_Date_To_JS_Date = new Date(el.入庫時間.replace(\' \', \'T\'))\n                    return sql_Date_To_JS_Date.getMonth() == i;\n                });\n\n                // sum the entries with the same 料號\n                let sum_result = Object.values(newArray.reduce((acc, curr) => {\n                    let item = acc[curr.料號];\n\n                    if (item) {\n                        item.入庫數量 = parseInt(item.入庫數量) + parseInt(curr.入庫數量);\n                    } else {\n                        curr.入庫數量 = parseInt(curr.入庫數量);\n                        acc[curr.料號] = curr;\n                    } // if else\n\n                    return acc;\n                }, {}));\n\n                all_data_sorted.inbound[i] = sum_result;\n            } // for\n\n            console.log(all_data_sorted); // test\n            await SortCurrentMonthTable(monthTag.value, data);\n            await CalChartDatasets();\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        const updateCheckedRows = (rowsKey) => {\n            checkedRows.length = 0;\n            checkedRows.push(...rowsKey);\n            // console.log(checkedRows); // test\n        };\n\n        return {\n            table,\n            searchTerm,\n            updateCheckedRows,\n            OutputExcelClick,\n            yearTag,\n            monthStr\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},1854:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-272e960e] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundLocTransfer.vue"],names:[],mappings:"AAugBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'inboundpageLang.locationchange\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'inboundpageLang.enterisn_or_loc\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                \x3c!-- <div class="col col-auto">\n                    <button type="submit" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                    &nbsp;\n                    <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                        @click="OutputExcelClick">\n                        <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                    </button>\n                </div> --\x3e\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite id="searchTable" :is-fixed-first-column="true" :isStaticMode="true" :isSlotMode="true"\n                :hasCheckbox="true" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                :is-loading="table.isLoading" @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n                <template v-slot:調撥數量="{ row, key }">\n                    <div class="row">\n                        <input v-model="row.調撥數量" @input="CheckCurrentRow($event);"\n                            :class="{ \'is-invalid\': ((parseInt(row.調撥數量) > parseInt(row.現有庫存)) || (parseInt(row.調撥數量) == 0 && row.新儲位 != \'\')) }"\n                            class="form-control text-center p-0 m-0 col col-auto"\n                            style="width: 7ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                            type="number" min="0" :id="\'tqty\' + row.id" :name="\'tqty\' + key" />\n                        <span class="input-group-text text-center p-0 m-0 col col-auto"\n                            style="border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;">{{\n                                row.單位 }}</span>\n                    </div>\n                </template>\n\n                <template v-slot:新儲位="{ row, key }">\n                    <select v-model="row.新儲位" @input="CheckCurrentRow($event);" style="width: 11ch;"\n                        class="col col-auto form-select form-select-lg ps-2 p-0 m-0" :id="\'newloc\' + row.id"\n                        :class="{ \'is-invalid\': (parseInt(row.調撥數量) > 0 && row.新儲位 == \'\') }" :name="\'newloc\' + key">\n                        <option id="noneSelected" value="" disabled selected>\n                            {{ $t(\'inboundpageLang.choose\') }}\n                        </option>\n                        <template v-for="item in locsArray">\n                            <option :id="item" v-if="row.儲位 !== item" :value="item">\n                                {{ item }}\n                            </option>\n                        </template>\n                    </select>\n                </template>\n            </table-lite>\n            <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button type="submit" id="change" name="change"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'basicInfoLang.change\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\n\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, errors, getMats, locTransfer } = useInboundStockSearch(); // axios get the mats data\n        const { queryResult, locations, validateISN, getLocs } = useCommonlyUsedFunctions();\n\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getLocs();\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        let checkedRows = [];\n        const locsArray = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        function CheckCurrentRow(e) {\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        const onSendToDBClick = async () => {\n            await triggerModal();\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (checkedRows.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n\n            // loop through the checked rows and validate the data\n            for (let i = 0; i < checkedRows.length; i++) {\n                let currentRow = checkedRows[i];\n                let currentRowPN = currentRow.料號;\n                let currentRowLoc = currentRow.儲位;\n                let currentRowNewLoc = currentRow.新儲位;\n                let currentRowQty = currentRow.調撥數量;\n\n                // check if the new location is empty\n                if (currentRowNewLoc === "") {\n                    hasError = true;\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = currentRowPN + " " + app.appContext.config.globalProperties.$t("inboundpageLang.newloc_empty");\n                    break;\n                } // if\n\n                // check if the transfer quantity is empty\n                if (parseInt(currentRowQty) === 0) {\n                    hasError = true;\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = currentRowPN + " " + app.appContext.config.globalProperties.$t("inboundpageLang.qty_empty");\n                    break;\n                } // if\n\n                // check if the transfer quantity is more than the current stock\n                if (parseInt(currentRowQty) > parseInt(currentRow.現有庫存)) {\n                    hasError = true;\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = currentRowPN + " " + app.appContext.config.globalProperties.$t("inboundpageLang.qty_exceed");\n                    break;\n                } // if\n\n                // check if the transfer quantity is more than 0 and the new location is empty\n                if (parseInt(currentRowQty) > 0 && currentRowNewLoc === "") {\n                    hasError = true;\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = currentRowPN + " " + app.appContext.config.globalProperties.$t("inboundpageLang.newloc_empty");\n                    break;\n                } // if\n\n                // check if the transfer quantity is more than 0 and the new location is the same as the old location\n                if (parseInt(currentRowQty) > 0 && currentRowNewLoc === currentRowLoc) {\n                    hasError = true;\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = currentRowPN + " " + app.appContext.config.globalProperties.$t("inboundpageLang.newloc_same");\n                    break;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let ogLocArray = [];\n            let newLocArray = [];\n            let qtyArray = [];\n            for (let j = 0; j < checkedRows.length; j++) {\n                pnArray.push(checkedRows[j].料號);\n                ogLocArray.push(checkedRows[j].儲位);\n                newLocArray.push(checkedRows[j].新儲位);\n                qtyArray.push(checkedRows[j].調撥數量);\n            } // for\n\n            // actually updating database now\n            let start = Date.now();\n            let result = await locTransfer(pnArray, ogLocArray, newLocArray, qtyArray);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                data.splice(0);\n                checkedRows.splice(0);\n                await getMats();\n            } // if\n            else {\n                if (errors.value.hasOwnProperty(\'insufficient_pn\')) {\n                    // console.log(errors.value.insufficient_pn[0]); // test\n                    isInvalid_DB.value = true;\n                    let temp_str = "";\n                    for (let i = 0; i < errors.value.insufficient_pn.length; i++) {\n                        temp_str += errors.value.insufficient_pn[i] + "(" + errors.value.insufficient_oldLoc[i] + ")" + ", ";\n                    } // for\n                    // remove the last comma\n                    temp_str = temp_str.slice(0, -2);\n                    validation_err_msg.value = temp_str + " " + app.appContext.config.globalProperties.$t("inboundpageLang.altered_by_other_recently");\n                    data.splice(0);\n                    checkedRows.splice(0);\n                    await getMats();\n                } // if\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(mats, async () => {\n            await triggerModal();\n            // console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            JSON.parse(locations.value).data.forEach(element => {\n                locsArray.push(element.儲存位置);\n            });\n\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                allRowsObj.datas[i].id = i;\n                allRowsObj.datas[i].新儲位 = "";\n                allRowsObj.datas[i].調撥數量 = 0;\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        // console.log(row);\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                // {\n                //     label: app.appContext.config.globalProperties.$t(\n                //         "basicInfoLang.format"\n                //     ),\n                //     field: "規格",\n                //     width: "13ch",\n                //     sortable: true,\n                //     display: function (row, i) {\n                //         return (\n                //             \'<div class="CustomScrollbar text-nowrap"\' +\n                //             \' style="overflow-x: auto; width: 100%;">\' +\n                //             row.規格 +\n                //             "</div>"\n                //         );\n                //     },\n                // },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.nowstock"\n                    ),\n                    field: "現有庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.現有庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.transferamount"\n                    ),\n                    field: "調撥數量",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.newloc"\n                    ),\n                    field: "新儲位",\n                    width: "13ch",\n                    sortable: false,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.updatetime"\n                    ),\n                    field: "最後更新時間",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.最後更新時間 === null || row.最後更新時間 === undefined) row.最後更新時間 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.最後更新時間 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.儲位\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "最後更新時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            searchTerm,\n            table,\n            isInvalid_DB,\n            validation_err_msg,\n            updateCheckedRows,\n            onSendToDBClick,\n            locsArray,\n            CheckCurrentRow,\n        };\n    }, // setup\n});\n<\/script>\n\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},3988:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-ac64277c] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundLocTransferRecord.vue"],names:[],mappings:"AA4VA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'inboundpageLang.LocationChangeRecord\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'inboundpageLang.enterisn_or_loc\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="row col col-auto text-center align-items-center justify-content-between">\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio1"\n                            value="month" v-model="picked" checked>\n                        <label class="form-check-label" for="inlineRadio1">{{ $t(\'inboundpageLang.within_a_month\') }}</label>\n                    </div>\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio2"\n                            value="quarter" v-model="picked">\n                        <label class="form-check-label" for="inlineRadio2">{{ $t(\'inboundpageLang.within_three_months\') }}</label>\n                    </div>\n                    <div class="form-check form-check-inline col col-auto m-0">\n                        <input class="form-check-input" type="radio" name="inlineRadioOptions" id="inlineRadio3"\n                            value="year" v-model="picked">\n                        <label class="form-check-label" for="inlineRadio3">{{ $t(\'inboundpageLang.within_a_year\') }}</label>\n                    </div>\n                </div>\n            </div>\n            <div class="w-100" style="height: 0ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-between">\n                <span class="col col-auto text-danger fw-bold">\n                </span>\n                <span class="col col-auto text-danger fw-bold">\n                    {{ $t(\'inboundpageLang.stock_within_brackets\') }}\n                </span>\n            </div>\n            <table-lite id="searchTable" :is-fixed-first-column="true" :isStaticMode="true" :isSlotMode="true"\n                :hasCheckbox="false" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                :is-loading="table.isLoading" @is-finished="table.isLoading = false">\n            </table-lite>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\n\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, errors, getLocTransferRecord } = useInboundStockSearch(); // axios get the mats data\n        const { queryResult, locations, validateISN, getLocs } = useCommonlyUsedFunctions();\n\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getLocTransferRecord(JSON.stringify("month"), JSON.stringify("none"), JSON.stringify("none"));\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        const picked = ref("month");\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        watch(picked, async () => {\n            await triggerModal();\n            table.isLoading = true;\n            await getLocTransferRecord(JSON.stringify(picked.value), JSON.stringify("none"), JSON.stringify("none"));\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(mats, async () => {\n            await triggerModal();\n            table.isLoading = true;\n            data.splice(0); // clear the data\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                allRowsObj.data[i].id = i;\n                data.push(allRowsObj.data[i]);\n            } // for\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                // {\n                //     label: app.appContext.config.globalProperties.$t(\n                //         "basicInfoLang.format"\n                //     ),\n                //     field: "規格",\n                //     width: "13ch",\n                //     sortable: true,\n                //     display: function (row, i) {\n                //         return (\n                //             \'<div class="CustomScrollbar text-nowrap"\' +\n                //             \' style="overflow-x: auto; width: 100%;">\' +\n                //             row.規格 +\n                //             "</div>"\n                //         );\n                //     },\n                // },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.orig_loc"\n                    ),\n                    field: "調出儲位",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.調出儲位 === null || row.調出儲位 === undefined) row.調出儲位 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.調出儲位 + \' <small>( \' + row.原調出儲位庫存 + \' \' + row.單位 + \' )</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.transferamount"\n                    ),\n                    field: "調動數量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.調動數量 === null || row.調動數量 === undefined) row.調動數量 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar row justify-content-between"\' +\n                            \' style="overflow-x: auto;">\' +\n                            \'<span class="col col-auto m-0 p-0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg></span>\' +\n                            \'<span class="col col-auto m-0 p-0 fw-bold">\' +\n                            row.調動數量 + \' <small>\' + row.單位 + \'</small>\' +\n                            \'</span>\' +\n                            \'<span class="col col-auto m-0 p-0"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 512 512"><path d="M502.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-128-128c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L402.7 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l370.7 0-73.4 73.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l128-128z"/></svg></span>\' +\n                            \'</div>\'\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.newloc"\n                    ),\n                    field: "接收儲位",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.接收儲位 === null || row.接收儲位 === undefined) row.接收儲位 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.接收儲位 + \' <small>( \' + row.原接收儲位庫存 + \' \' + row.單位 + \' )</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inpeople"\n                    ),\n                    field: "操作人",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.操作人 === null || row.操作人 === undefined) row.操作人 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.姓名 + \' ( \' + row.操作人 + \' )\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.operateTime"\n                    ),\n                    field: "操作時間",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.操作時間 === null || row.操作時間 === undefined) row.操作時間 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.操作時間 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.調出儲位\n                        .includes(searchTerm.value) ||\n                    x.接收儲位\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "操作時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            searchTerm,\n            table,\n            picked,\n        };\n    }, // setup\n});\n<\/script>\n\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},2752:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-844f11fa] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundMonthTable.vue"],names:[],mappings:"AA4YA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-6 p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'inboundpageLang.download\')" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false"\n        :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n        :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n        @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n        <template v-slot:月請購="{ row, key }">\n            <span v-if="row.月請購 == \'是\'">{{ $t("basicInfoLang.yes") }}</span>\n            <span v-else>{{ $t("basicInfoLang.no") }}</span>\n        </template>\n    </table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\n\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n\n    setup() {\n        const { mats, getMats } = useInboundStockSearch(); // axios get the mats data\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const OutputExcelClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("inboundpageLang.stockmonth"));\n\n            let today = new Date().toISOString().slice(0, 10);\n            // Add header row\n            worksheet.addRow([\n                app.appContext.config.globalProperties.$t("inboundpageLang.isn"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.pName"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.format"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.nowstock"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.monthuse"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.stockmonth"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.price"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.money"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.month"),\n            ]);\n\n            // Add data rows\n            data.forEach(item => {\n                worksheet.addRow([\n                    item.料號,\n                    item.品名,\n                    item.規格,\n                    `${item.現有庫存} ${item.單位}`,\n                    item.月使用量,\n                    item.庫存使用月數,\n                    item.單價,\n                    item.幣別,\n                    item.月請購 === \'是\' ? app.appContext.config.globalProperties.$t("basicInfoLang.yes") : app.appContext.config.globalProperties.$t("basicInfoLang.no")\n                ]);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/octet-stream" });\n            FileSaver.saveAs(blob, `${app.appContext.config.globalProperties.$t("inboundpageLang.stockmonth")}_${today}.xlsx`);\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n        watch(mats, () => {\n            // console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="isn\' +\n                            i +\n                            \'" name="isn\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.nowstock"\n                    ),\n                    field: "現有庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="stock\' +\n                            i +\n                            \'" name="stock\' +\n                            i +\n                            \'" value="\' +\n                            row.現有庫存 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.現有庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.monthuse"\n                    ),\n                    field: "月使用量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="monthuse\' +\n                            i +\n                            \'" name="monthuse\' +\n                            i +\n                            \'" value="\' +\n                            row.月使用量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.月使用量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.stockmonth"\n                    ),\n                    field: "庫存使用月數",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="monthstock\' +\n                            i +\n                            \'" name="monthstock\' +\n                            i +\n                            \'" value="\' +\n                            row.庫存使用月數 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.庫存使用月數 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.price"\n                    ),\n                    field: "單價",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="price\' +\n                            i +\n                            \'" name="price\' +\n                            i +\n                            \'" value="\' +\n                            row.單價 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.單價 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.money"\n                    ),\n                    field: "幣別",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="money\' +\n                            i +\n                            \'" name="money\' +\n                            i +\n                            \'" value="\' +\n                            row.幣別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.幣別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.month"\n                    ),\n                    field: "月請購",\n                    width: "10ch",\n                    sortable: true,\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "月使用量",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n        };\n\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n            OutputExcelClick,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},9743:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-34829a67] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundSearchTable.vue"],names:[],mappings:"AA2eA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-6 p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'basicInfoLang.enterisn\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            \x3c!-- <button type="submit" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                @click="DeleteRowsClick">\n                <i class="bi bi-trash3-fill fs-4"></i>\n            </button>\n            &nbsp; --\x3e\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'inboundpageLang.download\')" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div> \x3c!-- </div>breaks cols to a new line--\x3e\n    <span class="invalid-feedback d-block" role="alert">\n        <strong>{{ $t("inboundpageLang.no_basic_are_highlighted") }}</strong>\n    </span>\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :is-loading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport useInboundListSearch from "../../composables/InboundListSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats, deleteRows } = useInboundListSearch(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        let checkedRows = [];\n        const DeleteRowsClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            let rows_to_be_deleted = {\n                list: [],\n                isn: [],\n                amount: [],\n                position: [],\n                inpeople: [],\n                inreason: [],\n                intime: []\n            };\n\n            if (checkedRows !== undefined && checkedRows.length > 0) {\n                // console.log(checkedRows[0]); // test\n                checkedRows.forEach(row => {\n                    rows_to_be_deleted.list.push(row.入庫單號);\n                    rows_to_be_deleted.isn.push(row.料號);\n                    rows_to_be_deleted.amount.push(row.入庫數量);\n                    rows_to_be_deleted.position.push(row.儲位);\n                    rows_to_be_deleted.inpeople.push(row.入庫人員);\n                    rows_to_be_deleted.inreason.push(row.入庫原因);\n                    rows_to_be_deleted.intime.push(row.入庫時間);\n                });\n\n                let result = await deleteRows(rows_to_be_deleted);\n                if (result === "success") {\n                    notyf.open({\n                        type: "success",\n                        message: app.appContext.config.globalProperties.$t("inboundpageLang.change") + " " + app.appContext.config.globalProperties.$t("inboundpageLang.success"),\n                        duration: 3000, //miliseconds, use 0 for infinite duration\n                        ripple: true,\n                        dismissible: true,\n                        position: {\n                            x: "right",\n                            y: "bottom",\n                        },\n                    });\n\n                    rows_to_be_deleted.intime.forEach(element => {\n\n                        let indexOfObject = checkedRows.findIndex(object => {\n                            return object.入庫時間 === element.replace(\'inboundtime\', \'\');\n                        });\n                        if (indexOfObject != -1) {\n                            data.splice(indexOfObject, 1);\n                        } // if\n                    });\n\n                    document.getElementsByClassName("vtl-tbody-checkbox").forEach(element => {\n                        if (element.checked) {\n                            element.click();\n                        } // if\n                    });\n\n                    checkedRows = [];\n                } // if\n                else {\n                    //庫存小於入庫數量\n                    console.log(result.response.data); // test\n                    if (result.response.status === 420) {\n                        let mess =\n                            app.appContext.config.globalProperties.$t("inboundpageLang.lessstock");\n\n                        notyf.open({\n                            type: "warning",\n                            message: mess,\n                            duration: 3000, //miliseconds, use 0 for infinite duration\n                            ripple: true,\n                            dismissible: true,\n                            position: {\n                                x: "right",\n                                y: "bottom",\n                            },\n                        });\n\n                        // console.log(result.response.data.success_list); // test\n                        result.response.data.success_list.forEach(element => {\n                            let indexOfObject = data.findIndex(object => {\n                                return parseInt(object.id) === parseInt(element[3].replace(\'inboundtime\', \'\'));\n                            });\n\n                            if (indexOfObject != -1) {\n                                data.splice(indexOfObject, 1);\n                            } // if\n                        });\n                    } // if \n                    else if (result.response.status === 421) {\n                        var mess = result.response.data.message;\n                        alert(mess);\n                    } // else if\n                } // else\n            } // if\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // DeleteRowsClick\n\n        const OutputExcelClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("inboundpageLang.inlist"));\n            \n            let today = new Date().toISOString().slice(0, 10);\n            // Add header row\n            worksheet.addRow([\n                app.appContext.config.globalProperties.$t("inboundpageLang.inlist"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.isn"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.inboundnum"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.loc"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.inpeople"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.inreason"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.inboundtime"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.mark"),\n            ]);\n\n            // Add data rows\n            data.forEach(item => {\n                worksheet.addRow([\n                    item.入庫單號,\n                    item.料號,\n                    `${item.入庫數量} ${item.單位}`,\n                    item.儲位,\n                    item.入庫人員,\n                    item.入庫原因,\n                    item.入庫時間,\n                    item.備註\n                ]);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/octet-stream" });\n            FileSaver.saveAs(blob, `${app.appContext.config.globalProperties.$t("inboundpageLang.inlist")}_${today}.xlsx`);\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        // pour the data in\n        const data = reactive([]);\n\n        watch(mats, () => {\n            let allRowsObj = JSON.parse(mats.value);\n            // console.log(allRowsObj.datas); // test\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                allRowsObj.datas[i].id = i;\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inlist"\n                    ),\n                    field: "入庫單號",\n                    width: "14ch",\n                    sortable: true,\n                    iskey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.單位 === null) {\n                            return (\n                                \'<div class="text-danger text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inboundnum"\n                    ),\n                    field: "入庫數量",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.單位 === null) {\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.入庫數量 + \' <small class="text-danger">\' +\n                                app.appContext.config.globalProperties.$t("inboundpageLang.no_basic") + "</small>" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.入庫數量 + " <small>" + row.單位 + "</small>" +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="position\' +\n                            i +\n                            \'" name="position\' +\n                            i +\n                            \'" value="\' +\n                            row.儲位 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inpeople"\n                    ),\n                    field: "入庫人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundpeople\' +\n                            i +\n                            \'" name="inboundpeople\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inreason"\n                    ),\n                    field: "入庫原因",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundreason\' +\n                            i +\n                            \'" name="inboundreason\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inboundtime"\n                    ),\n                    field: "入庫時間",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundtime\' +\n                            row.id +\n                            \'" name="inboundtime\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.備註 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase())\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "入庫時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n            DeleteRowsClick,\n            OutputExcelClick\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},4483:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-36fd5b5a] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundStockTable.vue"],names:[],mappings:"AAuVA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-6 p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'inboundpageLang.download\')" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :isStaticMode="true" :isSlotMode="true" :hasCheckbox="false"\n        :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n        :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n        @is-finished="table.isLoading = false">\n        <template v-slot:料號="{ row, key }">\n            <div class="CustomScrollbar text-nowrap"\n                style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\n                {{ row.料號 }}\n            </div>\n        </template>\n        <template v-slot:月請購="{ row, key }">\n            <span v-if="row.月請購 == \'是\'">{{ $t("basicInfoLang.yes") }}</span>\n            <span v-else>{{ $t("basicInfoLang.no") }}</span>\n        </template>\n    </table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n\n    setup() {\n        const { mats, getMats } = useInboundStockSearch(); // axios get the mats data\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const OutputExcelClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("inboundpageLang.stock"));\n\n            const today = new Date().toISOString().slice(0, 10);\n            // Add header row\n            worksheet.addRow([\n                app.appContext.config.globalProperties.$t("inboundpageLang.isn"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.pName"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.format"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.stock"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.loc"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.month"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.safe"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.price"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.money"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.days"),\n            ]);\n\n            // Add data rows\n            data.forEach(item => {\n                worksheet.addRow([\n                    item.料號,\n                    item.品名,\n                    item.規格,\n                    `${item.現有庫存} ${item.單位}`,\n                    item.儲位,\n                    item.月請購 === \'是\' ? app.appContext.config.globalProperties.$t("basicInfoLang.yes") : app.appContext.config.globalProperties.$t("basicInfoLang.no"),\n                    item.安全庫存,\n                    item.單價,\n                    item.幣別,\n                    item.呆滯天數\n                ]);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/octet-stream" });\n            FileSaver.saveAs(blob, `${app.appContext.config.globalProperties.$t("inboundpageLang.stock")}_${today}.xlsx`);\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n        watch(mats, () => {\n            // console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n            // console.log(data); // test\n\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.stock"\n                    ),\n                    field: "庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.現有庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.month"\n                    ),\n                    field: "月請購",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.safe"\n                    ),\n                    field: "安全庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.安全庫存 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.price"\n                    ),\n                    field: "單價",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.單價 + \'&nbsp;<small>\' + row.幣別 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.days"\n                    ),\n                    field: "呆滯天數",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="days\' +\n                            i +\n                            \'" name="days\' +\n                            i +\n                            \'" value="\' +\n                            row.呆滯天數 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.呆滯天數 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "料號",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        return {\n            searchTerm,\n            table,\n            OutputExcelClick,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},8883:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-885241c4] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/InboundStockUploadTable.vue"],names:[],mappings:"AA23BA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'inboundpageLang.click_the_flow_number\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="sxbInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="sxbInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'inboundpageLang.enterSSZ\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                \x3c!-- <div class="col col-auto">\n                    <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                        :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(\'All\')">\n                        <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                    </button>\n                </div> --\x3e\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-loading="table.isLoading" :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false"\n                :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n                :page-options="table.pageOptions" :sortable="table.sortable" :is-fixed-first-column="false">\n                <template v-slot:FlowNumber="{ row, key }">\n                    <div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">\n                        <a @click="openSSZDetails(row.FlowNumber)" data-bs-toggle="modal" data-bs-target="#detailTable"\n                            class="m-0 p-0">{{ row.FlowNumber }}</a>\n                        <button @click="openSSZDetails(row.FlowNumber)" type="button" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" class="btn btn-outline-info btn-sm mx-1 my-0 px-1 py-0"\n                            style="border-radius: 20px;" :name="\'sxb\' + key">More</button>\n                    </div>\n                </template>\n                <template v-slot:status="{ row, key }">\n                    <div class="col col-auto align-items-center m-0 p-0">\n                        <a v-if="row.status.toLowerCase().includes(\'reject\')" @click="openSSZDetails(row.FlowNumber)"\n                            data-bs-toggle="modal" data-bs-target="#detailTable" class="m-0 p-0" style="color: red;">\n                            {{ $t("monthlyPRpageLang.review_cancel") }}\n                        </a>\n                        <a v-else class="m-0 p-0" @click="openSSZDetails(row.FlowNumber)" data-bs-toggle="modal"\n                            data-bs-target="#detailTable" style="color: #2bb91b;">\n                            {{ $t("monthlyPRpageLang.review_complete") }}\n                        </a>\n                    </div>\n                </template>\n            </table-lite>\n        </div>\n    </div>\n    \x3c!-- Modal --\x3e\n    <div class="modal fade" id="detailTable" tabindex="-1" aria-labelledby="detailTable" aria-hidden="true">\n        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">\n            <div class="modal-content">\n                <div class="modal-header justify-content-center">\n                    <h1 class="col col-auto modal-title m-0 p-0 fs-4">\n                        {{ modalTitle }}\n                    </h1>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="row justify-content-between">\n                        <div class="row col col-auto">\n                            <div class="col col-auto">\n                                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}\n                                    :</label>\n                            </div>\n                            <div class="col col-auto p-0 m-0">\n                                <input id="pnInput" class="text-center form-control form-control-lg"\n                                    v-bind:placeholder="$t(\'inboundpageLang.enterisn_or_spec\')" v-model="searchTerm2" />\n                            </div>\n                        </div>\n                        \x3c!-- <div class="col col-auto">\n                            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(modalTitle)">\n                                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                            </button>\n                        </div> --\x3e\n                    </div>\n                    <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                    <table-lite id="searchTable2" :is-loading="table2.isLoading" :is-fixed-first-column="true"\n                        :isStaticMode="true" :isSlotMode="true" :hasCheckbox="false" :messages="table2.messages"\n                        :columns="table2.columns" :rows="table2.rows" :total="table2.totalRecordCount"\n                        :page-options="table2.pageOptions" :sortable="table2.sortable"\n                        @is-finished="table2.isLoading = false">\n                        <template v-slot:relQty="{ row, key }">\n                            <div class="col col-auto align-items-center m-0 p-0">\n                                <div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">\n                                    {{ parseInt(row.relQty).toLocaleString("en-US") }}\n                                </div>\n                            </div>\n                        </template>\n\n                        <template v-slot:新儲位="{ row, key }">\n                            <div v-if="!(row.status.toLowerCase().includes(\'reject\')) && row.ClaimedStaff == null"\n                                class="col col-auto p-0 m-0">\n                                <select v-model="row.新儲位" style="width: 11ch;"\n                                    class="col col-auto form-select form-select-lg ps-2 p-0 m-0"\n                                    :id="\'newloc_\' + row.MatShort" :name="\'newloc_\' + row.MatShort">\n                                    <option id="noneSelected" value="" selected>\n                                        {{ $t(\'inboundpageLang.choose\') }}\n                                    </option>\n                                    <option v-for="item in locsArray" :id="item" :value="item">\n                                        {{ item }}\n                                    </option>\n                                </select>\n                            </div>\n                            <div v-else-if="row.status.toLowerCase().includes(\'reject\')">\n                                <span class="m-0 p-0" style="color: red;">\n                                    {{ $t("monthlyPRpageLang.review_cancel") }}\n                                </span>\n                            </div>\n                            <div v-else>\n                                <div class="text-nowrap CustomScrollbar" style="overflow-x: auto; width: 100%;">\n                                    {{ row.ClaimedBy }}\n                                    <br />\n                                    {{ "(" + row.initial_loc + ")" }}\n                                </div>\n                            </div>\n                        </template>\n                    </table-lite>\n                </div>\n                <div v-if="showFooter" class="modal-footer justify-content-center">\n                    <button @click="ssz_claim" type="button" class="btn btn-lg btn-info">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"\n                            class="bi bi-inboxes-fill align-middle mb-1" viewBox="0 0 16 16">\n                            <path\n                                d="M4.98 1a.5.5 0 0 0-.39.188L1.54 5H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0A.5.5 0 0 1 10 5h4.46l-3.05-3.812A.5.5 0 0 0 11.02 1H4.98zM3.81.563A1.5 1.5 0 0 1 4.98 0h6.04a1.5 1.5 0 0 1 1.17.563l3.7 4.625a.5.5 0 0 1 .106.374l-.39 3.124A1.5 1.5 0 0 1 14.117 10H1.883A1.5 1.5 0 0 1 .394 8.686l-.39-3.124a.5.5 0 0 1 .106-.374L3.81.563zM.125 11.17A.5.5 0 0 1 .5 11H6a.5.5 0 0 1 .5.5 1.5 1.5 0 0 0 3 0 .5.5 0 0 1 .5-.5h5.5a.5.5 0 0 1 .496.562l-.39 3.124A1.5 1.5 0 0 1 14.117 16H1.883a1.5 1.5 0 0 1-1.489-1.314l-.39-3.124a.5.5 0 0 1 .121-.393z" />\n                        </svg>\n                        {{ $t(\'inboundpageLang.page_name\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useTransitSearch from "../../composables/TransitSearch.ts";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nimport useSSZSearch from "../../composables/SSZSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nimport useUserSearch from "../../composables/UserSearch.ts";\n\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats_SSZInfo, getSSZ_info, claim_a_mat, updateBasicInfo } = useSSZSearch(); // axios get the mats_SSZInfo data\n        const { mats_inTransit, getTransit, updateInTransit } = useTransitSearch(); // axios get the mats_inTransit data\n        const { mats, getExistingStock } = useInboundStockSearch(); // axios get the mats data\n        const { locations, validateISN, getLocs } = useCommonlyUsedFunctions();\n        const { users, getUsers, current_user, getCurrentUser } = useUserSearch(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            let start = Date.now();\n            table.isLoading = true;\n            table2.isLoading = true;\n            await getLocs();\n            await getUsers();\n            await getSSZ_info();\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken for first query : " + timeTaken + " milliseconds");\n        });\n\n        const searchTerm = ref(""); // Search text\n        const searchTerm2 = ref(""); // Search text for modal table\n        const modalTitle = ref("");\n        let isInvalid_DB = ref(false); // add to DB validation\n        let showFooter = ref(false);\n        const locsArray = reactive([]);\n\n\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        const data2 = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const OutputExcelClick = async (output_range) => {\n            $("body").loadingModal("destroy");\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("inboundpageLang.stock"));\n\n            // Add header row\n            worksheet.addRow([\n                app.appContext.config.globalProperties.$t("inboundpageLang.isn"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.pName"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.format"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.stock"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.loc"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.month"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.safe"),\n                app.appContext.config.globalProperties.$t("basicInfoLang.price"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.money"),\n                app.appContext.config.globalProperties.$t("inboundpageLang.days"),\n            ]);\n\n            // Add data rows\n            data.forEach(item => {\n                worksheet.addRow([\n                    item.料號,\n                    item.品名,\n                    item.規格,\n                    `${item.現有庫存} ${item.單位}`,\n                    item.儲位,\n                    item.月請購 === \'是\' ? app.appContext.config.globalProperties.$t("basicInfoLang.yes") : app.appContext.config.globalProperties.$t("basicInfoLang.no"),\n                    item.安全庫存,\n                    item.單價,\n                    item.幣別,\n                    item.呆滯天數\n                ]);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/octet-stream" });\n            FileSaver.saveAs(blob, `${app.appContext.config.globalProperties.$t("inboundpageLang.stock")}_${today}.xlsx`);\n        } // OutputExcelClick\n\n        const openSSZDetails = (SSZ) => {\n            modalTitle.value = SSZ;\n            searchTerm2.value = "";\n        } // openSSZDetails\n\n        const ssz_claim = async () => {\n            await triggerModal();\n            // get the objects that 新儲位 is not empty and id is modalTitle\n            let claimed_mats = data2.filter(x => x.新儲位 !== "" && x.FlowNumber === modalTitle.value);\n            if (claimed_mats.length === 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let pnArray = claimed_mats.map((obj) => {\n                return obj.MatShort;\n            });\n            let nameArray = claimed_mats.map((obj) => {\n                return "N/A";\n            });\n            let specArray = claimed_mats.map((obj) => {\n                return obj.Spec;\n            });\n            let priceArray = claimed_mats.map((obj) => {\n                return "9999.99";\n            });\n            let currencyArray = claimed_mats.map((obj) => {\n                return "USD";\n            });\n            let unitArray = claimed_mats.map((obj) => {\n                return "N/A";\n            });\n            let mpqArray = claimed_mats.map((obj) => {\n                return "9999";\n            });\n            let moqArray = claimed_mats.map((obj) => {\n                return "9999";\n            });\n            let ltArray = claimed_mats.map((obj) => {\n                return "9999.99";\n            });\n            let gradeaArray = claimed_mats.map((obj) => {\n                return "否";\n            });\n            let monthlyArray = claimed_mats.map((obj) => {\n                return "是";\n            });\n            let dispatcherArray = claimed_mats.map((obj) => {\n                return "N/A";\n            });\n            let safestockArray = claimed_mats.map((obj) => {\n                return "null";\n            });\n\n            // console.log(moqArray); // test\n            // return; // test\n            let result_basic_info_update = "";\n            await updateBasicInfo(pnArray, nameArray, specArray, priceArray, unitArray, currencyArray, mpqArray, moqArray, ltArray, gradeaArray, monthlyArray, dispatcherArray, safestockArray).then((value) => {\n                if (value === "success") {\n                    result_basic_info_update = "success";\n                } // if\n                else {\n                    result = "failed";\n                    console.log(value);\n                } // else\n            });\n            if (result_basic_info_update === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.matsInfo") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.matsInfo") + " " + app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            let start = Date.now();\n            let newStock = claimed_mats.map((obj) => {\n                return [obj.MatShort, obj.relQty, obj.新儲位];\n            });\n\n            let inbound_records = claimed_mats.map((obj) => {\n                return [obj.MatShort, obj.relQty, obj.新儲位, ("入庫(" + obj.FlowNumber + ")")];\n            });\n\n            let tempArr_isn = [];\n            let tempArr_loc = [];\n            newStock.forEach(element => {\n                tempArr_isn.push(element[0]);\n                tempArr_loc.push(element[2]);\n            });\n            let result_get_stock = "";\n            // get the existing stock\n            await getExistingStock(tempArr_isn, tempArr_loc).then((value) => {\n                if (value === "success") {\n                    result_get_stock = "success";\n                } // if\n                else {\n                    result_get_stock = "failed";\n                    console.log(value);\n                } // else\n            });\n            if (result_get_stock === "success") {\n                for (let i = 0; i < newStock.length; i++) {\n                    let foundObj = JSON.parse(mats.value).data.find(\n                        (o) => {\n                            return (o.料號 === newStock[i][0].trim() && o.儲位 === newStock[i][2].trim());\n                        });\n\n                    if (foundObj !== undefined) {\n                        newStock[i][1] = (parseInt(newStock[i][1]) + parseInt(foundObj.現有庫存)).toString();\n                    } // if\n                } // for\n            } // if\n            else {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                console.log("Failed to get existing stock");\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.nowstock_failed"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                return;\n            } // else\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n\n            let result_ssz_inbound = "";\n            await claim_a_mat(modalTitle.value, newStock, inbound_records).then((value) => {\n                if (value === "success") {\n                    result_ssz_inbound = "success";\n                    getSSZ_info();\n                } // if\n                else {\n                    result_ssz_inbound = "failed";\n                    console.log(value);\n                } // else\n            });\n\n            if (result_ssz_inbound === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.page_name") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.page_name") + " " + app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // else\n\n            await getTransit();\n            let isnArray = [];\n            let qtyArray = [];\n            let descriptionArray = [];\n            let result_transit_update = "";\n            // Find the claimed mats in transit\n            claimed_mats.forEach(element => {\n                let obj = JSON.parse(mats_inTransit.value).data.find(o => o.料號 === element.MatShort);\n                if (obj !== undefined) {\n                    isnArray.push(obj.料號);\n                    if (parseFloat(obj.請購數量) - parseFloat(element.relQty) < 0) {\n                        qtyArray.push("0");\n                    } // if\n                    else {\n                        qtyArray.push((parseFloat(obj.請購數量) - parseFloat(element.relQty)).toString());\n                    } // else\n\n                    descriptionArray.push("入庫(" + element.FlowNumber + ")");\n                } // if\n            });\n\n            await updateInTransit(isnArray, qtyArray, descriptionArray).then((value) => {\n                if (value === "success") {\n                    result_transit_update = "success";\n                    getTransit();\n                } // if\n                else {\n                    result_transit_update = "failed";\n                    console.log(value);\n                } // else\n            });\n\n            if (result_transit_update === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.transit") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.transit") + " " + app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 5000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            let temp_openedSSZ = modalTitle.value;\n            modalTitle.value = "";\n            await getSSZ_info();\n            modalTitle.value = temp_openedSSZ;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // ssz_claim\n\n        watch(modalTitle, async () => {\n            if (modalTitle.value !== "") {\n                showFooter.value = true;\n                let obj = data2.find(o => o.FlowNumber === modalTitle.value);\n                if (obj.status.toLowerCase().includes(\'reject\')) {\n                    showFooter.value = false;\n                } // if\n\n                // if all the mats are claimed, then hide the footer\n                let claimed_mats = data2.filter(x => x.FlowNumber === modalTitle.value);\n                let unclaimed_mats = claimed_mats.filter(x => x.ClaimedBy === "" || x.ClaimedBy === null);\n                if (unclaimed_mats.length === 0) {\n                    showFooter.value = false;\n                } // if\n            } // if\n        }); // watch for data change\n\n        watch(mats_SSZInfo, async () => {\n            let start = Date.now();\n            await triggerModal();\n            data.splice(0);\n            data2.splice(0);\n            locsArray.splice(0);\n            let allRowsObj = JSON.parse(mats_SSZInfo.value);\n            // console.log(JSON.parse(users.value)); // test\n            JSON.parse(locations.value).data.forEach(element => {\n                locsArray.push(element.儲存位置);\n            });\n\n            // get unique SSZ number and its status\n            Object.assign(data, [...new Map(allRowsObj.data.map(item => [item["FlowNumber"], item])).values()]);\n\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                allRowsObj.data[i].新儲位 = "";\n                allRowsObj.data[i].姓名 = "N/A";\n                // Find the claimed staff\'s 姓名 in users\n                let obj = JSON.parse(users.value).datas.find(o => o.工號 === allRowsObj.data[i].ClaimedStaff);\n                if (obj !== undefined) {\n                    allRowsObj.data[i].姓名 = obj.姓名;\n                } // if\n                data2.push(allRowsObj.data[i]);\n            } // for\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n            table2.isLoading = false;\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken for data processed : " + timeTaken + " milliseconds");\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.FlowNumber"\n                    ),\n                    field: "FlowNumber",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.status"\n                    ),\n                    field: "status",\n                    width: "6ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pr_sender"\n                    ),\n                    field: "Applicant",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.Applicant === null || row.Applicant === undefined) row.Applicant = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.Applicant +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.updatetime"\n                    ),\n                    field: "received_time",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.received_time === null || row.received_time === undefined) row.received_time = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.received_time +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.FlowNumber\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase())\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "received_time",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const table2 = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "MatShort",\n                    width: "13ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\' +\n                            row.MatShort +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.format"\n                    ),\n                    field: "Spec",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.Spec +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.amount"\n                    ),\n                    field: "relQty",\n                    width: "12ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.newloc"\n                    ),\n                    field: "新儲位",\n                    width: "13ch",\n                    sortable: false,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.mark"\n                    ),\n                    field: "SSZMemo",\n                    width: "11ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.SSZMemo +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inbound_staff"\n                    ),\n                    field: "ClaimedStaff",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.ClaimedStaff === null || row.ClaimedStaff === undefined || row.ClaimedStaff === "") {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                "N/A" +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.ClaimedStaff + " (" + row.姓名 + ")" +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.inboundtime"\n                    ),\n                    field: "claimed_time",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.claimed_time === null || row.claimed_time === undefined || row.claimed_time === "") row.claimed_time = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.claimed_time +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data2.filter((x) =>\n                    x.FlowNumber === modalTitle.value &&\n                    (x.MatShort\n                        .toLowerCase()\n                        .includes(searchTerm2.value.toLowerCase()) ||\n                        x.Spec.toLowerCase().includes(searchTerm2.value.toLowerCase()))\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table2.rows.length;\n            }),\n            sortable: {\n                order: "MatShort",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        /**\n        * Row clicked event\n        */\n        const rowClicked = (row) => {\n            // console.log("Row clicked!", row);\n        };\n\n        return {\n            searchTerm,\n            searchTerm2,\n            table,\n            table2,\n            locsArray,\n            modalTitle,\n            showFooter,\n            isInvalid_DB,\n            openSSZDetails,\n            OutputExcelClick,\n            ssz_claim,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},2101:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-fc727b76] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/MatsInfoTable.vue"],names:[],mappings:"AAutBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-6 p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'inboundpageLang.enterisn_or_spec\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button type="submit" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                @click="deleteRow">\n                <i class="bi bi-trash3-fill fs-4"></i>\n            </button>\n            &nbsp;\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n    <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n        <strong>{{ validation_err_msg }}</strong>\n    </span>\n    <table-lite id="searchTable" :is-fixed-first-column="true" :isStaticMode="true" :isSlotMode="true"\n        :hasCheckbox="true" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n        :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n        :is-loading="table.isLoading" @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n        <template v-slot:品名="{ row, key }">\n            <input v-model="row.品名" @input="CheckCurrentRow($event);"\n                class="form-control text-center align-self-center p-0 m-0" style="width: 13ch;" :id="\'pname\' + row.id"\n                :name="\'pname\' + key" :value="row.品名" />\n        </template>\n        <template v-slot:單價_幣別="{ row, key }">\n            \x3c!-- DON\'T Use input-group here. It messes with the z-index --\x3e\n            <div class="row">\n                <input v-model="row.單價" @input="CheckCurrentRow($event);"\n                    class="form-control text-center align-self-center p-0 m-0 col col-auto"\n                    style="width: 8ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                    type="number" step="0.001" min="0" :id="\'price\' + row.id" :name="\'price\' + key" />\n                <select v-model="row.幣別" @input="CheckCurrentRow($event);"\n                    style="width: 8ch; border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;"\n                    class="form-select align-self-center ps-2 p-0 m-0 col col-auto" :id="\'money\' + row.id"\n                    :name="\'money\' + key">\n                    <template v-for="item in currencyDict">\n                        <option :selected="row.幣別 === item" :value="item">\n                            {{ item }}\n                        </option>\n                    </template>\n                </select>\n            </div>\n        </template>\n        <template v-slot:單位="{ row, key }">\n            <input v-model="row.單位" @input="CheckCurrentRow($event);"\n                class="form-control text-center align-self-center p-0 m-0" style="width: 5ch;" :id="\'unit\' + row.id"\n                :name="\'unit\' + key" :value="row.單位" />\n        </template>\n        <template v-slot:MPQ="{ row, key }">\n            \x3c!-- DON\'T Use input-group here. It messes with the z-index --\x3e\n            <div class="row">\n                <input v-model="row.MPQ" @input="CheckCurrentRow($event);"\n                    class="form-control text-center p-0 m-0 col col-auto"\n                    style="width: 5ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                    type="number" min="0" :id="\'mpq\' + row.id" :name="\'mpq\' + key" :value="row.MPQ" />\n                <small class="input-group-text text-center align-self-center p-0 m-0 col col-auto"\n                    style="border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;">\n                    {{ row.單位 }}\n                </small>\n            </div>\n        </template>\n        <template v-slot:MOQ="{ row, key }">\n            \x3c!-- DON\'T Use input-group here. It messes with the z-index --\x3e\n            <div class="row">\n                <input v-model="row.MOQ" @input="CheckCurrentRow($event);"\n                    class="form-control text-center p-0 m-0 col col-auto"\n                    style="width: 5ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                    type="number" min="0" :id="\'moq\' + row.id" :name="\'moq\' + key" :value="row.MOQ" />\n                <small class="input-group-text text-center align-self-center p-0 m-0 col col-auto"\n                    style="border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;">\n                    {{ row.單位 }}\n                </small>\n            </div>\n        </template>\n        <template v-slot:LT="{ row, key }">\n            <input v-model="row.LT" @input="CheckCurrentRow($event);" class="form-control text-center p-0 m-0"\n                style="width: 5ch;" type="number" min="0" :id="\'lt\' + row.id" :name="\'lt\' + key"\n                :value="Math.round(row.LT)" />\n        </template>\n        <template v-slot:月請購="{ row, key }">\n            <select v-model="row.月請購" @input="CheckCurrentRow($event);" style="width: 7ch;"\n                class="col col-auto form-select form-select-lg ps-2 p-0 m-0" :id="\'month\' + row.id"\n                :name="\'month\' + key">\n                <option value="是" :selected="row.月請購 === \'是\'">{{ $t("basicInfoLang.yes") }}</option>\n                <option value="否" :selected="row.月請購 === \'否\'">{{ $t("basicInfoLang.no") }}</option>\n            </select>\n        </template>\n        <template v-slot:A級資材="{ row, key }">\n            <select v-model="row.A級資材" @input="CheckCurrentRow($event);" style="width: 7ch;"\n                class="col col-auto form-select form-select-lg ps-2 p-0 m-0" :id="\'gradea\' + row.id"\n                :name="\'gradea\' + key">\n                <option value="是" :selected="row.A級資材 === \'是\'">{{ $t("basicInfoLang.yes") }}</option>\n                <option value="否" :selected="row.A級資材 === \'否\'">{{ $t("basicInfoLang.no") }}</option>\n            </select>\n        </template>\n        <template v-slot:發料部門="{ row, key }">\n            <select v-model="row.發料部門" @input="CheckCurrentRow($event);" style="width: 10ch;"\n                class="form-select form-select-lg ps-2 p-0 m-0" :id="\'send\' + row.id" :name="\'send\' + key">\n                <template v-for="item in senders">\n                    <option :selected="row.發料部門 === item" :value="item">\n                        {{ item }}\n                    </option>\n                </template>\n            </select>\n        </template>\n        <template v-slot:安全庫存="{ row, key }">\n            <div v-if="row.月請購 === \'否\'">\n                <input v-model="row.安全庫存" :class="{ \'is-invalid\': (row.安全庫存 === null) }"\n                    class="form-control text-center p-0 m-0" style="width: 8ch;" type="number" min="0"\n                    :id="\'safe\' + row.id" :name="\'safe\' + key" :value="row.安全庫存" />\n            </div>\n            <div v-else>\n                <input v-model="row.安全庫存" class="form-control text-center p-0 m-0" style="width: 0ch;"\n                    :id="\'safe\' + row.id" :name="\'safe\' + key" :value="null" hidden />\n                {{ $t("basicInfoLang.differ_by_client") }}\n            </div>\n        </template>\n    </table-lite>\n    <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n    <div class="row justify-content-center">\n        <div class="col col-auto">\n            <button type="submit" id="change" name="change" class="col col-auto fs-3 text-center btn btn-lg btn-info"\n                @click="onSendToDBClick">\n                <i class="bi bi-cloud-upload-fill"></i>\n                {{ $t(\'basicInfoLang.change\') }}\n            </button>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useConsumptiveMaterials from "../../composables/ConsumptiveMaterials.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, queryResult, getMats, deletePN, uploadToDB } = useConsumptiveMaterials(); // axios get the mats data\n\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        const senders = reactive([]); // access the value by senders[0], senders[1] ...\n        let checkedRows = [];\n        let currencyDict = ref([\n            "RMB",\n            "USD",\n            "JPY",\n            "TWD",\n            "VND",\n            "IDR",\n        ]);\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        function CheckCurrentRow(e) {\n            // console.log(e.target.closest(\'tr\').firstChild.firstChild); // test\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        const deleteRow = async () => {\n            let isn = [];\n\n            if (checkedRows.length == 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                return;\n            } // if\n\n            for (let i = 0; i < checkedRows.length; i++) {\n                isn.push(checkedRows[i].料號);\n            } // for\n\n            await triggerModal();\n            let result = await deletePN(isn);\n            if (result === "success") {\n                for (let i = 0; i < checkedRows.length; i++) {\n                    let indexOfObject = data.findIndex(object => {\n                        return parseInt(object.id) === parseInt(checkedRows[i].id);\n                    });\n\n                    if (indexOfObject != -1) {\n                        data.splice(indexOfObject, 1);\n                    } // if\n                } // for\n\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n                if (document.querySelector(".vtl-thead-checkbox").checked) {\n                    document.querySelector(".vtl-thead-checkbox").click();\n                } // if\n                checkedRows = [];\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // deleteRow\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = [];\n\n            for (let i = 0; i < data.length; i++) {\n                let tempObj = {};\n                tempObj.料號 = data[i].料號;\n                tempObj.品名 = data[i].品名;\n                tempObj.規格 = data[i].規格;\n                tempObj.單價 = parseFloat(data[i].單價.toString());\n                tempObj.幣別 = data[i].幣別;\n                tempObj.單位 = data[i].單位;\n                tempObj.MPQ = parseInt(data[i].MPQ.toString());\n                tempObj.MOQ = parseInt(data[i].MOQ.toString());\n                tempObj.LT = parseInt(data[i].LT.toString());\n                if (data[i].月請購 === \'是\') {\n                    tempObj.月請購 = app.appContext.config.globalProperties.$t("basicInfoLang.yes");\n                } else {\n                    tempObj.月請購 = app.appContext.config.globalProperties.$t("basicInfoLang.no");\n                } // if else\n\n                if (data[i].A級資材 === \'是\') {\n                    tempObj.A級資材 = app.appContext.config.globalProperties.$t("basicInfoLang.yes");\n                } else {\n                    tempObj.A級資材 = app.appContext.config.globalProperties.$t("basicInfoLang.no");\n                } // if else\n                tempObj.發料部門 = data[i].發料部門;\n                tempObj.安全庫存 = data[i].安全庫存;\n                rows.push(tempObj);\n            } // for\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("basicInfoLang.matssearch"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.isn"), key: \'料號\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.pName"), key: \'品名\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.format"), key: \'規格\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.price"), key: \'單價\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.money"), key: \'幣別\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.unit"), key: \'單位\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.mpq"), key: \'MPQ\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.moq"), key: \'MOQ\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.lt"), key: \'LT\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.month"), key: \'月請購\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.gradea"), key: \'A級資材\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.senddep"), key: \'發料部門\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("basicInfoLang.safe"), key: \'安全庫存\', width: 20 },\n            ];\n\n            rows.forEach((row) => {\n                worksheet.addRow(row);\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("basicInfoLang.matssearch") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        }; // OutputExcelClick\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onSendToDBClick = async () => {\n            // console.log(selected_mail.value); // test\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(checkedRows.length); //test\n            if (checkedRows.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // trim the white spaces and validate safestock if non-monthly\n            for (let j = 0; j < checkedRows.length && hasError === false; j++) {\n                checkedRows[j].料號 = checkedRows[j].料號.toString().trim();\n                checkedRows[j].品名 = checkedRows[j].品名.toString().trim();\n                checkedRows[j].規格 = checkedRows[j].規格.toString().trim();\n                checkedRows[j].單價 = checkedRows[j].單價.toString().trim();\n                checkedRows[j].幣別 = checkedRows[j].幣別.toString().trim();\n                checkedRows[j].單位 = checkedRows[j].單位.toString().trim();\n                checkedRows[j].MPQ = checkedRows[j].MPQ.toString().trim();\n                checkedRows[j].MOQ = checkedRows[j].MOQ.toString().trim();\n                checkedRows[j].LT = checkedRows[j].LT.toString().trim();\n                checkedRows[j].A級資材 = checkedRows[j].A級資材.toString().trim();\n                checkedRows[j].月請購 = checkedRows[j].月請購.toString().trim();\n                checkedRows[j].發料部門 = checkedRows[j].發料部門.toString().trim();\n                if (checkedRows[j].月請購 === \'否\') {\n                    if (checkedRows[j].安全庫存 === null) {\n                        hasError = true;\n                        validation_err_msg.value =\n                            app.appContext.config.globalProperties.$t("basicInfoLang.entersafe") +\n                            " ( " + checkedRows[j].料號 + " ) ";\n                    } else {\n                        checkedRows[j].安全庫存 = checkedRows[j].安全庫存.toString().trim();\n                    } // if else\n                } else {\n                    checkedRows[j].安全庫存 = "null";\n                } // if else\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let nameArray = [];\n            let specArray = [];\n            let priceArray = [];\n            let currencyArray = [];\n            let unitArray = [];\n            let mpqArray = [];\n            let moqArray = [];\n            let ltArray = [];\n            let gradeaArray = [];\n            let monthlyArray = [];\n            let dispatcherArray = [];\n            let safestockArray = [];\n            for (let j = 0; j < checkedRows.length; j++) {\n                pnArray.push(checkedRows[j].料號);\n                nameArray.push(checkedRows[j].品名);\n                specArray.push(checkedRows[j].規格);\n                priceArray.push(checkedRows[j].單價);\n                currencyArray.push(checkedRows[j].幣別);\n                unitArray.push(checkedRows[j].單位);\n                mpqArray.push(checkedRows[j].MPQ);\n                moqArray.push(checkedRows[j].MOQ);\n                ltArray.push(checkedRows[j].LT);\n                gradeaArray.push(checkedRows[j].A級資材);\n                monthlyArray.push(checkedRows[j].月請購);\n                dispatcherArray.push(checkedRows[j].發料部門);\n                safestockArray.push(checkedRows[j].安全庫存);\n            } // for\n\n            // console.log(pnArray, nameArray, specArray, priceArray, currencyArray, unitArray, mpqArray, moqArray, ltArray, gradeaArray, monthlyArray, dispatcherArray, safestockArray); // test\n\n            // actually updating database now\n            let start = Date.now();\n            let result = await uploadToDB(pnArray, nameArray, specArray, priceArray, unitArray, currencyArray, mpqArray, moqArray, ltArray, gradeaArray, monthlyArray, dispatcherArray, safestockArray);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + JSON.parse(queryResult.value).record + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(mats, async () => {\n            await triggerModal();\n            // console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            // console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.senders.length; i++) {\n                senders.push(allRowsObj.senders[i]);\n            } // for\n\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                allRowsObj.datas[i].id = i;\n                allRowsObj.datas[i].單價 = parseFloat(allRowsObj.datas[i].單價);\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.format"\n                    ),\n                    field: "規格",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t("basicInfoLang.price"),\n                    field: "單價_幣別",\n                    width: "16ch",\n                    sortable: false,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.unit"\n                    ),\n                    field: "單位",\n                    width: "6ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.mpq"\n                    ),\n                    field: "MPQ",\n                    width: "8ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.moq"\n                    ),\n                    field: "MOQ",\n                    width: "8ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.lt"\n                    ),\n                    field: "LT",\n                    width: "7ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.month"\n                    ),\n                    field: "月請購",\n                    width: "9ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.gradea"\n                    ),\n                    field: "A級資材",\n                    width: "9ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.senddep"\n                    ),\n                    field: "發料部門",\n                    width: "12ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.safe"\n                    ),\n                    field: "安全庫存",\n                    width: "13ch",\n                    sortable: true,\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.規格\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "料號",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            checkedRows = rowsKey;\n            // console.log(rowsKey); // test\n        };\n\n        return {\n            searchTerm,\n            table,\n            isInvalid_DB,\n            validation_err_msg,\n            updateCheckedRows,\n            CheckCurrentRow,\n            deleteRow,\n            OutputExcelClick,\n            onSendToDBClick,\n            currencyDict,\n            senders,\n        };\n    }, // setup\n});\n<\/script>\n\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},1484:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-3512057c] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/MatsInfoUploadTable.vue"],names:[],mappings:"AAwiCA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t("basicInfoLang.upload") }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto ">\n                    <a :href="exampleUrl" download>\n                        {{ $t(\'inboundpageLang.exampleExcel\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'inboundpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'basicInfoLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <button id="togglebtn" class="btn btn-primary col col-auto" type="button" data-bs-toggle="collapse"\n        data-bs-target="#importedtable" aria-expanded="false" aria-controls="importedtable" style="display: none;">\n    </button>\n\n    <div class="card collapse" id="importedtable">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n            </table-lite>\n            <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" type="submit" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'inboundpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport TableLite from "./TableLite.vue";\nimport useConsumptiveMaterials from "../../composables/ConsumptiveMaterials.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        let exampleUrl = ref(window.location.origin + \'/download/MaterialExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, queryResult, uploadToDB, getDispatchers } = useConsumptiveMaterials(); // axios get the mats data\n\n        let isInvalid = ref(false); // validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        let dispatchers = [];\n        const file = ref();\n        let input_data;\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            mats.value = "";\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\' });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined || input_data[0][0] === undefined || input_data[0][1] === undefined || input_data[0][2] === undefined) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else if (input_data[0][0].trim() !== "料號" || input_data[0][1].trim() !== "品名" || input_data[0][2].trim() !== "規格") {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][0] != undefined && input_data[i].length > 2 && input_data[i][0].trim() != "" && input_data[i][0].trim() != null) {\n                                    tempArr.push(input_data[i][0].trim());\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n                            } // for\n\n                            // console.log(tempArr); // test\n                            await triggerModal();\n                            await getDispatchers();\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            data.splice(0); // cleanup data from previous upload\n            queryResult.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n            if ($("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n        } // onInputChange\n\n        const searchTerm = ref(""); // Search text\n\n        // pour the data in\n        const data = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onSendToDBClick = async () => {\n            await triggerModal();\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n\n            // validate if there\'s duplicate values in excel\n            let duplicatedArray = Array();\n            for (let i = 0; i < data.length; i++) {\n                // console.log(data[i].料號.trim() + "_" + data[i].儲位.toString().trim()); // test\n                if (data[i].料號 != null && data[i].料號.trim() != "") {\n                    duplicatedArray.push(data[i].料號.toString().trim());\n                } // if\n            } // for\n\n            let findDuplicatesResult = findDuplicates(duplicatedArray);\n            // console.log(findDuplicatesResult); // test\n            if (findDuplicatesResult.length > 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.repeated_isn") +\n                    " : " + findDuplicatesResult[0];\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if theres any \'text-danger\' in class names\n\n            if (document.getElementsByClassName("text-danger").length > 0) {\n                let idStr = document.getElementsByClassName("text-danger")[0].parentNode.childNodes[0].getAttribute("id");\n                rowsCount = idStr.replace(/[^0-9]/g, "");\n                hasError = true;\n                console.log(idStr, rowsCount); // test\n            } // if\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    "Excel " +\n                    app.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error") + " " +\n                    app.appContext.config.globalProperties.$t("inboundpageLang.row") +\n                    " " + rowsCount + " " +\n                    "(" + document.getElementById("number" + rowsCount).value + ") ";\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let nameArray = [];\n            let specArray = [];\n            let priceArray = [];\n            let currencyArray = [];\n            let unitArray = [];\n            let mpqArray = [];\n            let moqArray = [];\n            let ltArray = [];\n            let gradeaArray = [];\n            let monthlyArray = [];\n            let dispatcherArray = [];\n            let safestockArray = [];\n            for (let j = 0; j < data.length; j++) {\n                pnArray.push(data[j].料號);\n                nameArray.push(data[j].品名);\n                specArray.push(data[j].規格);\n                priceArray.push(data[j].單價);\n                currencyArray.push(data[j].幣別);\n                unitArray.push(data[j].單位);\n                mpqArray.push(data[j].MPQ);\n                moqArray.push(data[j].MOQ);\n                ltArray.push(data[j].LT);\n                if (data[j].A級資材.trim() === "是" || data[j].A級資材.trim().toLowerCase() === "yes") {\n                    gradeaArray.push("是");\n                } else {\n                    gradeaArray.push("否");\n                } // if else\n\n                if (data[j].月請購.trim() === "是" || data[j].月請購.trim().toLowerCase() === "yes") {\n                    monthlyArray.push("是");\n                } else {\n                    monthlyArray.push("否");\n                } // if else\n\n                dispatcherArray.push(data[j].發料部門);\n\n                if (data[j].月請購.trim() === "是" || data[j].月請購.trim().toLowerCase() === "yes") {\n                    safestockArray.push("null");\n                } else {\n                    safestockArray.push(data[j].安全庫存);\n                } // if else\n            } // for\n\n            // console.log(pnArray, nameArray, specArray, priceArray, currencyArray, unitArray, mpqArray, moqArray, ltArray, gradeaArray, monthlyArray, dispatcherArray, safestockArray); // test\n            // actually updating database now\n            let start = Date.now();\n            let result = await uploadToDB(pnArray, nameArray, specArray, priceArray, unitArray, currencyArray, mpqArray, moqArray, ltArray, gradeaArray, monthlyArray, dispatcherArray, safestockArray);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("inboundpageLang.change") + " " + app.appContext.config.globalProperties.$t("inboundpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(queryResult, async () => {\n            await triggerModal();\n            if (queryResult.value === "" || queryResult.value == null || JSON.parse(queryResult.value).data === undefined) {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            for (let i = 0; i < JSON.parse(queryResult.value).data.length; i++) {\n                dispatchers.push(JSON.parse(queryResult.value).data[i].發料部門);\n            } // for\n\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                if (input_data[i][0] !== undefined && input_data[i][1] !== undefined &&\n                    input_data[i][2] !== undefined && input_data[i][3] !== undefined &&\n                    input_data[i][4] !== undefined && input_data[i][5] !== undefined &&\n                    input_data[i][6] !== undefined && input_data[i][7] !== undefined &&\n                    input_data[i][8] !== undefined && input_data[i][9] !== undefined &&\n                    input_data[i][10] !== undefined && input_data[i][11] !== undefined) {\n\n                    singleEntry.料號 = input_data[i][0].toString().trim();\n                    singleEntry.品名 = input_data[i][1].toString().trim();\n                    singleEntry.規格 = input_data[i][2].toString().trim();\n                    singleEntry.單價 = parseFloat(input_data[i][3]);\n                    singleEntry.幣別 = input_data[i][4].toString().trim();\n                    singleEntry.單位 = input_data[i][5].toString().trim();\n                    singleEntry.MPQ = parseInt(input_data[i][6]);\n                    singleEntry.MOQ = parseInt(input_data[i][7]);\n                    singleEntry.LT = parseFloat(input_data[i][8]);\n                    singleEntry.月請購 = input_data[i][9].toString().trim();\n                    singleEntry.A級資材 = input_data[i][10].toString().trim();\n                    singleEntry.發料部門 = input_data[i][11].toString().trim();\n                    singleEntry.安全庫存 = parseInt(input_data[i][12]);\n\n                    if (dispatchers.includes(singleEntry.發料部門)) {\n                        singleEntry.dispatcherError = false;\n                    } else {\n                        singleEntry.dispatcherError = true;\n                    } // if else\n\n                    singleEntry.id = i + 1;\n\n                    data.push(singleEntry);\n                    singleEntry = {};\n                } // if\n            } // for\n\n            // console.log(data); // test\n            if (!$("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n\n            uploadToDBReady.value = true;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.料號 === "" || row.料號 === null) {\n                            return (\n                                \'<input type="hidden" id="number\' +\n                                row.id +\n                                \'" name="number\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                \'Missing\' +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="number\' +\n                                row.id +\n                                \'" name="number\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.品名 === "" || row.品名 === null) {\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                row.id +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                "Missing" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                row.id +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.品名 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.format"\n                    ),\n                    field: "規格",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.規格 === "" || row.規格 === null) {\n                            return (\n                                \'<input type="hidden" id="format\' +\n                                row.id +\n                                \'" name="format\' +\n                                i +\n                                \'" value="\' +\n                                row.規格 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                "Missing" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="format\' +\n                                row.id +\n                                \'" name="format\' +\n                                i +\n                                \'" value="\' +\n                                row.規格 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.規格 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.price"\n                    ),\n                    field: "單價",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (Number.isNaN(row.單價)) {\n                            return (\n                                \'<input type="hidden" id="price\' +\n                                row.id +\n                                \'" name="price\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                parseFloat(row.單價) +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="price\' +\n                                row.id +\n                                \'" name="price\' +\n                                i +\n                                \'" value="\' +\n                                parseFloat(row.單價) +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                parseFloat(row.單價) +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.money"\n                    ),\n                    field: "幣別",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        let currencyExist = false;\n                        let currencyDict = [\n                            "RMB",\n                            "USD",\n                            "JPY",\n                            "TWD",\n                            "VND",\n                            "IDR",\n                        ];\n\n                        let returnStr = "";\n                        returnStr +=\n                            \'<input type="hidden" id="money\' +\n                            row.id +\n                            \'" name="money\' +\n                            i;\n\n                        currencyDict.forEach((element) => {\n                            if (row.幣別.toString().trim().toLowerCase() === element.toLowerCase()) {\n                                returnStr +=\n                                    \'" value="\' +\n                                    element +\n                                    \'">\' +\n                                    \'<div class="CustomScrollbar text-nowrap"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    element +\n                                    "</div>";\n                                currencyExist = true;\n                            } // if\n                        }); // for each in sender array\n\n                        if (!currencyExist) {\n                            returnStr +=\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.幣別 +\n                                "</div>";\n                        } // if\n\n                        return returnStr;\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.unit"\n                    ),\n                    field: "單位",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.單位 === "" || row.單位 === null) {\n                            return (\n                                \'<input type="hidden" id="unit\' +\n                                row.id +\n                                \'" name="unit\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                "Missing" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="unit\' +\n                                row.id +\n                                \'" name="unit\' +\n                                i +\n                                \'" value="\' +\n                                row.單位 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.單位 +\n                                "</div>"\n                            );\n                        }\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.mpq"\n                    ),\n                    field: "MPQ",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (Number.isNaN(row.MPQ)) {\n                            return (\n                                \'<input type="hidden" id="mpq\' +\n                                row.id +\n                                \'" name="mpq\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.MPQ + " <small>" + row.單位 + "</small>" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="mpq\' +\n                                row.id +\n                                \'" name="mpq\' +\n                                i +\n                                \'" value="\' +\n                                row.MPQ +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.MPQ + " <small>" + row.單位 + "</small>" +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.moq"\n                    ),\n                    field: "MOQ",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (Number.isNaN(row.MOQ)) {\n                            return (\n                                \'<input type="hidden" id="moq\' +\n                                row.id +\n                                \'" name="moq\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.MOQ + " <small>" + row.單位 + "</small>" +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="moq\' +\n                                row.id +\n                                \'" name="moq\' +\n                                i +\n                                \'" value="\' +\n                                row.MOQ +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.MOQ + " <small>" + row.單位 + "</small>" +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.lt"\n                    ),\n                    field: "LT",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (Number.isNaN(row.LT)) {\n                            return (\n                                \'<input type="hidden" id="lt\' +\n                                row.id +\n                                \'" name="lt\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.LT +\n                                "</div>"\n                            );\n                        } else {\n                            return (\n                                \'<input type="hidden" id="lt\' +\n                                row.id +\n                                \'" name="lt\' +\n                                i +\n                                \'" value="\' +\n                                row.LT +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.LT +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.month"\n                    ),\n                    field: "月請購",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購.trim() === "是" || row.月請購.trim().toLowerCase() === "yes") {\n                            return (\n                                \'<input type="hidden" id="monthly\' +\n                                row.id +\n                                \'" name="monthly\' +\n                                i +\n                                \'" value="是">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("basicInfoLang.yes") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="monthly\' +\n                                row.id +\n                                \'" name="monthly\' +\n                                i +\n                                \'" value="否">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("basicInfoLang.no") +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.gradea"\n                    ),\n                    field: "A級資材",\n                    width: "7ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.A級資材.trim() === "是" || row.A級資材.trim().toLowerCase() === "yes") {\n                            return (\n                                \'<input type="hidden" id="gradea\' +\n                                row.id +\n                                \'" name="gradea\' +\n                                i +\n                                \'" value="是">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("basicInfoLang.yes") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="gradea\' +\n                                row.id +\n                                \'" name="gradea\' +\n                                i +\n                                \'" value="否">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("basicInfoLang.no") +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.senddep"\n                    ),\n                    field: "發料部門",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.dispatcherError) { // if 發料部門 not exist in 發料部門 table\n                            if (row.發料部門 === "" || row.發料部門 === null) {\n                                return (\n                                    \'<input type="hidden" id="send\' +\n                                    row.id +\n                                    \'" name="send\' +\n                                    i +\n                                    \'" value="">\' +\n                                    \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    "Missing" +\n                                    "</div>"\n                                );\n                            } else {\n                                return (\n                                    \'<input type="hidden" id="send\' +\n                                    row.id +\n                                    \'" name="send\' +\n                                    i +\n                                    \'" value="">\' +\n                                    \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    row.發料部門 +\n                                    "</div>"\n                                );\n                            } // if else\n                        } else {\n                            return (\n                                \'<input type="hidden" id="send\' +\n                                row.id +\n                                \'" name="send\' +\n                                i +\n                                \'" value="\' +\n                                row.發料部門 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.發料部門 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.safe"\n                    ),\n                    field: "安全庫存",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購.trim() === "是" || row.月請購.trim().toLowerCase() === "yes") {\n                            return (\n                                \'<input type="hidden" id="safe\' +\n                                row.id +\n                                \'" name="safe\' +\n                                i +\n                                \'" value="">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("basicInfoLang.differ_by_client") +\n                                "</div>"\n                            );\n                        } else {\n                            if (Number.isNaN(row.安全庫存)) {\n                                return (\n                                    \'<input type="hidden" id="safe\' +\n                                    row.id +\n                                    \'" name="safe\' +\n                                    i +\n                                    \'" value="">\' +\n                                    \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    row.安全庫存 +\n                                    "</div>"\n                                );\n                            } else {\n                                return (\n                                    \'<input type="hidden" id="safe\' +\n                                    row.id +\n                                    \'" name="safe\' +\n                                    i +\n                                    \'" value="\' +\n                                    row.安全庫存 +\n                                    \'">\' +\n                                    \'<div class="CustomScrollbar text-nowrap"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    row.安全庫存 +\n                                    "</div>"\n                                );\n                            } // if else\n                        } // if else\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            // sortable: {\n            //     order: "id",\n            //     sort: "asc",\n            // },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey);\n        };\n\n        return {\n            exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            updateCheckedRows,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},1299:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-de1f6fc0] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/MonthlyPRImportTable.vue"],names:[],mappings:"AAo0BA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <div class="row">\n                <h3 class="col col-auto m-0">{{ $t("monthlyPRpageLang.importMonthlyData") }}</h3>\n                <button class="col col-auto btn btn-light m-0 p-0 flip-btn" @click="(flip = !flip)">\n                    <i class="bi bi-arrow-left-right"> </i>\n                    {{ $t("monthlyPRpageLang.search") }}\n                </button>\n            </div>\n        </div>\n\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto">\n                    <a :href="exampleUrl" download>\n                        {{ $t(\'monthlyPRpageLang.exampleExcel\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'monthlyPRpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <button id="togglebtn" class="btn btn-primary col col-auto" type="button" data-bs-toggle="collapse"\n        data-bs-target="#importedtable" aria-expanded="false" aria-controls="importedtable" style="display: none;">\n    </button>\n\n    <div class="card collapse" id="importedtable">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput1" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}\n                            :</label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="pnInput1" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enter90isn\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        :value="$t(\'basicInfoLang.delete\')" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="true"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n            </table-lite>\n\n            <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" type="submit" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport TableLite from "./TableLite.vue";\nimport useMonthlyPRSearch from "../../composables/MonthlyPRSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        let exampleUrl = ref(window.location.origin + \'/download/ImportMonthExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, uc, uploadMonthlyToDB, validate_UnitConsume } = useMonthlyPRSearch();\n        const { queryResult, validateISN } = useCommonlyUsedFunctions();\n\n        let isInvalid = ref(false); // validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        const file = ref();\n        let input_data;\n        let checkedRows = [];\n\n        const deleteRow = () => {\n            // console.log(checkedRows); // test\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.excel_row_num) === parseInt(checkedRows[i].excel_row_num);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n\n            checkedRows = [];\n            // console.log(data); // test\n        } // deleteRow\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            mats.value = "";\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\' });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined || input_data[0][0] === undefined || input_data[0][1] === undefined || input_data[0][2] === undefined) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else if (input_data[0][0].toString().trim() !== "90料號" || input_data[0][1].toString().trim() !== "料號" || !input_data[0][2].toString().trim().toLowerCase().includes("mps")) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n                            let tempArr90 = Array();\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][0] != undefined && input_data[i].length > 2 && input_data[i][0].toString().trim() != "" && input_data[i][0].toString().trim() != null) {\n                                    tempArr.push(input_data[i][1].toString().trim());\n                                    tempArr90.push(input_data[i][0].toString().trim());\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n                            } // for\n\n                            // console.log(tempArr90); // test\n                            await triggerModal();\n                            await validateISN(tempArr);\n                            await validate_UnitConsume(tempArr, tempArr90);\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            data.splice(0); // cleanup data from previous upload\n            queryResult.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n            if ($("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n        } // onInputChange\n\n        const searchTerm = ref(""); // Search text\n\n        // pour the data in\n        const data = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onSendToDBClick = async () => {\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the isn exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (data[j].月請購 === "" || data[j].月請購 === null || data[j].月請購.toLowerCase() === "null") {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    "Excel " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.row") +\n                    " " + data[rowsCount].excel_row_num + " " +\n                    "(" + data[rowsCount].料號 + ") " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the 單耗 exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (data[j].單耗 === "" || data[j].單耗 === null || data[j].單耗.toLowerCase() === "null" ||\n                    data[j].狀態 !== "已完成") {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    "Excel " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.row") +\n                    " " + data[rowsCount].excel_row_num + ": " + data[rowsCount].料號90 +\n                    "(" + data[rowsCount].料號 + ") " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.nounitconsumption");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if there\'s duplicate values in excel\n            let duplicatedArray = Array();\n            for (let i = 0; i < data.length; i++) {\n                // console.log(data[i].料號.trim() + "_" + data[i].料號90.toString().trim()); // test\n                if (data[i].料號 != null && data[i].料號.trim() != "") {\n                    duplicatedArray.push(data[i].料號.toString().trim() + "_" + data[i].料號90.toString().trim());\n                } // if\n            } // for\n\n            let findDuplicatesResult = findDuplicates(duplicatedArray);\n            // console.log(findDuplicatesResult); // test\n            if (findDuplicatesResult.length > 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_90_pair") +\n                    " : " + findDuplicatesResult[0].split("_")[0] +\n                    " (" + findDuplicatesResult[0].split("_")[1] + ")";\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            // ----------------------------------------------\n            // actually updating database now\n            let number = [];\n            let number90 = [];\n            let nextmps = [];\n            let nextday = [];\n            let nowmps = [];\n            let nowday = [];\n            for (let i = 0; i < data.length; i++) {\n                number.push(data[i].料號);\n                number90.push(data[i].料號90);\n                nextmps.push(data[i].下月MPS);\n                nextday.push(data[i].下月生產天數);\n                nowmps.push(data[i].本月MPS);\n                nowday.push(data[i].本月生產天數);\n            } // for\n\n            // console.log(number); // test\n            let start = Date.now();\n            let result = await uploadMonthlyToDB(number, number90, nextmps, nextday, nowmps, nowday);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + data.length + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                if (result.response.status == 420) {\n                    isInvalid_DB.value = true;\n                    let PR_ALREADY = JSON.parse(result.response.data.PR_ALREADY);\n                    // console.log(PR_ALREADY); // test\n                    let row_sep = 1; // just here to make the output prettier\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.nonmonthly_pr_already_sxb") + "\\n";\n                    for (let i = 0; i < PR_ALREADY.length; i++) {\n                        if (row_sep === 2) {\n                            validation_err_msg.value = validation_err_msg.value + PR_ALREADY[i].料號90 + \'(\' + PR_ALREADY[i].料號 + \')\' + "、\\n";\n                            row_sep = 0;\n                        } else {\n                            validation_err_msg.value = validation_err_msg.value + PR_ALREADY[i].料號90 + \'(\' + PR_ALREADY[i].料號 + \')\' + "、";\n                        } // if else\n\n                        row_sep++;\n                    } // for\n                    validation_err_msg.value = validation_err_msg.value.slice(0, -1); // Remove the last character "、"\n                } // if\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(uc, async () => {\n            await triggerModal();\n            if (queryResult.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(queryResult.value);\n            let allRowsObj_UC = JSON.parse(uc.value);\n\n            // console.log(allRowsObj_UC); // test\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                singleEntry.料號90 = input_data[i][0].toString().trim();\n                singleEntry.料號 = input_data[i][1].toString().trim();\n                if (input_data[i][2] == undefined || input_data[i][2].toString().trim() == "") {\n                    isInvalid.value = true;\n                    validation_err_msg.value =\n                        singleEntry.料號90 + "->" + singleEntry.料號 + " " +\n                        app.appContext.config.globalProperties.$t("monthlyPRpageLang.nowmps") + " " +\n                        app.appContext.config.globalProperties.$t("validation.required");\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n                singleEntry.本月MPS = parseFloat(input_data[i][2].toString().replace(/,/g, \'\'));\n                // -------------------------------------------------------------------------------\n                if (input_data[i][3] == undefined || input_data[i][3].toString().trim() == "") {\n                    isInvalid.value = true;\n                    validation_err_msg.value =\n                        singleEntry.料號90 + "->" + singleEntry.料號 + " " +\n                        app.appContext.config.globalProperties.$t("monthlyPRpageLang.nowday") + " " +\n                        app.appContext.config.globalProperties.$t("validation.required");\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n                singleEntry.本月生產天數 = parseFloat(input_data[i][3].toString().replace(/,/g, \'\'));\n                // -------------------------------------------------------------------------------\n                if (input_data[i][4] == undefined || input_data[i][4].toString().trim() == "") {\n                    isInvalid.value = true;\n                    validation_err_msg.value =\n                        singleEntry.料號90 + "->" + singleEntry.料號 + " " +\n                        app.appContext.config.globalProperties.$t("monthlyPRpageLang.nextmps") + " " +\n                        app.appContext.config.globalProperties.$t("validation.required");\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n                singleEntry.下月MPS = parseFloat(input_data[i][4].toString().replace(/,/g, \'\'));\n                // -------------------------------------------------------------------------------\n                if (input_data[i][5] == undefined || input_data[i][5].toString().trim() == "") {\n                    isInvalid.value = true;\n                    validation_err_msg.value =\n                        singleEntry.料號90 + "->" + singleEntry.料號 + " " +\n                        app.appContext.config.globalProperties.$t("monthlyPRpageLang.nextday") + " " +\n                        app.appContext.config.globalProperties.$t("validation.required");\n\n                    $("body").loadingModal("hide");\n                    $("body").loadingModal("destroy");\n                    return;\n                } // if\n                singleEntry.下月生產天數 = parseFloat(input_data[i][5].toString().replace(/,/g, \'\'));\n                // -------------------------------------------------------------------------------\n                singleEntry.excel_row_num = i + 1;\n\n                if (data.length == 0) {\n                    singleEntry.id = 0;\n                } else {\n                    singleEntry.id = parseInt(data[data.length - 1].id) + 1;\n                } // if else\n\n                let indexOfObject = allRowsObj.data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號);\n                });\n\n                if (indexOfObject != -1) { // if an existing record is found\n                    singleEntry = Object.assign(singleEntry, allRowsObj.data[indexOfObject]);\n                    // console.log(singleEntry); // test\n                } // if\n                else {\n                    singleEntry.月請購 = "";\n                } // else\n\n                // check if Unit Consumption Exist and Approved\n                indexOfObject = allRowsObj_UC.data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號 && object.料號90 === singleEntry.料號90);\n                });\n\n                if (indexOfObject != -1) { // if an existing record is found\n                    singleEntry.單耗 = allRowsObj_UC.data[indexOfObject].單耗;\n                    singleEntry.狀態 = allRowsObj_UC.data[indexOfObject].狀態;\n                } // if\n                else {\n                    singleEntry.單耗 = null;\n                    singleEntry.狀態 = null;\n                } // else\n\n                data.push(singleEntry);\n                singleEntry = {};\n            } // for\n\n            if (!$("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n\n            console.log(data); // test\n            uploadToDBReady.value = true;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.90isn"\n                    ),\n                    field: "料號90",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.單耗 === null) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="ninetyisn\' +\n                                row.excel_row_num +\n                                \'" name="ninetyisn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號90 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號90 +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="ninetyisn\' +\n                                row.excel_row_num +\n                                \'" name="ninetyisn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號90 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號90 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null" || row.單耗 === null) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="isn\' +\n                                row.excel_row_num +\n                                \'" name="isn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="isn\' +\n                                row.excel_row_num +\n                                \'" name="isn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nowmps"\n                    ),\n                    field: "本月MPS",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nowmps\' +\n                            i +\n                            \'" name="nowmps\' +\n                            i +\n                            \'" value="\' +\n                            row.本月MPS +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.本月MPS).toLocaleString(\'en\', { useGrouping: true }) +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nowday"\n                    ),\n                    field: "本月生產天數",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nowday\' +\n                            i +\n                            \'" name="nowday\' +\n                            i +\n                            \'" value="\' +\n                            row.本月生產天數 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.本月生產天數).toLocaleString(\'en\', { useGrouping: true }) +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nextmps"\n                    ),\n                    field: "下月MPS",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nextmps\' +\n                            i +\n                            \'" name="nextmps\' +\n                            i +\n                            \'" value="\' +\n                            row.下月MPS +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.下月MPS).toLocaleString(\'en\', { useGrouping: true }) +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nextday"\n                    ),\n                    field: "下月生產天數",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nextday\' +\n                            i +\n                            \'" name="nextday\' +\n                            i +\n                            \'" value="\' +\n                            row.下月生產天數 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.下月生產天數).toLocaleString(\'en\', { useGrouping: true }) +\n                            "</div>"\n                        );\n                    },\n                }\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號90\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase())\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            // sortable: {\n            //     order: "id",\n            //     sort: "asc",\n            // },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            flip: ref(false),\n            exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            updateCheckedRows,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n            deleteRow\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},3677:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,".flip-card[data-v-8cf998e4]{background-color:transparent;height:75vh;overflow-y:auto;perspective:1000px}.flip-card[data-v-8cf998e4]::-webkit-scrollbar-track{background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.flip-card[data-v-8cf998e4]::-webkit-scrollbar{-webkit-appearance:none;width:4px}.flip-card[data-v-8cf998e4]::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.flip-card-inner[data-v-8cf998e4]{position:relative;transform-style:preserve-3d;transition:transform .5s}.flip-card.transition .flip-card-inner[data-v-8cf998e4]{transform:rotateY(180deg)}.flip-card-back[data-v-8cf998e4],.flip-card-front[data-v-8cf998e4]{backface-visibility:hidden;position:absolute}.flip-card-back[data-v-8cf998e4]{transform:rotateY(180deg)}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/MonthlyPRTable.vue"],names:[],mappings:"AAmGA,4BACI,4BAA6B,CAG7B,WAAY,CACZ,eAAgB,CAHhB,kBAIJ,CAEA,qDAGI,wBAAyB,CADzB,iBAAkB,CADlB,6CAGJ,CAEA,+CAEI,uBAAwB,CADxB,SAEJ,CAEA,qDAGI,+BAAoC,CAFpC,iBAAkB,CAClB,6CAEJ,CAGA,kCACI,iBAAkB,CAElB,2BAA4B,CAD5B,wBAEJ,CAGA,wDACI,yBACJ,CAGA,mEAII,0BAA2B,CAF3B,iBAGJ,CAEA,iCACI,yBACJ",sourcesContent:['<template>\n    <div class="flip-card" ref="detectclasschange">\n        <div class="flip-card-inner row w-100">\n            <div class="flip-card-front col col-12" id="cardFront">\n                <MonthlyPRImportTable ref="myChild"></MonthlyPRImportTable>\n            </div>\n            <div class="flip-card-back col col-12" id="cardBack">\n                <MonthlyPRSearchTable ref="myChild2"></MonthlyPRSearchTable>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, nextTick, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onBeforeUnmount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\n// import TableLite from "./TableLite.vue";\nimport MonthlyPRImportTable from "./MonthlyPRImportTable.vue";\nimport MonthlyPRSearchTable from "./MonthlyPRSearchTable.vue";\nexport default defineComponent({\n    name: "App",\n    components: { MonthlyPRImportTable, MonthlyPRSearchTable },\n    setup() {\n        const myChild = ref(null);\n        const myChild2 = ref(null);\n        const detectclasschange = ref(null);\n\n        const observer = new MutationObserver(mutations => {\n            // Whenever the search page is shown,\n            // update the table using "onclasschange"\n            // and trigger child component\'s function "triggerSearchUpdate"\n            for (const m of mutations) {\n                const newValue = m.target.getAttribute(m.attributeName);\n                nextTick(() => {\n                    onclasschange(newValue, m.oldValue);\n                });\n            } // for\n        });\n\n        onBeforeUnmount(observer.disconnect());\n\n        onMounted(() => {\n            observer.observe(detectclasschange.value, {\n                attributes: true,\n                attributeOldValue: true,\n                attributeFilter: [\'class\'],\n            });\n\n            watch(\n                () => myChild.value.flip,\n                (newVal) => {\n                    $(\'.flip-card\').toggleClass(\'transition\');\n                }\n            );\n\n            watch(\n                () => myChild2.value.flip,\n                (newVal) => {\n                    $(\'.flip-card\').toggleClass(\'transition\');\n                }\n            );\n        });\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onclasschange = async (classattrvalue) => {\n            await triggerModal();\n            const classlist = classattrvalue.split(\' \');\n            if (classlist.includes(\'transition\')) {\n                await myChild2.value.triggerSearchUpdate();\n            } // if\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onclasschange\n\n        return {\n            myChild,\n            myChild2,\n            detectclasschange,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n.flip-card {\n    background-color: transparent;\n    perspective: 1000px;\n    /* Remove this if you don\'t want the 3D effect */\n    height: 75vh;\n    overflow-y: auto;\n}\n\n.flip-card::-webkit-scrollbar-track {\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    border-radius: 4px;\n    background-color: #F5F5F5;\n}\n\n.flip-card::-webkit-scrollbar {\n    width: 4px;\n    -webkit-appearance: none;\n}\n\n.flip-card::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n/* This container is needed to position the front and back side */\n.flip-card-inner {\n    position: relative;\n    transition: transform 0.5s;\n    transform-style: preserve-3d;\n}\n\n/* Do an horizontal flip when you move the mouse over the flip box container */\n.flip-card.transition .flip-card-inner {\n    transform: rotateY(180deg);\n}\n\n/* Position the front and back side */\n.flip-card-front,\n.flip-card-back {\n    position: absolute;\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n}\n\n.flip-card-back {\n    transform: rotateY(180deg);\n}\n</style>'],sourceRoot:""}]);const l=i},6596:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-46c651b0] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/NonMonthlyPRImportTable.vue"],names:[],mappings:"AA0xBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <div class="row">\n                <h3 class="col col-auto m-0">{{ $t("monthlyPRpageLang.importNonMonthlyData") }}</h3>\n                <button class="col col-auto btn btn-light m-0 p-0 flip-btn" @click="(flip = !flip)">\n                    <i class="bi bi-arrow-left-right"> </i>\n                    {{ $t("monthlyPRpageLang.search") }}\n                </button>\n            </div>\n        </div>\n\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto">\n                    <a :href="exampleUrl" download>\n                        {{ $t(\'monthlyPRpageLang.exampleExcel\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'monthlyPRpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <button id="togglebtn" class="btn btn-primary col col-auto" type="button" data-bs-toggle="collapse"\n        data-bs-target="#importedtable" aria-expanded="false" aria-controls="importedtable" style="display: none;">\n    </button>\n\n    <div class="card collapse" id="importedtable">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput1" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}:\n                        </label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="pnInput1" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        :value="$t(\'basicInfoLang.delete\')" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong style="white-space: pre-wrap;">{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="true"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows"></table-lite>\n\n            <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" type="submit" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport TableLite from "./TableLite.vue";\nimport useMonthlyPRSearch from "../../composables/MonthlyPRSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        let exampleUrl = ref(window.location.origin + \'/download/ImportNotmonthExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, uploadNonMonthlyToDB } = useMonthlyPRSearch();\n        const { queryResult, validateISN } = useCommonlyUsedFunctions();\n\n        let isInvalid = ref(false); // validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        const file = ref();\n        let input_data;\n        let checkedRows = [];\n\n        onBeforeMount(() => {\n            table.isLoading = true;\n        });\n\n        const deleteRow = () => {\n            // console.log(checkedRows); // test\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.excel_row_num) === parseInt(checkedRows[i].excel_row_num);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n\n            checkedRows = [];\n        } // deleteRow\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            mats.value = "";\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\', WTF: true });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        // console.log(ws); // test\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined || input_data[0][0] === undefined || input_data[0][1] === undefined || input_data[0][2] === undefined) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else if (input_data[0][0].trim() !== "料號" || !input_data[0][1].trim().toLowerCase().includes("當月需求")) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][0] != undefined && input_data[i].length > 2 && input_data[i][0].trim() != "" && input_data[i][0].trim() != null) {\n                                    tempArr.push(input_data[i][0].trim());\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n\n                                if (input_data[i][3] === null || input_data[i][3] === undefined) {\n                                    input_data[i][3] = input_data[i][1] + input_data[i][2];\n                                } // if\n                            } // for\n\n                            // console.log(tempArr); // test\n                            await triggerModal();\n                            await validateISN(tempArr);\n                            // console.log(input_data); // test\n\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            data.splice(0); // cleanup data from previous upload\n            queryResult.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n            if ($("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n        } // onInputChange\n\n        const searchTerm = ref(""); // Search text\n\n        // pour the data in\n        const data = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onSendToDBClick = async () => {\n            await triggerModal();\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the isn exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (data[j].月請購 === "" || data[j].月請購 === null || data[j].月請購.toLowerCase() === "null") {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    "Excel " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.row") +\n                    " " + data[rowsCount].excel_row_num + " " +\n                    "(" + data[rowsCount].料號 + ") " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if there\'s duplicate values in excel\n            let duplicatedArray = Array();\n            for (let i = 0; i < data.length; i++) {\n                if (data[i].料號 != null && data[i].料號.trim() != "") {\n                    duplicatedArray.push(data[i].料號.toString().trim());\n                } // if\n            } // for\n\n            let findDuplicatesResult = findDuplicates(duplicatedArray);\n            // console.log(findDuplicatesResult); // test\n            if (findDuplicatesResult.length > 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.repeated_isn") +\n                    " : " + findDuplicatesResult[0];\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            // ----------------------------------------------\n            // actually updating database now\n            let number = [];\n            let thisMonthDemand = [];\n            let nextMonthDemand = [];\n            let amount = [];\n            let desc = [];\n            for (let i = 0; i < data.length; i++) {\n                number.push(data[i].料號);\n                thisMonthDemand.push(parseInt(data[i].當月需求));\n                nextMonthDemand.push(parseInt(data[i].下月需求));\n                amount.push(parseInt(data[i].請購數量));\n                desc.push(data[i].說明);\n            } // for\n\n            // console.log(number); // test\n            let start = Date.now();\n            let result = await uploadNonMonthlyToDB(number, thisMonthDemand, nextMonthDemand, amount, desc);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + data.length + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                // console.log(result.response.data); // test\n                if (result.response.status == 420) {\n                    isInvalid_DB.value = true;\n                    let PR_ALREADY = JSON.parse(result.response.data.PR_ALREADY);\n                    // console.log(PR_ALREADY); // test\n                    let row_sep = 1; // just here to make the output prettier\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("monthlyPRpageLang.nonmonthly_pr_already_sxb") + "\\n";\n                    for (let i = 0; i < PR_ALREADY.length; i++) {\n                        if (row_sep === 4) {\n                            validation_err_msg.value = validation_err_msg.value + PR_ALREADY[i].料號 + "、\\n";\n                            row_sep = 0;\n                        } else {\n                            validation_err_msg.value = validation_err_msg.value + PR_ALREADY[i].料號 + "、";\n                        } // if else\n\n                        row_sep++;\n                    } // for\n                    validation_err_msg.value = validation_err_msg.value.slice(0, -1); // Remove the last character "、"\n                } // if\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(queryResult, async () => {\n            validation_err_msg.value =\n                app.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error") +\n                " Excel " +\n                app.appContext.config.globalProperties.$t("monthlyPRpageLang.row");\n            await triggerModal();\n            if (queryResult.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(queryResult.value);\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                try {\n                    singleEntry.料號 = input_data[i][0].toString().trim();\n                    // console.log(input_data); //test\n                    if (input_data[i][1] == undefined || input_data[i][1].toString().trim() == "") {\n                        isInvalid.value = true;\n                        validation_err_msg.value =\n                            singleEntry.料號 + " " +\n                            app.appContext.config.globalProperties.$t("monthlyPRpageLang.nowneed") + " " +\n                            app.appContext.config.globalProperties.$t("validation.required");\n\n                        $("body").loadingModal("hide");\n                        $("body").loadingModal("destroy");\n                        return;\n                    } // if\n                    singleEntry.當月需求 = parseFloat(input_data[i][1].toString().replace(/,/g, \'\'));\n                    // -------------------------------------------------------------------------------\n                    if (input_data[i][2] == undefined || input_data[i][2].toString().trim() == "") {\n                        isInvalid.value = true;\n                        validation_err_msg.value =\n                            singleEntry.料號 + " " +\n                            app.appContext.config.globalProperties.$t("monthlyPRpageLang.nextneed") + " " +\n                            app.appContext.config.globalProperties.$t("validation.required");\n\n                        $("body").loadingModal("hide");\n                        $("body").loadingModal("destroy");\n                        return;\n                    } // if\n                    singleEntry.下月需求 = parseFloat(input_data[i][2].toString().replace(/,/g, \'\'));\n                    // -------------------------------------------------------------------------------\n                    if (input_data[i][3] == undefined || input_data[i][3].toString().trim() == "") {\n                        isInvalid.value = true;\n                        validation_err_msg.value =\n                            singleEntry.料號 + " " +\n                            app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount1") + " " +\n                            app.appContext.config.globalProperties.$t("validation.required");\n\n                        $("body").loadingModal("hide");\n                        $("body").loadingModal("destroy");\n                        return;\n                    } // if\n                    singleEntry.請購數量 = parseInt(input_data[i][3].toString().replace(/,/g, \'\'), 10);\n                    // -------------------------------------------------------------------------------\n                    // console.log(input_data[i][4]); // test\n                    if (input_data[i][4] === undefined || input_data[i][4] === null) {\n                        singleEntry.說明 = "";\n                    } else {\n                        singleEntry.說明 = input_data[i][4].toString().trim();\n                    } // if else\n                    // -------------------------------------------------------------------------------\n                    singleEntry.excel_row_num = i + 1;\n                    if (data.length == 0) {\n                        singleEntry.id = 0;\n                    } else {\n                        singleEntry.id = parseInt(data[data.length - 1].id) + 1;\n                    } // if else\n\n                    let indexOfObject = allRowsObj.data.findIndex(object => {\n                        return (object.料號 === singleEntry.料號);\n                    });\n\n                    if (indexOfObject != -1) { // if an existing record is found\n                        singleEntry = Object.assign(singleEntry, allRowsObj.data[indexOfObject]);\n                    } // if\n                    else {\n                        singleEntry.月請購 = "";\n                    } // else\n\n                    data.push(singleEntry);\n                } catch (error) {\n                    console.log(error); // test\n                    validation_err_msg.value = validation_err_msg.value + " " + i + "、";\n                    isInvalid_DB.value = true;\n                } // try - catch\n\n                singleEntry = {};\n            } // for\n\n            validation_err_msg.value = validation_err_msg.value.slice(0, -1); // Remove the last character "、"\n\n            if (!$("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n\n            // console.log(data); // test\n            uploadToDBReady.value = true;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="isn\' +\n                                row.excel_row_num +\n                                \'" name="isn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="isn\' +\n                                row.excel_row_num +\n                                \'" name="isn\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                i +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("inboundpageLang.row") +\n                                " " + row.excel_row_num +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                i +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.品名 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nowneed"\n                    ),\n                    field: "當月需求",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nowneed\' +\n                            i +\n                            \'" name="nowneed\' +\n                            i +\n                            \'" value="\' +\n                            row.當月需求 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.當月需求).toLocaleString(\'en\', { useGrouping: true }) +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.nextneed"\n                    ),\n                    field: "下月需求",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="nextneed\' +\n                            row.id +\n                            \'" name="nextneed\' +\n                            i +\n                            \'" value="\' +\n                            row.下月需求 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.下月需求).toLocaleString(\'en\', { useGrouping: true }) +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyamount1"\n                    ),\n                    field: "請購數量",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="buyamount\' +\n                            i +\n                            \'" name="buyamount\' +\n                            i +\n                            \'" value="\' +\n                            row.請購數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.請購數量).toLocaleString(\'en\', { useGrouping: true }) +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.description"\n                    ),\n                    field: "說明",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.說明 === null) row.說明 = "";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.說明 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.說明 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            // sortable: {\n            //     order: "id",\n            //     sort: "asc",\n            // },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            flip: ref(false),\n            exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            updateCheckedRows,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n            deleteRow,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},8733:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,".flip-card[data-v-57b1c3ff]{background-color:transparent;height:75vh;overflow-y:auto;perspective:1000px}.flip-card[data-v-57b1c3ff]::-webkit-scrollbar-track{background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.flip-card[data-v-57b1c3ff]::-webkit-scrollbar{-webkit-appearance:none;width:4px}.flip-card[data-v-57b1c3ff]::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}.flip-card-inner[data-v-57b1c3ff]{position:relative;transform-style:preserve-3d;transition:transform .5s}.flip-card.transition .flip-card-inner[data-v-57b1c3ff]{transform:rotateY(180deg)}.flip-card-back[data-v-57b1c3ff],.flip-card-front[data-v-57b1c3ff]{backface-visibility:hidden;position:absolute}.flip-card-back[data-v-57b1c3ff]{transform:rotateY(180deg)}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/NonMonthlyPRTable.vue"],names:[],mappings:"AAmGA,4BACI,4BAA6B,CAG7B,WAAY,CACZ,eAAgB,CAHhB,kBAIJ,CAEA,qDAGI,wBAAyB,CADzB,iBAAkB,CADlB,6CAGJ,CAEA,+CAEI,uBAAwB,CADxB,SAEJ,CAEA,qDAGI,+BAAoC,CAFpC,iBAAkB,CAClB,6CAEJ,CAGA,kCACI,iBAAkB,CAElB,2BAA4B,CAD5B,wBAEJ,CAGA,wDACI,yBACJ,CAGA,mEAII,0BAA2B,CAF3B,iBAGJ,CAEA,iCACI,yBACJ",sourcesContent:['<template>\n    <div class="flip-card" ref="detectclasschange">\n        <div class="flip-card-inner row w-100">\n            <div class="flip-card-front col col-12" id="cardFront" style="height: auto !important;">\n                <NonMonthlyPRImportTable ref="myChild"></NonMonthlyPRImportTable>\n            </div>\n            <div class="flip-card-back col col-12" id="cardBack">\n                <NonMonthlyPRSearchTable ref="myChild2"></NonMonthlyPRSearchTable>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, nextTick, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onBeforeUnmount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\n// import TableLite from "./TableLite.vue";\nimport NonMonthlyPRImportTable from "./NonMonthlyPRImportTable.vue";\nimport NonMonthlyPRSearchTable from "./NonMonthlyPRSearchTable.vue";\nexport default defineComponent({\n    name: "App",\n    components: { NonMonthlyPRImportTable, NonMonthlyPRSearchTable },\n    setup() {\n        const myChild = ref(null);\n        const myChild2 = ref(null);\n        const detectclasschange = ref(null);\n\n        const observer = new MutationObserver(mutations => {\n            // Whenever the search page is shown,\n            // update the table using "onclasschange"\n            // and trigger child component\'s function "triggerSearchUpdate"\n            for (const m of mutations) {\n                const newValue = m.target.getAttribute(m.attributeName);\n                nextTick(() => {\n                    onclasschange(newValue, m.oldValue);\n                });\n            } // for\n        });\n\n        onBeforeUnmount(observer.disconnect());\n\n        onMounted(() => {\n            observer.observe(detectclasschange.value, {\n                attributes: true,\n                attributeOldValue: true,\n                attributeFilter: [\'class\'],\n            });\n\n            watch(\n                () => myChild.value.flip,\n                (newVal) => {\n                    $(\'.flip-card\').toggleClass(\'transition\');\n                }\n            );\n\n            watch(\n                () => myChild2.value.flip,\n                (newVal) => {\n                    $(\'.flip-card\').toggleClass(\'transition\');\n                }\n            );\n        });\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const onclasschange = async (classattrvalue) => {\n            await triggerModal();\n            const classlist = classattrvalue.split(\' \');\n            if (classlist.includes(\'transition\')) {\n                await myChild2.value.triggerSearchUpdate();\n            } // if\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onclasschange\n\n        return {\n            myChild,\n            myChild2,\n            detectclasschange,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n.flip-card {\n    background-color: transparent;\n    perspective: 1000px;\n    /* Remove this if you don\'t want the 3D effect */\n    height: 75vh;\n    overflow-y: auto;\n}\n\n.flip-card::-webkit-scrollbar-track {\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    border-radius: 4px;\n    background-color: #F5F5F5;\n}\n\n.flip-card::-webkit-scrollbar {\n    width: 4px;\n    -webkit-appearance: none;\n}\n\n.flip-card::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    background-color: rgba(0, 0, 0, 0.3);\n}\n\n/* This container is needed to position the front and back side */\n.flip-card-inner {\n    position: relative;\n    transition: transform 0.5s;\n    transform-style: preserve-3d;\n}\n\n/* Do an horizontal flip when you move the mouse over the flip box container */\n.flip-card.transition .flip-card-inner {\n    transform: rotateY(180deg);\n}\n\n/* Position the front and back side */\n.flip-card-front,\n.flip-card-back {\n    position: absolute;\n    -webkit-backface-visibility: hidden;\n    backface-visibility: hidden;\n}\n\n.flip-card-back {\n    transform: rotateY(180deg);\n}\n</style>'],sourceRoot:""}]);const l=i},2290:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-586d61e0] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OboundBackrecordTable.vue"],names:[],mappings:"AA8mBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row" style="text-align: left">\n        <div class="col col-auto">\n            <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n        </div>\n        <div class="col col-3 p-0 m-0">\n            <input id="pnInput" class="text-center form-control form-control-lg"\n                v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :isLoading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useOboundBackrecord from "../../composables/OboundBackRecordSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOboundBackrecord(); // axios get the mats data\n\n        onBeforeMount(getMats);\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        watch(mats, () => {\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            document\n                .getElementById("QueryFlag")\n                .click();\n                \n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t("oboundpageLang.client"),\n                    field: "客戶別",\n                    width: "12ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="client\' +\n                            i +\n                            \'" name="client\' +\n                            i +\n                            \'" value="\' +\n                            row.客戶別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.客戶別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.machine"\n                    ),\n                    field: "機種",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="machine\' +\n                            i +\n                            \'" name="machine\' +\n                            i +\n                            \'" value="\' +\n                            row.機種 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.機種 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.process"\n                    ),\n                    field: "製程",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="production\' +\n                            i +\n                            \'" name="production\' +\n                            i +\n                            \'" value="\' +\n                            row.製程 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.製程 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backreason"\n                    ),\n                    field: "退回原因",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="backreason\' +\n                            i +\n                            \'" name="backreason\' +\n                            i +\n                            \'" value="\' +\n                            row.退回原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退回原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.line"\n                    ),\n                    field: "線別",\n                    width: "9ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="line\' +\n                            i +\n                            \'" name="line\' +\n                            i +\n                            \'" value="\' +\n                            row.線別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.線別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            i +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backamount"\n                    ),\n                    field: "預退數量",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="backamount\' +\n                            i +\n                            \'" name="backamount\' +\n                            i +\n                            \'" value="\' +\n                            row.預退數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.預退數量 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.realbackamount"\n                    ),\n                    field: "實際退回數量",\n                    width: "22ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="realbackamount\' +\n                            i +\n                            \'" name="realbackamount\' +\n                            i +\n                            \'" value="\' +\n                            row.實際退回數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實際退回數量 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.備註 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backdiffreason"\n                    ),\n                    field: "實退差異原因",\n                    width: "25ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.實退差異原因 === null) row.實退差異原因 = "";\n                        return (\n                            \'<input type="hidden" id="backdiffreason\' +\n                            i +\n                            \'" name="backdiffreason\' +\n                            i +\n                            \'" value="\' +\n                            row.實退差異原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實退差異原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.bound"\n                    ),\n                    field: "庫別",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="bound\' +\n                            i +\n                            \'" name="bound\' +\n                            i +\n                            \'" value="\' +\n                            row.庫別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.庫別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.receivepeople"\n                    ),\n                    field: "收料人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="receivepeople\' +\n                            i +\n                            \'" name="receivepeople\' +\n                            i +\n                            \'" value="\' +\n                            row.收料人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.收料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.receivepeoplenum"\n                    ),\n                    field: "收料人員工號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="receivepeoplenum\' +\n                            i +\n                            \'" name="receivepeoplenum\' +\n                            i +\n                            \'" value="\' +\n                            row.收料人員工號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.收料人員工號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backpeople"\n                    ),\n                    field: "退料人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="backpeople\' +\n                            i +\n                            \'" name="backpeople\' +\n                            i +\n                            \'" value="\' +\n                            row.退料人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backpeoplenum"\n                    ),\n                    field: "退料人員工號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="backpeoplenum\' +\n                            i +\n                            \'" name="backpeoplenum\' +\n                            i +\n                            \'" value="\' +\n                            row.退料人員工號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退料人員工號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.backlistnum"\n                    ),\n                    field: "退料單號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="backlist\' +\n                            i +\n                            \'" name="backlist\' +\n                            i +\n                            \'" value="\' +\n                            row.退料單號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退料單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.opentime"\n                    ),\n                    field: "開單時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="opentime\' +\n                            i +\n                            \'" name="opentime\' +\n                            i +\n                            \'" value="\' +\n                            row.開單時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inboundtime"\n                    ),\n                    field: "入庫時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundtime\' +\n                            i +\n                            \'" name="inboundtime\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.status"\n                    ),\n                    field: "功能狀況",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="status\' +\n                            i +\n                            \'" name="status\' +\n                            i +\n                            \'" value="\' +\n                            row.功能狀況 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.功能狀況 +\n                            "</div>"\n                        );\n                    },\n                },\n\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "開單時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.record") +\n                    ", " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.total") +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.record"),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey)\n        }\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},3459:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-1c55ee81] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OboundINSearchTable.vue"],names:[],mappings:"AAyaA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row" style="text-align: left">\n        <div class="col col-auto">\n            <label for="pnInput" class="col-form-label"\n                >{{ $t("basicInfoLang.quicksearch") }} :</label\n            >\n        </div>\n        <div class="col col-3 p-0 m-0">\n            <input\n                id="pnInput"\n                class="text-center form-control form-control-lg"\n                v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')"\n                v-model="searchTerm"\n            />\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite\n        :is-fixed-first-column="true"\n        :is-static-mode="true"\n        :hasCheckbox="true"\n        :isLoading="table.isLoading"\n        :messages="table.messages"\n        :columns="table.columns"\n        :rows="table.rows"\n        :total="table.totalRecordCount"\n        :page-options="table.pageOptions"\n        :sortable="table.sortable"\n        @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"\n    ></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useOboundInboundSearch from "../../composables/OboundINSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOboundInboundSearch(); // axios get the mats data\n\n        onBeforeMount(getMats);\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        watch(mats, () => {\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            document.getElementById("QueryFlag").click();\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inlist"\n                    ),\n                    field: "入庫單號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundlist\' +\n                            i +\n                            \'" name="inboundlist\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫單號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            i +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.client"\n                    ),\n                    field: "客戶別",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="client\' +\n                            i +\n                            \'" name="client\' +\n                            i +\n                            \'" value="\' +\n                            row.客戶別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.客戶別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.bound"\n                    ),\n                    field: "庫別",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="bound\' +\n                            i +\n                            \'" name="bound\' +\n                            i +\n                            \'" value="\' +\n                            row.庫別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.庫別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inboundnum"\n                    ),\n                    field: "入庫數量",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundnum\' +\n                            i +\n                            \'" name="inboundnum\' +\n                            i +\n                            \'" value="\' +\n                            row.數量 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.數量 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inpeople"\n                    ),\n                    field: "入庫人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundpeople\' +\n                            i +\n                            \'" name="inboundpeople\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inboundtime"\n                    ),\n                    field: "入庫時間",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundtime\' +\n                            i +\n                            \'" name="inboundtime\' +\n                            i +\n                            \'" value="\' +\n                            row.時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.備註 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.inreason"\n                    ),\n                    field: "入庫原因",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="inboundreason\' +\n                            i +\n                            \'" name="inboundreason\' +\n                            i +\n                            \'" value="\' +\n                            row.入庫原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫原因 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter(\n                    (x) =>\n                        x.料號\n                            .toLowerCase()\n                            .includes(searchTerm.value.toLowerCase()) ||\n                        x.品名.includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "入庫時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n            // only check one\n            let count = $(".vtl-paging-count-dropdown").val();\n            rowsKey = parseInt(rowsKey);\n            for (let i = 0; i < count; i++) {\n                if (i !== rowsKey) {\n                    $("#checkbox" + i).prop("disabled", true);\n                } else {\n                    $("#checkbox" + i).prop("disabled", false);\n                }\n            }\n            if (isNaN(rowsKey)) {\n                console.log(1);\n                $(".vtl-tbody-checkbox").prop("disabled", false);\n            }\n        };\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},5288:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-1f965bdb] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OboundISNSearch.vue"],names:[],mappings:"AAiOA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row" style="text-align: left">\n        <div class="col col-auto">\n            <label for="pnInput" class="col-form-label"\n                >{{ $t("basicInfoLang.quicksearch") }} :</label\n            >\n        </div>\n        <div class="col col-3 p-0 m-0">\n            <input\n                id="pnInput"\n                class="text-center form-control form-control-lg"\n                v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')"\n                v-model="searchTerm"\n            />\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite\n        :is-fixed-first-column="true"\n        :is-static-mode="true"\n        :hasCheckbox="false"\n        :isLoading="table.isLoading"\n        :messages="table.messages"\n        :columns="table.columns"\n        :rows="table.rows"\n        :total="table.totalRecordCount"\n        :page-options="table.pageOptions"\n        :sortable="table.sortable"\n        @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"\n    ></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useOboundISNSearch from "../../composables/OboundISNSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOboundISNSearch(); // axios get the mats data\n\n        onBeforeMount(getMats);\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        watch(mats, () => {\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            document.getElementById("QueryFlag").click();\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            i +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter(\n                    (x) =>\n                        x.料號\n                            .toLowerCase()\n                            .includes(searchTerm.value.toLowerCase()) ||\n                        x.品名.includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "料號",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n        };\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>\n'],sourceRoot:""}]);const l=i},9399:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-9bffe4aa] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OboundPickrecordTable.vue"],names:[],mappings:"AAslBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row" style="text-align: left">\n        <div class="col col-auto">\n            <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n        </div>\n        <div class="col col-3 p-0 m-0">\n            <input id="pnInput" class="text-center form-control form-control-lg"\n                v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :isLoading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useOboundPickrecord from "../../composables/OboundPickRecordSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOboundPickrecord(); // axios get the mats data\n\n        onBeforeMount(getMats);\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        watch(mats, () => {\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            document\n                .getElementById("QueryFlag")\n                .click();\n\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t("oboundpageLang.client"),\n                    field: "客戶別",\n                    width: "12ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="client\' +\n                            i +\n                            \'" name="client\' +\n                            i +\n                            \'" value="\' +\n                            row.客戶別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.客戶別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.machine"\n                    ),\n                    field: "機種",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="machine\' +\n                            i +\n                            \'" name="machine\' +\n                            i +\n                            \'" value="\' +\n                            row.機種 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.機種 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.process"\n                    ),\n                    field: "製程",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="production\' +\n                            i +\n                            \'" name="production\' +\n                            i +\n                            \'" value="\' +\n                            row.製程 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.製程 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.usereason"\n                    ),\n                    field: "領用原因",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="usereason\' +\n                            i +\n                            \'" name="usereason\' +\n                            i +\n                            \'" value="\' +\n                            row.領用原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領用原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.line"\n                    ),\n                    field: "線別",\n                    width: "9ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="line\' +\n                            i +\n                            \'" name="line\' +\n                            i +\n                            \'" value="\' +\n                            row.線別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.線別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            i +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pickamount"\n                    ),\n                    field: "預領數量",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="pickamount\' +\n                            i +\n                            \'" name="pickamount\' +\n                            i +\n                            \'" value="\' +\n                            row.預領數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.預領數量 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.realpickamount"\n                    ),\n                    field: "實際領用數量",\n                    width: "22ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="realpickamount\' +\n                            i +\n                            \'" name="realpickamount\' +\n                            i +\n                            \'" value="\' +\n                            row.實際領用數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實際領用數量 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.備註 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.diffreason"\n                    ),\n                    field: "實領差異原因",\n                    width: "25ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.實領差異原因 === null) row.實領差異原因 = "";\n                        return (\n                            \'<input type="hidden" id="diffreason\' +\n                            i +\n                            \'" name="diffreason\' +\n                            i +\n                            \'" value="\' +\n                            row.實領差異原因 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實領差異原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.bound"\n                    ),\n                    field: "庫別",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="bound\' +\n                            i +\n                            \'" name="bound\' +\n                            i +\n                            \'" value="\' +\n                            row.庫別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.庫別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pickpeople"\n                    ),\n                    field: "領料人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="pickpeople\' +\n                            i +\n                            \'" name="pickpeople\' +\n                            i +\n                            \'" value="\' +\n                            row.領料人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pickpeoplenum"\n                    ),\n                    field: "領料人員工號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="pickpeoplenum\' +\n                            i +\n                            \'" name="pickpeoplenum\' +\n                            i +\n                            \'" value="\' +\n                            row.領料人員工號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領料人員工號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.sendpeople"\n                    ),\n                    field: "發料人員",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="sendpeople\' +\n                            i +\n                            \'" name="sendpeople\' +\n                            i +\n                            \'" value="\' +\n                            row.發料人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.發料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.sendpeoplenum"\n                    ),\n                    field: "發料人員工號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="sendpeoplenum\' +\n                            i +\n                            \'" name="sendpeoplenum\' +\n                            i +\n                            \'" value="\' +\n                            row.發料人員工號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.發料人員工號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.picklistnum"\n                    ),\n                    field: "領料單號",\n                    width: "17ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="picklist\' +\n                            i +\n                            \'" name="picklist\' +\n                            i +\n                            \'" value="\' +\n                            row.領料單號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領料單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.opentime"\n                    ),\n                    field: "開單時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="opentime\' +\n                            i +\n                            \'" name="opentime\' +\n                            i +\n                            \'" value="\' +\n                            row.開單時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.outboundtime"\n                    ),\n                    field: "出庫時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="outboundtime\' +\n                            i +\n                            \'" name="outboundtime\' +\n                            i +\n                            \'" value="\' +\n                            row.出庫時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.出庫時間 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "開單時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.record") +\n                    ", " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.total") +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t("basicInfoLang.record"),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey)\n        }\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},6725:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-06e9ccbd] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OboundStockTable.vue"],names:[],mappings:"AA+SA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row" style="text-align: left">\n        <div class="col col-auto">\n            <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n        </div>\n        <div class="col col-3 p-0 m-0">\n            <input id="pnInput" class="text-center form-control form-control-lg"\n                v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :isLoading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport TableLite from "./TableLite.vue";\nimport useOboundStockSearch from "../../composables/OboundStockSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n\n    setup() {\n        const { mats, getMats } = useOboundStockSearch(); // axios get the mats data\n        onBeforeMount(getMats);\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n        watch(mats, () => {\n            console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            document.getElementById("QueryFlag").click();\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="isn\' +\n                            i +\n                            \'" name="isn\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.nowstock"\n                    ),\n                    field: "現有庫存",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="stock\' +\n                            i +\n                            \'" name="stock\' +\n                            i +\n                            \'" value="\' +\n                            row.現有庫存 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.現有庫存 + " <small>" + row.單位 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.client"\n                    ),\n                    field: "客戶別",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="client\' +\n                            i +\n                            \'" name="client\' +\n                            i +\n                            \'" value="\' +\n                            row.客戶別 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.客戶別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.bound"\n                    ),\n                    field: "庫別",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="bound\' +\n                            i +\n                            \'" name="bound\' +\n                            i +\n                            \'" value="\' +\n                            row.庫別 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.庫別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.updatetime"\n                    ),\n                    field: "最後更新時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="updatetime\' +\n                            i +\n                            \'" name="updatetime\' +\n                            i +\n                            \'" value="\' +\n                            row.最後更新時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.最後更新時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="pName\' +\n                            i +\n                            \'" name="pName\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "oboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "最後更新時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n        };\n\n        return {\n            searchTerm,\n            table,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},6227:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-b6ba7ab6] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OutboundBackrecordTable.vue"],names:[],mappings:"AA+eA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-auto p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :is-loading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useOutboundBackrecord from "../../composables/OutboundBackRecordSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOutboundBackrecord(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        const OutputExcelClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = Array();\n            for (let i = 0; i < data.length; i++) {\n                let tempObj = new Object;\n                tempObj.isn = data[i].料號;\n                tempObj.pName = data[i].品名;\n                tempObj.format = data[i].規格;\n                tempObj.backReason = data[i].退回原因;\n                tempObj.status = data[i].功能狀況;\n                tempObj.line = data[i].線別;\n                tempObj.backAmount = data[i].預退數量 + " " + data[i].單位;\n                tempObj.realBackAmount = data[i].實際退回數量 + " " + data[i].單位;\n                tempObj.backDiffReason = data[i].實退差異原因;\n                tempObj.loc = data[i].儲位;\n                tempObj.receivePeople = data[i].收料人員;\n                tempObj.backPeople = data[i].退料人員;\n                tempObj.backListNum = data[i].退料單號;\n                tempObj.openTime = data[i].開單時間;\n                tempObj.sender = data[i].開單人員;\n                tempObj.inboundTime = data[i].入庫時間;\n                tempObj.mark = data[i].備註;\n                rows.push(tempObj);\n            }\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("outboundpageLang.backrecord"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.isn"), key: \'isn\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pName"), key: \'pName\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.format"), key: \'format\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.backreason"), key: \'backReason\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.status"), key: \'status\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.line"), key: \'line\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.backamount"), key: \'backAmount\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.realbackamount"), key: \'realBackAmount\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.backdiffreason"), key: \'backDiffReason\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.loc"), key: \'loc\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.receivepeople"), key: \'receivePeople\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.backpeople"), key: \'backPeople\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.backlistnum"), key: \'backListNum\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.opentime"), key: \'openTime\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"), key: \'sender\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.inboundtime"), key: \'inboundTime\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.mark"), key: \'mark\' }\n            ];\n\n            worksheet.addRows(rows);\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("outboundpageLang.backrecord") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        }\n\n        watch(mats, () => {\n            let allRowsObj = JSON.parse(mats.value);\n            // console.log(allRowsObj.datas); // test\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.backreason"\n                    ),\n                    field: "退回原因",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退回原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.status"\n                    ),\n                    field: "功能狀況",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.功能狀況 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.line"\n                    ),\n                    field: "線別",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.線別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.backamount"\n                    ),\n                    field: "預退數量",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.預退數量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.realbackamount"\n                    ),\n                    field: "實際退回數量",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實際退回數量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.backdiffreason"\n                    ),\n                    field: "實退差異原因",\n                    width: "23ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.實退差異原因 === null) row.實退差異原因 = "";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實退差異原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.receivepeople"\n                    ),\n                    field: "收料人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.收料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.backpeople"\n                    ),\n                    field: "退料人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.backlistnum"\n                    ),\n                    field: "退料單號",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.退料單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.opentime"\n                    ),\n                    field: "開單時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pr_sender"\n                    ),\n                    field: "開單人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.inboundtime"\n                    ),\n                    field: "入庫時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.入庫時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "開單時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n        };\n        return {\n            searchTerm,\n            table,\n            OutputExcelClick,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},8585:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-8ac38a5c] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OutboundPickMatsUploadTable.vue"],names:[],mappings:"AAk9BA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'outboundpageLang.pick\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto">\n                    <a @click="OutputExcelClick" href="#">\n                        {{ $t(\'outboundpageLang.download_example\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'monthlyPRpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <button id="togglebtn" class="btn btn-primary col col-auto" type="button" data-bs-toggle="collapse"\n        data-bs-target="#importedtable" aria-expanded="false" aria-controls="importedtable" style="display: none;">\n    </button>\n\n    <div class="card collapse" id="importedtable">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput1" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}:\n                        </label>\n                    </div>\n                    <div class="col col-auto p-0 m-0">\n                        <input id="pnInput1" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        :value="$t(\'basicInfoLang.delete\')" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong style="white-space: pre-wrap;">{{ validation_err_msg }}</strong>\n            </span>\n            <span v-if="isDuplicated" class="invalid-feedback d-block" role="alert">\n                <strong style="white-space: pre-wrap;">{{ validation_err_msg_duplicated }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="true"\n                :is-loading="table.isLoading" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows"></table-lite>\n\n            <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <div class="row justify-content-center">\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" type="submit" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-cloud-upload-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useInboundStockSearch from "../../composables/InboundStockSearch.ts";\nimport useOutboundPickRecord from "../../composables/OutboundPickRecordSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        // let exampleUrl = ref(window.location.origin + \'/download/CheckingExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, getExistingStock } = useInboundStockSearch(); // axios get the mats data\n        const { reasons, getPickReason, lines, getLines, uploadNewPickList } = useOutboundPickRecord();\n\n        onBeforeMount(async () => {\n            table.isLoading = false;\n            await getLines();\n            await getPickReason();\n            await getExistingStock(new Array(0), new Array(0));\n        });\n\n        let isInvalid = ref(false); // file input validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let isDuplicated = ref(false); // duplicated isn validation\n        let validation_err_msg = ref("");\n        let validation_err_msg_duplicated = app.appContext.config.globalProperties.$t("outboundpageLang.repeated_isn_will_not_display");\n        let uploadToDBReady = ref(false); // validation\n        const file = ref();\n        let input_data;\n        let checkedRows = [];\n        const searchTerm = ref(""); // Search text\n        const selected_mail = ref(""); // Mail reciever name\n        const data = reactive([]); // pour the data into table\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n            let allData = JSON.parse(mats.value).data;\n            let allLines = JSON.parse(lines.value).datas;\n            let allLines_arr = allLines.map((item) => {\n                return item.線別;\n            });\n            let allReasons = JSON.parse(reasons.value).datas;\n            let allReasons_arr = allReasons.map((item) => {\n                return item.領用原因;\n            });\n            // console.log(allReasons_arr); // test\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = Array();\n            let tempObj = new Object;\n            tempObj.料號 = allData[0].料號;\n            tempObj.品名 = allData[0].品名;\n            tempObj.規格 = allData[0].規格;\n            tempObj.發料部門 = allData[0].發料部門;\n            tempObj.預領數量 = "";\n            tempObj.單位 = allData[0].單位;\n            tempObj.線別 = "";\n            tempObj.領用原因 = "";\n            tempObj.備註 = "";\n            rows.push(tempObj);\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("outboundpageLang.picklist"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.isn"), key: \'料號\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pName"), key: \'品名\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.format"), key: \'規格\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.senddep"), key: \'發料部門\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pickamount"), key: \'預領數量\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.unit"), key: \'單位\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.line"), key: \'線別\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.usereason"), key: \'領用原因\' },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.mark"), key: \'備註\' }\n            ];\n\n            worksheet.addRows(rows);\n\n            const ValidationRange_Line = worksheet.getColumn(\'G\');\n            ValidationRange_Line.eachCell((cell) => {\n                if (cell.row > 1) {\n                    cell.dataValidation = {\n                        type: \'list\',\n                        allowBlank: false,\n                        errorStyle: \'stop\',\n                        errorTitle: \'Invalid Data\',\n                        error: \'Please enter a valid value\',\n                        formulae: [\'"\' + allLines_arr.join(\',\') + \'"\']\n                    };\n                } // if\n            });\n\n            const ValidationRange_Reason = worksheet.getColumn(\'H\');\n            ValidationRange_Reason.eachCell((cell) => {\n                if (cell.row > 1) {\n                    cell.dataValidation = {\n                        type: \'list\',\n                        allowBlank: false,\n                        errorStyle: \'stop\',\n                        errorTitle: \'Invalid Data\',\n                        error: \'Please enter a valid value\',\n                        formulae: [\'"\' + allReasons_arr.join(\',\') + \'"\']\n                    };\n                } // if\n            });\n\n            // Add border to title row and set font to bold on col A to I\n            worksheet.getRow(1).eachCell((cell) => {\n                cell.font = { bold: true };\n                cell.border = {\n                    top: { style: \'thin\' },\n                    left: { style: \'thin\' },\n                    bottom: { style: \'thin\' },\n                    right: { style: \'thin\' }\n                };\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: \'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\' });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("outboundpageLang.download_example") + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\' });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined ||\n                            input_data[0][0] === undefined || input_data[0][4] === undefined ||\n                            input_data[0][6] === undefined || input_data[0][7] === undefined) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][0] != undefined && input_data[i].length > 0 && input_data[i][0].trim() != "" && input_data[i][0].trim() != null) {\n                                    tempArr.push(input_data[i][0].trim().replaceAll(\'\\n\', \'\'));\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n                            } // for\n\n                            // console.log(tempArr); // test\n                            await triggerModal();\n                            await getExistingStock(tempArr, new Array(0));\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            data.splice(0); // cleanup data from previous upload\n            mats.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n            if ($("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n        } // onInputChange\n\n        function CheckCurrentRow(e) {\n            // console.log(e.target.closest(\'tr\').firstChild.firstChild); // test\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const deleteRow = () => {\n            // console.log(checkedRows); // test\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.id) === parseInt(checkedRows[i].id);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n\n            checkedRows = [];\n        } // deleteRow\n\n        const onSendToDBClick = async () => {\n            // console.log(selected_mail.value); // test\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the isn exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (!data[j].valid_isn) {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    data[rowsCount].料號 + " " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            // ----------------------------------------------\n            // prepare the data array to be sent\n            let picklistArry = new Array(8);\n            let isnArry = new Array();\n            let lineArry = new Array();\n            let reasonArry = new Array();\n            let pNameArry = new Array();\n            let formatArry = new Array();\n            let unitArry = new Array();\n            let qtyArry = new Array();\n            let noteArry = new Array();\n            for (let j = 0; j < data.length; j++) {\n                isnArry.push(data[j].料號);\n                lineArry.push(data[j].線別);\n                reasonArry.push(data[j].領用原因);\n                pNameArry.push(data[j].品名);\n                formatArry.push(data[j].規格);\n                unitArry.push(data[j].單位);\n                qtyArry.push(data[j].預領數量);\n                noteArry.push(data[j].備註);\n            } // for\n\n            picklistArry[0] = isnArry;\n            picklistArry[1] = lineArry;\n            picklistArry[2] = reasonArry;\n            picklistArry[3] = pNameArry;\n            picklistArry[4] = formatArry;\n            picklistArry[5] = unitArry;\n            picklistArry[6] = qtyArry;\n            picklistArry[7] = noteArry;\n\n            // actually updating database now\n            let start = Date.now();\n            let result = await uploadNewPickList(picklistArry);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(mats, async () => {\n            await triggerModal();\n            if (input_data == undefined || input_data == null || input_data.length == 0) {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                table.isLoading = false;\n                return;\n            } // if\n            validation_err_msg.value =\n                app.appContext.config.globalProperties.$t("barcodeGenerator.temp_save_error") +\n                " Excel " +\n                app.appContext.config.globalProperties.$t("monthlyPRpageLang.row");\n            // console.log(input_data); // test\n            if (mats.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                table.isLoading = false;\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(mats.value);\n            let allLines = JSON.parse(lines.value);\n            let allReasons = JSON.parse(reasons.value);\n            // console.log(allRowsObj); // test\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                singleEntry.id = i;\n                singleEntry.料號 = input_data[i][0].toString().trim();\n                if (input_data[i][1] === "" || input_data[i][1] === null || input_data[i][1] === undefined) {\n                    singleEntry.品名 = allRowsObj.data.find(object => {\n                        return (object.料號 === singleEntry.料號);\n                    }).品名;\n                } // if\n                else {\n                    singleEntry.品名 = input_data[i][1].toString().trim();\n                } // else\n\n                if (input_data[i][2] === "" || input_data[i][2] === null || input_data[i][2] === undefined) {\n                    singleEntry.規格 = allRowsObj.data.find(object => {\n                        return (object.料號 === singleEntry.料號);\n                    }).規格;\n                } // if\n                else {\n                    singleEntry.規格 = input_data[i][2].toString().trim();\n                } // else\n\n                if (input_data[i][3] === "" || input_data[i][3] === null || input_data[i][3] === undefined) {\n                    singleEntry.發料部門 = allRowsObj.data.find(object => {\n                        return (object.料號 === singleEntry.料號);\n                    }).發料部門;\n                } // if\n                else {\n                    singleEntry.發料部門 = input_data[i][3].toString().trim();\n                } // else\n                singleEntry.預領數量 = parseInt(input_data[i][4]);\n                if (input_data[i][5] === "" || input_data[i][5] === null || input_data[i][5] === undefined) {\n                    singleEntry.單位 = allRowsObj.data.find(object => {\n                        return (object.料號 === singleEntry.料號);\n                    }).單位;\n                } // if\n                else {\n                    singleEntry.單位 = input_data[i][5].toString().trim();\n                } // else\n\n                if (input_data[i][6] === "" || input_data[i][6] === null || input_data[i][6] === undefined) {\n                    singleEntry.線別 = "";\n                } // if\n                else {\n                    singleEntry.線別 = input_data[i][6].toString().trim();\n                } // else\n\n                if (input_data[i][7] === "" || input_data[i][7] === null || input_data[i][7] === undefined) {\n                    singleEntry.領用原因 = "";\n                } // if\n                else {\n                    singleEntry.領用原因 = input_data[i][7].toString().trim();\n                } // else\n\n                if (input_data[i][8] === "" || input_data[i][8] === null || input_data[i][8] === undefined) {\n                    singleEntry.備註 = "";\n                } // if\n                else {\n                    singleEntry.備註 = input_data[i][8].toString().trim();\n                } // else\n\n                // check if already exist in the table\n                let isExist = data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號 && object.線別 === singleEntry.線別 && object.領用原因 === singleEntry.領用原因);\n                });\n\n                if (isExist != -1) {\n                    isDuplicated.value = true;\n                    continue;\n                } // if\n\n                let indexOfObject = allRowsObj.data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號);\n                });\n\n                let indexOfObject2 = allLines.datas.findIndex(object => {\n                    return (object.線別 === singleEntry.線別);\n                });\n\n                let indexOfObject3 = allReasons.datas.findIndex(object => {\n                    return (object.領用原因 === singleEntry.領用原因);\n                });\n\n                // get the sum of the stock for the same pn\n                const sumStock = allRowsObj.data.reduce((acc, cur) => {\n                    const found = acc.find(val => val.料號 === cur.料號)\n                    if (found) {\n                        found.現有庫存 += Number(cur.現有庫存)\n                    } // if\n                    else {\n                        acc.push({ 料號: cur.料號, 現有庫存: Number(cur.現有庫存) })\n                    } // else\n                    return acc\n                }, []);\n                // console.log(sumStock); // test\n\n                // Check if 預領數量 exceeds the stock\n                let stock = sumStock.find(object => {\n                    return (object.料號 === singleEntry.料號);\n                });\n\n                // console.log(stock, singleEntry.預領數量); // test\n                if (parseInt(stock.現有庫存) < parseInt(singleEntry.預領數量)) {\n                    singleEntry.not_enough_stock = true;\n                } // if\n                else {\n                    singleEntry.not_enough_stock = false;\n                } // else\n\n                if (indexOfObject != -1) { // if isn exist in consumptive_material table\n                    singleEntry.valid_isn = true;\n                } // if\n                else {\n                    singleEntry.valid_isn = false;\n                } // else\n\n                if (indexOfObject2 != -1) {\n                    singleEntry.valid_line = true;\n                } // if\n                else {\n                    singleEntry.valid_line = false;\n                } // else\n\n                if (indexOfObject3 != -1) {\n                    singleEntry.valid_reason = true;\n                } // if\n                else {\n                    singleEntry.valid_reason = false;\n                } // else\n\n                if (isNaN(singleEntry.預領數量) || singleEntry.valid_isn === false || singleEntry.valid_line === false || singleEntry.valid_reason === false || singleEntry.not_enough_stock === true) {\n                    isInvalid_DB.value = true;\n                    validation_err_msg.value = validation_err_msg.value + " " + (i + 1) + ",";\n                } // if\n\n                data.push(singleEntry);\n                singleEntry = {};\n            } // for\n\n            validation_err_msg.value = validation_err_msg.value.slice(0, -1); // Remove the last character ","\n\n            // console.log(data); // test\n            if (!$("#importedtable").hasClass("show")) {\n                $("#togglebtn").click();\n            } // if\n\n            uploadToDBReady.value = !isInvalid_DB.value;\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if\n                        else { // isn exist in database\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            if (row.品名 === "N/A") {\n                                return (\n                                    \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<span class="text-danger fw-bold">\' + row.品名 + \'</span>\' +\n                                    "</div>"\n                                );\n                            } // if\n                            else {\n                                return (\n                                    \'<div class="CustomScrollbar text-nowrap"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    row.品名 +\n                                    "</div>"\n                                );\n                            } // else\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.規格 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.senddep"\n                    ),\n                    field: "發料部門",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_isn === false) { // if isn not exist in consumptive_material table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.發料部門 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pickamount"\n                    ),\n                    field: "預領數量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (!Number.isInteger(row.預領數量)) {\n                            if (row.單位 === "N/A") {\n                                return (\n                                    \'<div class="text-nowrap CustomScrollbar"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<i class="bi bi-x-lg text-danger fw-bold"></i>\' + \'&nbsp;<small class="text-danger fw-bold">\' + row.單位 + \'</small>\' +\n                                    "</div>"\n                                );\n                            } // if\n                            else {\n                                return (\n                                    \'<div class="text-nowrap CustomScrollbar"\' +\n                                    \' style="overflow-x: auto; width: 100%;">\' +\n                                    \'<i class="bi bi-x-lg text-danger fw-bold"></i>\' + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                                    "</div>"\n                                );\n                            } // else\n                        } // if\n                        else if (row.not_enough_stock === true) {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("outboundpageLang.stockless") +\n                                "</div>"\n                            );\n                        } // else if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.預領數量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.line"\n                    ),\n                    field: "線別",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_line === false) { // if location not exist in location table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("outboundpageLang.no_line") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.線別 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.usereason"\n                    ),\n                    field: "領用原因",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.valid_reason === false) { // if location not exist in location table\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("outboundpageLang.no_reason") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.領用原因 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "儲位",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            // exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            isDuplicated,\n            validation_err_msg,\n            validation_err_msg_duplicated,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            OutputExcelClick,\n            updateCheckedRows,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n            CheckCurrentRow,\n            deleteRow,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},3659:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-c6f7453c] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/OutboundPickrecordTable.vue"],names:[],mappings:"AA2dA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-auto p-0 m-0">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-fixed-first-column="true" :is-static-mode="true" :hasCheckbox="false" :is-loading="table.isLoading"\n        :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n        :page-options="table.pageOptions" :sortable="table.sortable" @is-finished="table.isLoading = false"\n        @return-checked-rows="updateCheckedRows"></table-lite>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useOutboundPickrecord from "../../composables/OutboundPickRecordSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats, getMats } = useOutboundPickrecord(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getMats();\n        });\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        // const senders = reactive([]); // access the value by senders[0], senders[1] ...\n\n        const OutputExcelClick = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let workbook = new ExcelJS.Workbook();\n            let worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("outboundpageLang.pickrecord"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.isn"), key: \'料號\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pName"), key: \'品名\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.format"), key: \'規格\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.usereason"), key: \'領用原因\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.line"), key: \'線別\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pickamount"), key: \'預領數量\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.realpickamount"), key: \'實際領用數量\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.diffreason"), key: \'實領差異原因\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.loc"), key: \'儲位\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.pickpeople"), key: \'領料人員\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.sendpeople"), key: \'發料人員\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.picklistnum"), key: \'領料單號\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.opentime"), key: \'開單時間\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.pr_sender"), key: \'開單人員\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.outboundtime"), key: \'出庫時間\', width: 20 },\n                { header: app.appContext.config.globalProperties.$t("outboundpageLang.mark"), key: \'備註\', width: 20 }\n            ];\n\n            data.forEach(item => {\n                worksheet.addRow({\n                    料號: item.料號,\n                    品名: item.品名,\n                    規格: item.規格,\n                    領用原因: item.領用原因,\n                    線別: item.線別,\n                    預領數量: item.預領數量 + " " + item.單位,\n                    實際領用數量: item.實際領用數量 + " " + item.單位,\n                    實領差異原因: item.實領差異原因,\n                    儲位: item.儲位,\n                    領料人員: item.領料人員,\n                    發料人員: item.發料人員,\n                    領料單號: item.領料單號,\n                    開單時間: item.開單時間,\n                    開單人員: item.開單人員,\n                    出庫時間: item.出庫時間,\n                    備註: item.備註\n                });\n            });\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("outboundpageLang.pickrecord") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        watch(mats, () => {\n            // console.log(JSON.parse(mats.value)); // test\n            let allRowsObj = JSON.parse(mats.value);\n            //console.log(allRowsObj.datas.length);\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                data.push(allRowsObj.datas[i]);\n            } // for\n\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.usereason"\n                    ),\n                    field: "領用原因",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領用原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.line"\n                    ),\n                    field: "線別",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.線別 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pickamount"\n                    ),\n                    field: "預領數量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.預領數量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.realpickamount"\n                    ),\n                    field: "實際領用數量",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實際領用數量 + \'&nbsp;<small>\' + row.單位 + \'</small>\' +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.diffreason"\n                    ),\n                    field: "實領差異原因",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.實領差異原因 === null) row.實領差異原因 = "";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.實領差異原因 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.loc"\n                    ),\n                    field: "儲位",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.儲位 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.pickpeople"\n                    ),\n                    field: "領料人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.sendpeople"\n                    ),\n                    field: "發料人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.發料人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.picklistnum"\n                    ),\n                    field: "領料單號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.領料單號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.opentime"\n                    ),\n                    field: "開單時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pr_sender"\n                    ),\n                    field: "開單人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.outboundtime"\n                    ),\n                    field: "出庫時間",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.出庫時間 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "outboundpageLang.mark"\n                    ),\n                    field: "備註",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.備註 === null) row.備註 = "";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.備註 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "開單時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            console.log(rowsKey);\n        };\n        return {\n            searchTerm,\n            table,\n            OutputExcelClick,\n            updateCheckedRows,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},2109:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-40257998] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/SxbSearchTable.vue"],names:[],mappings:"AAqsBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="sxbInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-auto p-0 m-0">\n                <input id="sxbInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.entersxb\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(\'All\')">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\n    \x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false" :messages="table.messages"\n        :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount" :page-options="table.pageOptions"\n        :sortable="table.sortable" :is-fixed-first-column="false" :is-loading="table.isLoading"\n        @is-finished="table.isLoading = false">\n        <template v-slot:SXB單號="{ row, key }">\n            <div class="col col-auto align-items-center m-0 p-0">\n                <button @click="openSXBDetails(row.SXB單號)" type="button" data-bs-toggle="modal"\n                    data-bs-target="#detailTable" class="btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0"\n                    style="border-radius: 20px;" :id="\'sxb\' + row.id" :name="\'sxb\' + key">More</button>\n            </div>\n        </template>\n        <template v-slot:狀態="{ row, key }">\n            <div class="col col-auto align-items-center m-0 p-0">\n                <a v-if="row.狀態 === \'未簽核\'" @click="openSXBDetails(row.SXB單號)" data-bs-toggle="modal"\n                    data-bs-target="#detailTable" class="m-0 p-0" style="color: #dca120;">\n                    {{ $t("monthlyPRpageLang.review_pending") }}\n                </a>\n                <a v-else-if="row.狀態 === \'已退單\'" @click="openSXBDetails(row.SXB單號)" data-bs-toggle="modal"\n                    data-bs-target="#detailTable" class="m-0 p-0" style="color: #808080;">\n                    {{ $t("monthlyPRpageLang.review_cancel") }}\n                </a>\n                <a v-else class="m-0 p-0" @click="openSXBDetails(row.SXB單號)" data-bs-toggle="modal"\n                    data-bs-target="#detailTable" style="color: #2bb91b;">\n                    {{ $t("monthlyPRpageLang.review_complete") }}\n                </a>\n            </div>\n        </template>\n    </table-lite>\n\n    \x3c!-- Modal --\x3e\n    <div class="modal fade" id="detailTable" tabindex="-1" aria-labelledby="detailTable" aria-hidden="false">\n        <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">\n            <div class="modal-content">\n                <div class="modal-header justify-content-center">\n                    <h1 class="col col-auto modal-title m-0 p-0 fs-4">\n                        {{ modalTitle }}\n                    </h1>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="row justify-content-between">\n                        <div class="row col col-auto">\n                            <div class="col col-auto">\n                                <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }}\n                                    :</label>\n                            </div>\n                            <div class="col col-auto p-0 m-0">\n                                <input id="pnInput" class="text-center form-control form-control-lg"\n                                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')"\n                                    v-model="searchTerm2" />\n                            </div>\n                        </div>\n                        <div class="col col-auto">\n                            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(modalTitle)">\n                                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                            </button>\n                        </div>\n                    </div>\n                    <div class="w-100" style="height: 1ch"></div>\n                    \x3c!-- </div>breaks cols to a new line--\x3e\n                    <table-lite :is-static-mode="true" :isSlotMode="true" :hasCheckbox="false"\n                        :messages="table2.messages" :columns="table2.columns" :rows="table2.rows"\n                        :total="table2.totalRecordCount" :page-options="table2.pageOptions" :sortable="table2.sortable"\n                        :is-fixed-first-column="false" @row-clicked="rowClicked" :is-loading="table2.isLoading"\n                        @is-finished="table2.isLoading = false">\n                    </table-lite>\n                </div>\n                <div v-if="showFooter" class="modal-footer justify-content-between">\n                    <button @click="sxb_reject" type="button" class="btn btn-lg btn-danger" style="border-radius: 5px;">\n                        {{ $t(\'monthlyPRpageLang.review_cancel\') }}\n                    </button>\n                    <button @click="sxb_approve" type="button" class="btn btn-lg btn-success"\n                        style="border-radius: 5px;">\n                        {{ $t(\'monthlyPRpageLang.review_complete\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useSxbSearch from "../../composables/SxbSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { mats_SXB, inTransit, getMats, SXB_Reject, SXB_Approve, getTransit } = useSxbSearch(); // axios get the mats_SXB data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            table2.isLoading = true;\n            await getMats();\n        });\n\n        const searchTerm = ref(""); // Search text\n        const searchTerm2 = ref(""); // Search text for modal table\n        const modalTitle = ref("");\n        let showFooter = ref(false);\n        let AllRecords = [];\n\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n        const data2 = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const OutputExcelClick = async (output_range) => {\n            await triggerModal();\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let workbook = new ExcelJS.Workbook();\n            let worksheet;\n\n            if (output_range === \'All\') {\n                worksheet = workbook.addWorksheet(\'ALL\');\n                worksheet.columns = [\n                    { header: app.appContext.config.globalProperties.$t("checkInvLang.serial_number"), key: \'單號\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("basicInfoLang.isn"), key: \'料號\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("basicInfoLang.pName"), key: \'品名\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"), key: \'MOQ\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"), key: \'本次請購數量\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"), key: \'總價\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"), key: \'請購時間\', width: 20 }\n                ];\n\n                AllRecords.forEach(item => {\n                    worksheet.addRow({\n                        單號: item.SXB單號,\n                        料號: item.料號,\n                        品名: item.品名,\n                        MOQ: item.MOQ,\n                        本次請購數量: item.本次請購數量,\n                        總價: parseFloat(item.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") + " " + item.幣別,\n                        請購時間: item.請購時間\n                    });\n                });\n            } else {\n                worksheet = workbook.addWorksheet(data2[0].SXB單號);\n                worksheet.columns = [\n                    { header: app.appContext.config.globalProperties.$t("checkInvLang.serial_number"), key: \'單號\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("basicInfoLang.isn"), key: \'料號\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("basicInfoLang.pName"), key: \'品名\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.moq"), key: \'MOQ\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyamount"), key: \'本次請購數量\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buyprice"), key: \'總價\', width: 20 },\n                    { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.buytime"), key: \'請購時間\', width: 20 }\n                ];\n\n                data2.forEach(item => {\n                    worksheet.addRow({\n                        單號: item.SXB單號,\n                        料號: item.料號,\n                        品名: item.品名,\n                        MOQ: item.MOQ,\n                        本次請購數量: item.本次請購數量,\n                        總價: parseFloat(item.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") + " " + item.幣別,\n                        請購時間: item.請購時間\n                    });\n                });\n            }\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("monthlyPRpageLang.SXB_search") + (output_range === \'All\' ? "(ALL)" : "(" + data2[0].SXB單號 + ")") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        const openSXBDetails = (SXB) => {\n            // console.log("clicked!"); // test\n            table2.isLoading = true;\n            modalTitle.value = SXB;\n            data2.splice(0);\n            for (let i = 0; i < AllRecords.length; i++) {\n                if (AllRecords[i].SXB單號 === SXB) {\n                    data2.push(AllRecords[i]);\n                } // if\n            } // for\n\n            if (data2[0].狀態 === \'未簽核\') {\n                showFooter.value = true;\n            } // if\n            else {\n                showFooter.value = false;\n            } // else\n            table2.isLoading = false;\n        } // openSXBDetails\n\n        const sxb_reject = async () => {\n            await triggerModal();\n            let result = await SXB_Reject(data2[0].SXB單號);\n            if (result === "success") {\n                showFooter.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                await getMats();\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // sxb_reject\n\n        const sxb_approve = async () => {\n            await triggerModal();\n            let temp_isn = [];\n            for (let i = 0; i < data2.length; i++) {\n                temp_isn.push(data2[i].料號);\n            } // for\n\n            await getTransit(temp_isn); // get existing in-transit data\n            let existing = JSON.parse(inTransit.value).data;\n            // console.log(existing); // test\n            // return ; // test\n            let isn = [];\n            let amount = [];\n            for (let i = 0; i < data2.length; i++) {\n                isn.push(data2[i].料號);\n\n                let indexOfObject = existing.findIndex(object => {\n                    return (object.料號 === data2[i].料號);\n                });\n\n                if (indexOfObject === -1) {\n                    amount.push(parseInt(data2[i].本次請購數量));\n                } // if\n                else {\n                    amount.push(parseInt(data2[i].本次請購數量) + parseInt(existing[indexOfObject].請購數量));\n                } // else\n            } // for\n\n            // console.log(amount, isn); // test\n\n            let result = await SXB_Approve(data2[0].SXB單號, isn, amount);\n            if (result === "success") {\n                showFooter.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                await getMats();\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // sxb_approve\n\n        watch(mats_SXB, async () => {\n            await triggerModal();\n            // console.log(JSON.parse(mats_SXB.value)); // test\n            let allRowsObj = JSON.parse(mats_SXB.value);\n            data.splice(0);\n            AllRecords = [];\n            for (let i = 0; i < allRowsObj.datas.length; i++) {\n                allRowsObj.datas[i].本次請購數量 = parseInt(\n                    allRowsObj.datas[i].本次請購數量\n                );\n\n                allRowsObj.datas[i].狀態 = allRowsObj.datas[i].SRM單號;\n                allRowsObj.datas[i].id = i + 1;\n                if (allRowsObj.datas[i].開單人員 === null || allRowsObj.datas[i].開單人員 === undefined) allRowsObj.datas[i].開單人員 = "N/A";\n                AllRecords.push(allRowsObj.datas[i]);\n                let indexOfObject = data.findIndex(object => {\n                    return (object.SXB單號 === allRowsObj.datas[i].SXB單號);\n                });\n\n                if (indexOfObject === -1) {\n                    data.push(allRowsObj.datas[i]);\n                } // if\n            } // for\n\n            // console.log(allRowsObj.datas); // test\n            // console.log(AllRecords); // test\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buytime"\n                    ),\n                    field: "請購時間",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        let returnStr = "";\n                        // console.log(row); // test\n                        returnStr =\n                            \'<input type="hidden" id="srm\' +\n                            i +\n                            \'" name="srm\' +\n                            i +\n                            \'" value="\' +\n                            row.請購時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.請購時間 +\n                            "</div>";\n\n                        return returnStr;\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.status"\n                    ),\n                    field: "狀態",\n                    width: "6ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.info"\n                    ),\n                    field: "SXB單號",\n                    width: "4ch",\n                    sortable: false,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pr_sender"\n                    ),\n                    field: "開單人員",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.開單人員 === null || row.開單人員 === undefined) row.開單人員 = "N/A";\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.開單人員 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n\n                    x.開單人員\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase())\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "請購時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const table2 = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    isKey: true,\n                    display: function (row, i) {\n                        // console.log(row);\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            row.id +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.pName"\n                    ),\n                    field: "品名",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.moq"\n                    ),\n                    field: "MOQ",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="moq\' +\n                            row.id +\n                            \'" name="moq\' +\n                            i +\n                            \'" value="\' +\n                            row.MOQ +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.MOQ + " <small>" + row.單位 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyamount"\n                    ),\n                    field: "本次請購數量",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="buyamount\' +\n                            row.id +\n                            \'" name="buyamount\' +\n                            i +\n                            \'" value="\' +\n                            row.本次請購數量 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseInt(row.本次請購數量).toLocaleString("en-US") +\n                            " <small>" + row.單位 + "</small>" + "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.buyprice"\n                    ),\n                    field: "請購金額",\n                    width: "11ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="buyprice\' +\n                            row.id +\n                            \'" name="buyprice\' +\n                            i +\n                            \'" value="\' +\n                            row.請購金額 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            parseFloat(row.請購金額).toFixed(2).replace(/\\B(?<!\\.\\d*)(?=(\\d{3})+(?!\\d))/g, ",") +\n                            " <small>" + row.幣別 + "</small>" +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data2.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm2.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm2.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table2.rows.length;\n            }),\n            sortable: {\n                order: "請購金額",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        /**\n        * Row clicked event\n        */\n        const rowClicked = (row) => {\n            // console.log("Row clicked!", row);\n        };\n\n        return {\n            searchTerm,\n            searchTerm2,\n            table,\n            table2,\n            modalTitle,\n            showFooter,\n            rowClicked,\n            openSXBDetails,\n            sxb_approve,\n            sxb_reject,\n            OutputExcelClick,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},4682:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,'.vtl-checkbox-td[data-v-3cbadeb8],.vtl-checkbox-th[data-v-3cbadeb8]{min-width:38px;width:3.5ch}.vtl-both[data-v-3cbadeb8]{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7X QMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC")}.vtl-sortable[data-v-3cbadeb8]{background-position:100%;background-repeat:no-repeat;cursor:pointer}.vtl-asc[data-v-3cbadeb8]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==)}.vtl-desc[data-v-3cbadeb8]{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=)}.vtl-loading-mask[data-v-3cbadeb8]{background-color:rgba(0,0,0,.5);display:flex;flex-flow:column;height:100%;left:0;position:absolute;top:0;transition:opacity .3s ease;width:100%;z-index:3}.vtl-loading-content[data-v-3cbadeb8]{align-items:center;display:flex;flex:1;justify-content:center}.vtl-card[data-v-3cbadeb8]{word-wrap:break-word;background-clip:border-box;display:flex;flex-direction:column;min-width:0;position:relative}.vtl-card[data-v-3cbadeb8],select[data-v-3cbadeb8]{background-color:#fff}select[data-v-3cbadeb8]{border:1px solid #ccc;height:auto;margin-bottom:0;padding:0;width:auto}table[data-v-3cbadeb8]{table-layout:fixed!important}div.dataTables_wrapper div.dataTables_paginate[data-v-3cbadeb8]{margin:0;text-align:right;white-space:nowrap}div.dataTables_wrapper div.dataTables_paginate ul.pagination[data-v-3cbadeb8]{justify-content:flex-end;margin:2px 0;white-space:nowrap}.pagination[data-v-3cbadeb8]{display:flex;list-style:none;padding-left:0}.pagination a[data-v-3cbadeb8]:hover:not(.disabled){background-color:#ddd;border-radius:5px}.vtl-table[data-v-3cbadeb8]{border-collapse:collapse;color:#212529;margin-bottom:1rem;width:100%}th[data-v-3cbadeb8]{text-align:inherit}tr[data-v-3cbadeb8]{border-color:inherit;display:table-row;vertical-align:inherit}.vtl-table-bordered thead td[data-v-3cbadeb8],.vtl-table-bordered thead th[data-v-3cbadeb8]{border-bottom-width:2px}.vtl-table thead th[data-v-3cbadeb8]{background-color:#343a40;border-color:#454d55;border-bottom:2px solid #dee2e6;color:#fff;vertical-align:bottom}.vtl-table-bordered td[data-v-3cbadeb8],.vtl-table-bordered th[data-v-3cbadeb8]{border:1px solid #dee2e6}.vtl-table td[data-v-3cbadeb8],.vtl-table th[data-v-3cbadeb8]{border-top:1px solid #dee2e6;padding:.75rem;vertical-align:top;vertical-align:middle}.vtl-table-responsive[data-v-3cbadeb8]{-webkit-overflow-scrolling:touch;display:block;overflow-x:auto;width:100%}.vtl-table-responsive>.vtl-table-bordered[data-v-3cbadeb8]{border:0}.vtl-row[data-v-3cbadeb8]{display:flex;flex-wrap:wrap}.vtl-pagination[data-v-3cbadeb8]{border-radius:.25rem;display:flex;justify-content:flex-end;list-style:none;margin:2px 0;padding-left:0;white-space:nowrap}.page-item.disabled .page-link[data-v-3cbadeb8]{background-color:#fff;border-color:#dee2e6;color:#6c757d;cursor:auto;pointer-events:none}.page-item:first-child .page-link[data-v-3cbadeb8]{border-bottom-left-radius:.25rem;border-top-left-radius:.25rem;margin-left:0}.page-link[data-v-3cbadeb8]{background-color:#fff;color:#000;display:block;line-height:1.25;margin-left:-1px;padding:.5rem .75rem;position:relative}.sr-only[data-v-3cbadeb8]{clip:rect(0,0,0,0);border:0;height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}[data-v-3cbadeb8],[data-v-3cbadeb8]:after,[data-v-3cbadeb8]:before{box-sizing:border-box}.col-sm-12[data-v-3cbadeb8]{flex:0 0 100%;max-width:100%}.text-center[data-v-3cbadeb8]{text-align:center}@media (min-width:576px){.vtl-table-responsive-sm[data-v-3cbadeb8]{-webkit-overflow-scrolling:touch;display:block;overflow-x:auto;width:100%}.vtl-table-responsive-sm>.table-bordered[data-v-3cbadeb8]{border:0}.col-md-4[data-v-3cbadeb8]{flex:0 0 33.333333%;max-width:33.333333%}}.vtl-table thead th[data-v-3cbadeb8]{position:sticky;top:0;z-index:1}.vtl-table tbody th[data-v-3cbadeb8]{left:0;position:sticky;z-index:1}.fixed-first-column[data-v-3cbadeb8]{overflow-x:auto}.fixed-first-column tr th[data-v-3cbadeb8]:first-child{left:0;position:sticky;z-index:2}.fixed-first-column tr td[data-v-3cbadeb8]:first-child{left:0;position:sticky}.fixed-first-column tr th[data-v-3cbadeb8]:first-child:before,.fixed-first-second-column tr th[data-v-3cbadeb8]:nth-child(2):before{border-right:1px solid #454d55;content:"";height:102%;left:0;position:absolute;top:0;width:102%}.fixed-first-column tr .vtl-checkbox-th[data-v-3cbadeb8]:first-child:before{border-right:1px solid #454d55;content:"";height:102%;left:0;position:absolute;top:0;width:102%}.fixed-first-column tr td[data-v-3cbadeb8]:first-child:before{border-right:1px solid #dee2e6;content:"";height:102%;left:0;position:absolute;top:0;width:102%}.fixed-first-column tr .vtl-checkbox-td[data-v-3cbadeb8]:first-child:before{border-right:1px solid #dee2e6;content:"";height:102%;left:0;position:absolute;top:0;width:103%}.fixed-first-second-column tr td[data-v-3cbadeb8]:nth-child(2),.fixed-first-second-column tr th[data-v-3cbadeb8]:nth-child(2){left:38px;position:sticky}.fixed-first-second-column tr th[data-v-3cbadeb8]:nth-child(2){z-index:2}.fixed-first-column tr td[data-v-3cbadeb8]:first-child,.fixed-first-second-column tr td[data-v-3cbadeb8]:nth-child(2){background-color:#fff}.flex[data-v-3cbadeb8]{display:flex}.animation[data-v-3cbadeb8]{transform:rotate(0deg);transition:transform .3s}.cursor-pointer[data-v-3cbadeb8]{cursor:pointer}.rotated-90[data-v-3cbadeb8]{transform:rotate(-90deg)}.hidden[data-v-3cbadeb8]{display:none}.ml-2[data-v-3cbadeb8]{margin-left:.5rem}td[data-v-3cbadeb8]{text-align:center}',"",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/TableLite.vue"],names:[],mappings:"AAs8BA,oEAEE,cAAe,CADf,WAEF,CAEA,2BACE,2TACF,CAEA,+BAEE,wBAA0B,CAC1B,2BAA4B,CAF5B,cAIF,CAEA,0BACE,oQACF,CAEA,2BACE,gQACF,CAEA,mCAOE,+BAAoC,CACpC,YAAa,CACb,gBAAiB,CAHjB,WAAY,CAFZ,MAAO,CAHP,iBAAkB,CAElB,KAAM,CAON,2BAA6B,CAL7B,UAAW,CAHX,SASF,CAEA,sCAGE,kBAAmB,CADnB,YAAa,CADb,MAAO,CAGP,sBACF,CAEA,2BAOE,oBAAqB,CAErB,0BAA2B,CAN3B,YAAa,CAEb,qBAAsB,CACtB,WAAY,CALZ,iBASF,CAEA,mDAJE,qBAWF,CAPA,wBAEE,qBAAyB,CAEzB,WAAY,CAEZ,eAAgB,CADhB,SAAU,CAJV,UAMF,CAEA,uBACE,4BACF,CAEA,gEACE,QAAS,CAET,gBAAiB,CADjB,kBAEF,CAEA,8EAGE,wBAAyB,CAFzB,YAAa,CACb,kBAEF,CAEA,6BACE,YAAa,CAEb,eAAgB,CADhB,cAEF,CAEA,oDACE,qBAAsB,CACtB,iBACF,CAEA,4BAIE,wBAAyB,CADzB,aAAc,CADd,kBAAmB,CADnB,UAIF,CAEA,oBACE,kBACF,CAEA,oBAGE,oBAAqB,CAFrB,iBAAkB,CAClB,sBAEF,CAEA,4FAEE,uBACF,CAEA,qCAGE,wBAAyB,CACzB,oBAAqB,CACrB,+BAAgC,CAHhC,UAAW,CADX,qBAKF,CAEA,gFAEE,wBACF,CAEA,8DAIE,4BAA6B,CAF7B,cAAgB,CAChB,kBAAmB,CAEnB,qBACF,CAEA,uCAIE,gCAAiC,CAHjC,aAAc,CAEd,eAAgB,CADhB,UAGF,CAEA,2DACE,QACF,CAEA,0BAEE,YAAa,CAEb,cACF,CAEA,iCAQE,oBAAsB,CAHtB,YAAa,CAFb,wBAAyB,CAIzB,eAAgB,CANhB,YAAa,CAKb,cAAe,CAJf,kBAOF,CAEA,gDAIE,qBAAsB,CACtB,oBAAqB,CAJrB,aAAc,CAEd,WAAY,CADZ,mBAIF,CAEA,mDAGE,gCAAkC,CADlC,6BAA+B,CAD/B,aAGF,CAEA,4BAOE,qBAAsB,CADtB,UAAc,CAJd,aAAc,CAGd,gBAAiB,CADjB,gBAAiB,CADjB,oBAAuB,CAFvB,iBAOF,CAEA,0BAOE,kBAAsB,CAEtB,QAAS,CANT,UAAW,CAEX,WAAY,CACZ,eAAgB,CAFhB,SAAU,CAHV,iBAAkB,CAOlB,kBAAmB,CANnB,SAQF,CAEA,mEAGE,qBACF,CAEA,4BAEE,aAAc,CACd,cACF,CAEA,8BACE,iBACF,CAEA,yBACE,0CAIE,gCAAiC,CAHjC,aAAc,CAEd,eAAgB,CADhB,UAGF,CAEA,0DACE,QACF,CAEA,2BAEE,mBAAoB,CACpB,oBACF,CACF,CAEA,qCACE,eAAgB,CAChB,KAAM,CACN,SACF,CAEA,qCAEE,MAAO,CADP,eAAgB,CAEhB,SACF,CAEA,qCACE,eACF,CAEA,uDAEE,MAAO,CADP,eAAgB,CAEhB,SACF,CAEA,uDAEE,MAAO,CADP,eAEF,CAGA,oIAIE,8BAA+B,CAF/B,UAAW,CAMX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAGlB,KAAM,CACN,UAEF,CAEA,4EAGE,8BAA+B,CAF/B,UAAW,CAMX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAGlB,KAAM,CACN,UAEF,CAEA,8DAGE,8BAA+B,CAF/B,UAAW,CAMX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAGlB,KAAM,CACN,UAEF,CAEA,4EAGE,8BAA+B,CAF/B,UAAW,CAMX,WAAY,CAHZ,MAAO,CAFP,iBAAkB,CAGlB,KAAM,CACN,UAEF,CAEA,8HAGE,SAAU,CADV,eAEF,CAEA,+DACE,SACF,CAEA,sHAEE,qBACF,CAEA,uBACE,YACF,CAEA,4BACE,sBAAuB,CACvB,wBACF,CAEA,iCACE,cACF,CAEA,6BACE,wBACF,CAEA,yBACE,YACF,CAEA,uBACE,iBACF,CAEA,oBACE,iBACF",sourcesContent:['<template>\n  <div class="vtl vtl-card p-2">\n    <div class="vtl-card-title" v-if="title">{{ title }}</div>\n    <div class="vtl-card-body">\n      <div class="vtl-row">\n        <div class="col-sm-12 dataTables_wrapper CustomScrollbar" :class="{\n          \'fixed-first-column\': isFixedFirstColumn,\n          \'fixed-first-second-column\': isFixedFirstColumn && hasCheckbox,\n        }">\n          <div v-if="isLoading" class="vtl-loading-mask">\n            <div class="vtl-loading-content">\n              <span style="color: white">Loading...</span>\n            </div>\n          </div>\n          <table\n            class="vtl-table vtl-table-bordered table table-hover align-items-center align-middle text-center justify-content-center"\n            ref="localTable" :style="\'max-height: \' + maxHeight + \'px;\'">\n            <thead class="vtl-thead">\n              <tr class="vtl-thead-tr m-0 p-0">\n                <th v-if="hasCheckbox" class="vtl-thead-th vtl-checkbox-th m-0 p-0 align-items-center align-middle"\n                  @click="clickChild($event)">\n                  <input type="checkbox" class="vtl-thead-checkbox" v-model="setting.isCheckAll" />\n                </th>\n                <th v-for="(col, index) in columns" class="vtl-thead-th m-0 p-0" :class="col.headerClasses" :key="index"\n                  :style="Object.assign(\n                    {\n                      width: col.width ? col.width : \'auto\',\n                    },\n                    col.headerStyles\n                  )\n                    " @click="clickChild($event)">\n                  <div class="vtl-thead-column" :class="{\n                    \'vtl-sortable\': col.sortable,\n                    \'vtl-both\': col.sortable,\n                    \'vtl-asc\':\n                      setting.order === col.field && setting.sort === \'asc\',\n                    \'vtl-desc\':\n                      setting.order === col.field && setting.sort === \'desc\',\n                  }" @click.prevent="col.sortable ? doSort(col.field) : false" v-html="col.label">\n                  </div>\n                </th>\n              </tr>\n            </thead>\n            <template v-if="rows.length > 0">\n              <tbody v-if="isStaticMode" class="vtl-tbody"\n                :set="(templateRows = groupingKey == \'\' ? [localRows] : localRows)">\n                <template v-for="(rows, groupingIndex) in templateRows">\n                  <tr :key="groupingIndex" v-if="groupingKey != \'\'" class="vtl-tbody-tr vtl-group-tr m-0 p-0">\n                    <td :colspan="hasCheckbox ? 2 : 1" class="vtl-tbody-td vtl-group-td m-0 p-0">\n                      <div class="flex">\n                        <div v-if="hasGroupToggle" class="animation">\n                          <a :ref="(el) => (toggleButtonRefs[groupingIndex] = el)" class="cursor-pointer"\n                            style="text-decoration: none; /* no underline */"\n                            @click.prevent="toggleGroup(groupingIndex)">▼</a>\n                        </div>\n                        <div class="ml-2" v-html="groupingDisplay ? groupingDisplay(groupingIndex) : groupingIndex"></div>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr v-for="(row, i) in rows" :key="row[setting.keyColumn] ? row[setting.keyColumn] : i" :ref="(el) => {\n                    if (!groupingRowsRefs[groupingIndex]) {\n                      groupingRowsRefs[groupingIndex] = [];\n                    }\n                    groupingRowsRefs[groupingIndex][i] = el;\n                  }" :name="\'vtl-group-\' + groupingIndex" class="vtl-tbody-tr m-0 p-0"\n                    :class="typeof rowClasses === \'function\' ? rowClasses(row) : rowClasses"\n                    @click="$emit(\'row-clicked\', row)">\n                    <td v-if="hasCheckbox" class="vtl-tbody-td vtl-checkbox-td m-0 p-0" @click="clickChild($event)">\n                      <input type="checkbox" class="vtl-tbody-checkbox" :id="\'checkbox\' + i" @click="checked(row, $event)"\n                        :ref="(el) => { rowCheckbox.push(el); }" :value="row[setting.keyColumn]" />\n                    </td>\n                    <td v-for="(col, j) in columns" :key="j" class="vtl-tbody-td px-1 py-0"\n                      :class="[\'vtl-tbody-td\' + j].concat(col.columnClasses)" :style="col.columnStyles">\n                      <div v-if="col.display" v-html="col.display(row, i)"></div>\n                      <div v-else style="width: max-content; margin: 0 auto;">\n                        <div v-if="setting.isSlotMode && slots[col.field]" style="width: max-content; margin: 0 auto;">\n                          <slot :name="col.field" :row="row" :key="i"></slot>\n                        </div>\n                        <span v-else>{{ row[col.field] }}</span>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n              </tbody>\n              <tbody v-else :set="(templateRows = groupingKey == \'\' ? [rows] : groupingRows)">\n                <template v-for="(rows, groupingIndex) in templateRows">\n                  <tr v-if="groupingKey != \'\'" class="vtl-tbody-tr vtl-group-tr m-0 p-0" :key="groupingIndex">\n                    <td :colspan="hasCheckbox ? columns.length + 1 : columns.length"\n                      class="vtl-tbody-td vtl-group-td m-0 p-0">\n                      <div class="flex">\n                        <div v-if="hasGroupToggle" class="animation">\n                          <a :ref="(el) => (toggleButtonRefs[groupingIndex] = el)" class="cursor-pointer"\n                            style="text-decoration: none; /* no underline */"\n                            @click.prevent="toggleGroup(groupingIndex)">▼</a>\n                        </div>\n                        <div class="ml-2" v-html="groupingDisplay\n                          ? groupingDisplay(groupingIndex)\n                          : groupingIndex\n                          "></div>\n                      </div>\n                    </td>\n                  </tr>\n                  <tr v-for="(row, i) in rows" :ref="(el) => {\n                    if (!groupingRowsRefs[groupingIndex]) {\n                      groupingRowsRefs[groupingIndex] = [];\n                    }\n                    groupingRowsRefs[groupingIndex][i] = el;\n                  }\n                    " :name="\'vtl-group-\' + groupingIndex" :key="row[setting.keyColumn] ? row[setting.keyColumn] : i"\n                    class="vtl-tbody-tr m-0 p-0" :class="typeof rowClasses === \'function\' ? rowClasses(row) : rowClasses"\n                    @click="$emit(\'row-clicked\', row)">\n                    <td v-if="hasCheckbox" class="vtl-tbody-td vtl-checkbox-td m-0 p-0" @click="clickChild($event)">\n                      <input type="checkbox" class="vtl-tbody-checkbox" :id="\'checkbox\' + i"\n                        :ref="(el) => { rowCheckbox.push(el); }" :value="row[setting.keyColumn]"\n                        @click="checked(row, $event)" />\n                    </td>\n                    <td v-for="(col, j) in columns" :key="j" class="vtl-tbody-td px-1 py-0"\n                      :class="[\'vtl-tbody-td\' + j].concat(col.columnClasses)" :style="col.columnStyles">\n                      <div v-if="col.display" v-html="col.display(row, i)"></div>\n                      <div v-else style="width: max-content; margin: 0 auto;">\n                        <div v-if="setting.isSlotMode && slots[col.field]" style="width: max-content; margin: 0 auto;">\n                          <slot :name="col.field" :row="row" :key="i"></slot>\n                        </div>\n                        <span v-else>{{ row[col.field] }}</span>\n                      </div>\n                    </td>\n                  </tr>\n                </template>\n              </tbody>\n            </template>\n          </table>\n        </div>\n      </div>\n      <div class="vtl-paging vtl-row" v-if="rows.length > 0">\n        <template v-if="!setting.isHidePaging">\n          <div class="vtl-paging-info col col-auto p-0 m-0">\n            <div role="status" aria-live="polite">\n              {{\n                stringFormat(\n                  messages.pagingInfo,\n                  setting.offset,\n                  setting.limit,\n                  total\n                )\n              }}\n            </div>\n          </div>\n          <div class="w-100" style="height: 1ch;"></div>\n          \x3c!-- </div>breaks cols to a new line--\x3e\n          <div class="row w-100 justify-content-between align-items-center p-0 m-0">\n            <div class="vtl-paging-change-div col col-auto p-0 m-0">\n              <span class="vtl-paging-count-label col col-auto">{{\n                messages.pageSizeChangeLabel\n              }}</span>\n              <select class="vtl-paging-count-dropdown" v-model="setting.pageSize">\n                <option v-for="pageOption in pageOptions" :value="pageOption.value" :key="pageOption.value">\n                  {{ pageOption.text }}\n                </option>\n              </select>\n              &nbsp;&nbsp;\n              <span class="vtl-paging-page-label col col-auto">{{\n                messages.gotoPageLabel\n              }}</span>\n              <select class="vtl-paging-page-dropdown col col-auto" v-model="setting.page">\n                <option v-for="n in setting.maxPage" :key="n" :value="parseInt(n)">\n                  {{ n }}\n                </option>\n              </select>\n            </div>\n\n            <div class="\n                vtl-paging-pagination-div\n                align-items-center\n                col col-auto\n                p-0\n                m-0\n              ">\n              <div class="dataTables_paginate">\n                <ul class="vtl-paging-pagination-ul vtl-pagination p-0 m-0">\n                  <li class="\n                      vtl-paging-pagination-page-li\n                      vtl-paging-pagination-page-li-first\n                      page-item\n                    " :class="{ disabled: setting.page <= 1 }">\n                    <a class="\n                        vtl-paging-pagination-page-link\n                        vtl-paging-pagination-page-link-first\n                        page-link cursor-pointer\n                      " href="javascript:void(0)" aria-label="Previous" @click.prevent="setting.page = 1">\n                      <span aria-hidden="true">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"\n                          class="bi bi-skip-start-fill" viewBox="0 0 16 16">\n                          <path\n                            d="M4 4a.5.5 0 0 1 1 0v3.248l6.267-3.636c.54-.313 1.232.066 1.232.696v7.384c0 .63-.692 1.01-1.232.697L5 8.753V12a.5.5 0 0 1-1 0V4z" />\n                        </svg>\n                      </span>\n                      <span class="sr-only">First</span>\n                    </a>\n                  </li>\n                  <li class="\n                      vtl-paging-pagination-page-li\n                      vtl-paging-pagination-page-li-prev\n                      page-item\n                    " :class="{ disabled: setting.page <= 1 }">\n                    <a class="\n                        vtl-paging-pagination-page-link\n                        vtl-paging-pagination-page-link-prev\n                        page-link cursor-pointer\n                      " href="javascript:void(0)" aria-label="Previous" @click.prevent="prevPage">\n                      <span aria-hidden="true">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"\n                          class="bi bi-caret-left-fill" viewBox="0 0 16 16">\n                          <path\n                            d="m3.86 8.753 5.482 4.796c.646.566 1.658.106 1.658-.753V3.204a1 1 0 0 0-1.659-.753l-5.48 4.796a1 1 0 0 0 0 1.506z" />\n                        </svg>\n                      </span>\n                      <span class="sr-only">Prev</span>\n                    </a>\n                  </li>\n                  <li class="\n                      vtl-paging-pagination-page-li\n                      vtl-paging-pagination-page-li-number\n                      page-item\n                    " v-for="n in setting.paging" :key="n" :class="{ disabled: setting.page === n }">\n                    <a class="\n                        vtl-paging-pagination-page-link\n                        vtl-paging-pagination-page-link-number\n                        page-link cursor-pointer\n                      " href="javascript:void(0)" @click.prevent="movePage(n)">{{ n }}</a>\n                  </li>\n                  <li class="\n                      vtl-paging-pagination-page-li\n                      vtl-paging-pagination-page-li-next\n                      page-item\n                    " :class="{ disabled: setting.page >= setting.maxPage }">\n                    <a class="\n                        vtl-paging-pagination-page-link\n                        vtl-paging-pagination-page-link-next\n                        page-link cursor-pointer\n                      " href="javascript:void(0)" aria-label="Next" @click.prevent="nextPage">\n                      <span aria-hidden="true"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"\n                          fill="currentColor" class="bi bi-caret-right-fill" viewBox="0 0 16 16">\n                          <path\n                            d="m12.14 8.753-5.482 4.796c-.646.566-1.658.106-1.658-.753V3.204a1 1 0 0 1 1.659-.753l5.48 4.796a1 1 0 0 1 0 1.506z" />\n                        </svg>\n                      </span>\n                      <span class="sr-only">Next</span>\n                    </a>\n                  </li>\n                  <li class="\n                      vtl-paging-pagination-page-li\n                      vtl-paging-pagination-page-li-last\n                      page-item\n                    " :class="{ disabled: setting.page >= setting.maxPage }">\n                    <a class="\n                        vtl-paging-pagination-page-link\n                        vtl-paging-pagination-page-link-last\n                        page-link cursor-pointer\n                      " href="javascript:void(0)" aria-label="Next" @click.prevent="setting.page = setting.maxPage">\n                      <span aria-hidden="true">\n                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"\n                          class="bi bi-skip-end-fill" viewBox="0 0 16 16">\n                          <path\n                            d="M12.5 4a.5.5 0 0 0-1 0v3.248L5.233 3.612C4.693 3.3 4 3.678 4 4.308v7.384c0 .63.692 1.01 1.233.697L11.5 8.753V12a.5.5 0 0 0 1 0V4z" />\n                        </svg>\n                      </span>\n                      <span class="sr-only">Last</span>\n                    </a>\n                  </li>\n                </ul>\n              </div>\n            </div>\n          </div>\n        </template>\n      </div>\n      <div class="vtl-row" v-else>\n        <div class="vtl-empty-msg col-12 text-center">\n          {{ messages.noDataAvailable }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {\n  defineComponent,\n  ref,\n  reactive,\n  computed,\n  watch,\n  onBeforeUpdate,\n  nextTick,\n  onMounted,\n} from "vue";\n\nexport default defineComponent({\n  name: "my-table",\n  emits: [\n    "return-checked-rows",\n    "do-search",\n    "is-finished",\n    "get-now-page",\n    "row-clicked",\n    "row-toggled",\n  ],\n  props: {\n    // 是否讀取中 (is data loading)\n    isLoading: {\n      type: Boolean,\n      require: true,\n    },\n    // 是否執行了重新查詢 (Whether to perform a re-query)\n    isReSearch: {\n      type: Boolean,\n      require: true,\n    },\n    // 有無Checkbox (Presence of Checkbox)\n    hasCheckbox: {\n      type: Boolean,\n      default: false,\n    },\n    // Checkbox勾選後返回資料的型態 (Returns data type for checked of Checkbox)\n    checkedReturnType: {\n      type: String,\n      default: "row",\n    },\n    // 標題 (title)\n    title: {\n      type: String,\n      default: "",\n    },\n    // 是否鎖定第一欄位位置 (Fixed first column\'s position)\n    isFixedFirstColumn: {\n      type: Boolean,\n      default: false,\n    },\n    // 欄位 (Field)\n    columns: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n    // 資料 (data)\n    rows: {\n      type: Array,\n      default: () => {\n        return [];\n      },\n    },\n    // 資料列類別 (data row classes)\n    rowClasses: {\n      type: [Array, Function],\n      default: () => {\n        return [];\n      },\n    },\n    // 一頁顯示筆數 (Display the number of items on one page)\n    pageSize: {\n      type: Number,\n      default: 10,\n    },\n    // 總筆數 (Total number of transactions)\n    total: {\n      type: Number,\n      default: 100,\n    },\n    // 現在頁數 (Current page number)\n    page: {\n      type: Number,\n      default: 1,\n    },\n    // 排序條件 (Sort condition)\n    sortable: {\n      type: Object,\n      default: () => {\n        return {\n          order: "id",\n          sort: "asc",\n        };\n      },\n    },\n    // 顯示文字 (Display text)\n    messages: {\n      type: Object,\n      default: () => {\n        return {\n          pagingInfo: "Showing {0}-{1} of {2}",\n          pageSizeChangeLabel: "Row count:",\n          gotoPageLabel: "Go to page:",\n          noDataAvailable: "No data",\n        };\n      },\n    },\n    // 靜態模式 (Static mode(no refresh server data))\n    isStaticMode: {\n      type: Boolean,\n      default: false,\n    },\n    // 插槽模式 (V-slot mode)\n    isSlotMode: {\n      type: Boolean,\n      default: false,\n    },\n    // 是否隱藏換頁資訊 (Hide paging)\n    isHidePaging: {\n      type: Boolean,\n      default: false,\n    },\n    // 一頁顯示筆數下拉選單 (Dropdown of Display the number of items on one page)\n    pageOptions: {\n      type: Array,\n      default: () => [\n        {\n          value: 10,\n          text: 10,\n        },\n        {\n          value: 25,\n          text: 25,\n        },\n        {\n          value: 50,\n          text: 50,\n        },\n      ],\n    },\n\n    // 分類條件 (Key of grouping)\n    groupingKey: {\n      type: String,\n      default: "",\n    },\n    // 是否顯示隱藏分類開關 (Has hide group rows toggle)\n    hasGroupToggle: {\n      type: Boolean,\n      default: false,\n    },\n    // 客製化分類顯示 (Customize grouping title)\n    groupingDisplay: {\n      type: Function,\n      default: null,\n    },\n    // 設定表格高度 (Table\'s max height)\n    maxHeight: {\n      default: "auto",\n    },\n    // 預設群組顯示時為折疊 (Grouping collapsed on start)\n    startCollapsed: {\n      type: Boolean,\n      default: false,\n    },\n    // 保持刷新後折疊狀態 (Keep collapsed status after refresh)\n    isKeepCollapsed: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup(props, { emit, slots }) {\n    let localTable = ref(null);\n\n    // 檢查下拉選單中是否包含預設一頁顯示筆數 (Validate dropdown\'s values have page-size value or not)\n    let defaultPageSize =\n      props.pageOptions.length > 0\n        ? ref(props.pageOptions[0].value)\n        : ref(props.pageSize);\n    if (props.pageOptions.length > 0) {\n      props.pageOptions.forEach((v) => {\n        if (\n          Object.prototype.hasOwnProperty.call(v, "value") &&\n          Object.prototype.hasOwnProperty.call(v, "text") &&\n          props.pageSize == v.value\n        ) {\n          defaultPageSize.value = v.value;\n        }\n      });\n    }\n\n    // 組件用內部設定值 (Internal set value for components)\n    const setting = reactive({\n      // 是否啟用Slot模式 (Enable slot mode)\n      isSlotMode: props.isSlotMode,\n      // 是否全選 (Whether to select all)\n      isCheckAll: false,\n      // 是否隱藏換頁資訊 (Hide paging)\n      isHidePaging: props.isHidePaging,\n      // KEY欄位名稱 (KEY field name)\n      keyColumn: computed(() => {\n        let key = "";\n        Object.assign(props.columns).forEach((col) => {\n          if (col.isKey) {\n            key = col.field;\n          }\n        });\n        return key;\n      }),\n      // 當前頁數 (current page number)\n      page: props.page,\n      // 每頁顯示筆數 (Display count per page)\n      pageSize: defaultPageSize.value,\n      // 最大頁數 (Maximum number of pages)\n      maxPage: computed(() => {\n        if (props.total <= 0) {\n          return 0;\n        }\n        let maxPage = Math.floor(props.total / setting.pageSize);\n        let mod = props.total % setting.pageSize;\n        if (mod > 0) {\n          maxPage++;\n        }\n        return maxPage;\n      }),\n      // 該頁數起始值 (The starting value of the page number)\n      offset: computed(() => {\n        return (setting.page - 1) * setting.pageSize + 1;\n      }),\n      // 該頁數最大值 (Maximum number of pages0\n      limit: computed(() => {\n        let limit = setting.page * setting.pageSize;\n        return props.total >= limit ? limit : props.total;\n      }),\n      // 換頁陣列 (Paging array)\n      paging: computed(() => {\n        let startPage = setting.page - 2 <= 0 ? 1 : setting.page - 2;\n        if (setting.maxPage - setting.page <= 2) {\n          startPage = setting.maxPage - 4;\n        }\n        startPage = startPage <= 0 ? 1 : startPage;\n        let pages = [];\n        for (let i = startPage; i <= setting.maxPage; i++) {\n          if (pages.length < 5) {\n            pages.push(i);\n          }\n        }\n        return pages;\n      }),\n      // 組件內用排序 (Sortable for local)\n      order: props.sortable.order,\n      sort: props.sortable.sort,\n      pageOptions: props.pageOptions,\n    });\n\n    // 已選擇中的資料 (Checked rows)\n    const isChecked = ref([]);\n\n    // 組件內用資料 (Data rows for local)\n    const localRows = computed(() => {\n      let rows = props.rows;\n      // refs https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/Collator/compare\n      var collator = new Intl.Collator(undefined, {\n        numeric: true,\n        sensitivity: "base",\n      });\n      let sortOrder = setting.sort === "desc" ? -1 : 1;\n      rows.sort(function (a, b) {\n        return collator.compare(a[setting.order], b[setting.order]) * sortOrder;\n      });\n\n      // return sorted and offset rows\n\n      let result = null;\n      if (props.groupingKey) {\n        // If have set grouping-key create group temp data\n        let tmp = {};\n        rows.forEach((v) => {\n          if (!tmp[v[props.groupingKey]]) {\n            tmp[v[props.groupingKey]] = [];\n          }\n          tmp[v[props.groupingKey]].push(v);\n        });\n\n        result = {};\n        for (let index = setting.offset - 1; index < setting.limit; index++) {\n          result[rows[index][props.groupingKey]] = tmp[rows[index][props.groupingKey]];\n        }\n      } else {\n        result = [];\n        for (let index = setting.offset - 1; index < setting.limit; index++) {\n          result.push(rows[index]);\n        }\n      }\n\n      nextTick(function () {\n        // 資料完成渲染後回傳私有元件\n        callIsFinished();\n      });\n\n      return result;\n    });\n\n    ////////////////////////////\n    //\n    //  Checkbox 相關操作\n    //  (Checkbox related operations)\n    //\n\n    // 定義Checkbox參照 (Define Checkbox reference)\n    const rowCheckbox = ref([]);\n\n    /**\n     * 重新渲染前執行 (Execute before re-rendering)\n     */\n    onBeforeUpdate(() => {\n      // 每次更新前都把值全部清空 (Clear all values before each update)\n      rowCheckbox.value = [];\n    });\n\n    /**\n     * 監聽全勾選Checkbox (Check all checkboxes for monitoring)\n     */\n    watch(\n      () => setting.isCheckAll,\n      (state) => {\n        if (props.hasCheckbox) {\n          isChecked.value = [];\n          if (state) {\n            let tmpRows = (props.isStaticMode) ? props.rows.slice((setting.offset - 1), setting.limit) : props.rows;\n            if (props.checkedReturnType == "row") {\n              isChecked.value = tmpRows;\n            } else {\n              tmpRows.forEach((val) => {\n                isChecked.value.push(val[setting.keyColumn]);\n              });\n            }\n          }\n          rowCheckbox.value.forEach((val) => {\n            if (val) {\n              val.checked = state;\n            }\n          });\n          // 回傳畫面上選上的資料 (Return the selected data on the screen)\n          emit("return-checked-rows", isChecked.value);\n        }\n      }\n    );\n\n    /**\n     * 監控有無顯示Checkbox變化 (hasCeckbox props for monitoring)\n     */\n    watch(\n      () => props.hasCheckbox,\n      (v) => {\n        if (!v) {\n          setting.isCheckAll = false;\n        }\n      }\n    );\n\n    // z-index of Fixed Columns cause click event being eaten by parent element, so I need to do this instead (Vincent)\n    const clickChild = (event) => {\n      // console.log(event.target.firstChild); // test\n      if (props.isFixedFirstColumn && event.target.firstElementChild !== null) {\n        event.target.firstElementChild.click();\n      } // if\n    } // clickChild\n\n    /**\n     * Checkbox點擊事件 (Checkbox click event)\n     */\n    const checked = (row, event) => {\n      event.stopPropagation();\n      let checkboxValue = row[setting.keyColumn];\n      if (props.checkedReturnType == "row") {\n        checkboxValue = row;\n      }\n      if (event.target.checked) {\n        isChecked.value.push(checkboxValue);\n      } else {\n        const index = isChecked.value.indexOf(checkboxValue);\n        if (index >= 0) {\n          isChecked.value.splice(index, 1);\n        }\n      }\n      if (isChecked.value.length == props.rows.length) {\n        setting.isCheckAll = true;\n      } else {\n        // 回傳畫面上選上的資料 (Return the selected data on the screen)\n        emit("return-checked-rows", isChecked.value);\n      }\n    };\n\n    /**\n     * 清空畫面上所有選擇資料 (Clear all selected data on the screen)\n     */\n    const clearChecked = () => {\n      isChecked.value = [];\n      rowCheckbox.value.forEach((val) => {\n        if (val && val.checked) {\n          val.checked = false;\n        }\n      });\n      // 回傳畫面上選上的資料 (Return the selected data on the screen)\n      emit("return-checked-rows", isChecked.value);\n    };\n\n    ////////////////////////////\n    //\n    //  排序·換頁等 相關操作\n    //  (Sorting, page change, etc. related operations)\n    //\n\n    /**\n     * 呼叫執行排序 (Call execution sequencing)\n     */\n    const doSort = (order) => {\n      let sort = "asc";\n      if (order == setting.order) {\n        // 排序中的項目時 (When sorting items)\n        if (setting.sort == "asc") {\n          sort = "desc";\n        }\n      }\n      let offset = (setting.page - 1) * setting.pageSize;\n      let limit = setting.pageSize;\n      setting.order = order;\n      setting.sort = sort;\n      emit("do-search", offset, limit, order, sort);\n\n      // 清空畫面上選擇的資料 (Clear the selected data on the screen)\n      if (setting.isCheckAll) {\n        // 取消全選時自然會清空 (It will be cleared when you cancel all selections)\n        setting.isCheckAll = false;\n      } else {\n        if (props.hasCheckbox) {\n          clearChecked();\n        }\n      }\n    };\n\n    /**\n     * 切換頁碼 (Switch page number)\n     *\n     * @param page      number  新頁碼    (New page number)\n     * @param prevPage  number  現在頁碼  (Current page number)\n     */\n    const changePage = (page, prevPage) => {\n      setting.isCheckAll = false;\n      if (props.hasCheckbox) {\n        isChecked.value = [];\n      }\n      let order = setting.order;\n      let sort = setting.sort;\n      let offset = (page - 1) * setting.pageSize;\n      let limit = setting.pageSize;\n      if (!props.isReSearch || page > 1 || page == prevPage) {\n        // 非重新查詢發生的頁碼變動才執行呼叫查詢 (Call query will only be executed if the page number is changed without re-query)\n        emit("do-search", offset, limit, order, sort);\n      }\n    };\n    // 監聽頁碼切換 (Monitor page switching)\n    watch(() => setting.page, changePage);\n    // 監聽手動頁碼切換 (Monitor manual page switching)\n    watch(\n      () => props.page,\n      (val) => {\n        if (val <= 1) {\n          setting.page = 1;\n          emit("get-now-page", setting.page);\n        } else if (val >= setting.maxPage) {\n          setting.page = setting.maxPage;\n          emit("get-now-page", setting.page);\n        } else {\n          setting.page = val;\n        }\n      }\n    );\n\n    /**\n     * 切換顯示筆數 (Switch display number)\n     */\n    const changePageSize = () => {\n      if (setting.page === 1) {\n        // 沒自動觸發 changePage()，所以手動觸發\n        changePage(setting.page, setting.page);\n      } else {\n        // 強制返回第一頁,並自動觸發 changePage()\n        setting.page = 1;\n        setting.isCheckAll = false;\n      }\n    };\n    // 監聽組件內顯示筆數切換 (Monitor display number switch from component)\n    watch(() => setting.pageSize, changePageSize);\n    // 監聽來自Prop的顯示筆數切換 (Monitor display number switch from prop)\n    watch(\n      () => props.pageSize,\n      (newPageSize) => {\n        setting.pageSize = newPageSize;\n      }\n    );\n\n    /**\n     * 上一頁 (Previous page)\n     */\n    const prevPage = () => {\n      if (setting.page == 1) {\n        // 如果是第一頁，不予執行 (If it is the first page, it will not be executed)\n        return false;\n      }\n      setting.page--;\n    };\n\n    /**\n     * 移動至指定頁數 (Move to the specified number of pages)\n     */\n    const movePage = (page) => {\n      setting.page = page;\n    };\n\n    /**\n     * 下一頁 (Next page)\n     */\n    const nextPage = () => {\n      if (setting.page >= setting.maxPage) {\n        // 如果等於大於最大頁數，不與執行 (If it is equal to or greater than the maximum number of pages, no execution)\n        return false;\n      }\n      setting.page++;\n    };\n\n    // 監聽資料變更 (Monitoring data changes)\n    watch(\n      () => props.rows,\n      () => {\n        if (props.isReSearch || props.isStaticMode) {\n          setting.page = 1;\n        }\n        nextTick(function () {\n          // 資料完成渲染後回傳私有元件 (Return the private components after the data is rendered)\n          if (!props.isStaticMode) {\n            callIsFinished();\n          }\n        });\n      }\n    );\n\n    const stringFormat = (template, ...args) => {\n      return template.replace(/{(\\d+)}/g, function (match, number) {\n        return typeof args[number] != "undefined" ? args[number] : match;\n      });\n    };\n\n    // Call 「is-finished」 Method\n    const callIsFinished = () => {\n      if (localTable.value) {\n        let localElement =\n          localTable.value.getElementsByClassName("is-rows-el");\n        emit("is-finished", localElement);\n      }\n      emit("get-now-page", setting.page);\n    };\n\n    // Toggle button elements\n    const toggleButtonRefs = ref({});\n    // Grouping rows\n    const groupingRowsRefs = ref({});\n    // Saved toggle status\n    const groupingToggleStatus = ref({});\n\n    // Data rows for grouping (Default-mode only)\n    const groupingRows = computed(() => {\n      let result = {};\n      props.rows.forEach((v) => {\n        if (!result[v[props.groupingKey]]) {\n          result[v[props.groupingKey]] = [];\n        }\n        result[v[props.groupingKey]].push(v);\n      });\n\n      nextTick(function () {\n        if (props.startCollapsed || props.isKeepCollapsed) {\n          for (const [groupIndex, el] of Object.entries(toggleButtonRefs.value)) {\n            if (el) {\n              let isOpen = !props.startCollapsed;\n              if (\n                props.isKeepCollapsed &&\n                groupingToggleStatus.value[groupIndex] !== undefined\n              ) {\n                isOpen = !groupingToggleStatus.value[groupIndex];\n              }\n              if (\n                (isOpen && el.parentElement.classList.contains("rotated-90")) ||\n                (!isOpen && !el.parentElement.classList.contains("rotated-90"))\n              ) {\n                el.parentElement.classList.toggle("rotated-90");\n              }\n              if (!isOpen) {\n                groupingRowsRefs.value[groupIndex].forEach((element) => {\n                  if (element) {\n                    element.classList.add("hidden");\n                  }\n                });\n              }\n            }\n          }\n        }\n        callIsFinished();\n      });\n\n      return result;\n    });\n\n    /**\n     * Toggle Group rows\n     *\n     * @param {String} groupIndex\n     */\n    const toggleGroup = (groupIndex) => {\n      let targetEl = toggleButtonRefs.value[groupIndex];\n      if (targetEl) {\n        targetEl.parentElement.classList.toggle("rotated-90");\n        const isClose = targetEl.parentElement.classList.contains("rotated-90");\n        groupingRowsRefs.value[groupIndex].forEach((element) => {\n          if (element) {\n            if (isClose) {\n              element.classList.add("hidden");\n            } else {\n              element.classList.remove("hidden");\n            }\n          }\n        });\n        groupingToggleStatus.value[groupIndex] = isClose;\n        emit("row-toggled", groupingRows.value[groupIndex], isClose);\n      }\n    };\n\n    /**\n     * 組件掛載後事件 (Mounted Event)\n     */\n    onMounted(() => {\n      nextTick(() => {\n        if (props.rows.length > 0) {\n          callIsFinished();\n        }\n      });\n    });\n\n    return {\n      slots,\n      localTable,\n      localRows,\n      setting,\n      rowCheckbox,\n      clickChild,\n      checked,\n      clearChecked,\n      doSort,\n      prevPage,\n      movePage,\n      nextPage,\n      stringFormat,\n      toggleButtonRefs,\n      groupingRowsRefs,\n      groupingRows,\n      toggleGroup,\n    };\n  },\n});\n<\/script>\n\n<style scoped>\n.vtl-checkbox-th {\n  width: 3.5ch;\n  min-width: 38px;\n}\n\n.vtl-checkbox-td {\n  width: 3.5ch;\n  min-width: 38px;\n}\n\n.vtl-both {\n  background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7X QMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC");\n}\n\n.vtl-sortable {\n  cursor: pointer;\n  background-position: right;\n  background-repeat: no-repeat;\n  /* padding-right: 30px !important; */\n}\n\n.vtl-asc {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==);\n}\n\n.vtl-desc {\n  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=);\n}\n\n.vtl-loading-mask {\n  position: absolute;\n  z-index: 3;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  flex-flow: column;\n  transition: opacity 0.3s ease;\n}\n\n.vtl-loading-content {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.vtl-card {\n  position: relative;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-direction: column;\n  flex-direction: column;\n  min-width: 0;\n  word-wrap: break-word;\n  background-color: #fff;\n  background-clip: border-box;\n}\n\nselect {\n  width: auto;\n  border: 1px solid #cccccc;\n  background-color: #ffffff;\n  height: auto;\n  padding: 0;\n  margin-bottom: 0;\n}\n\ntable {\n  table-layout: fixed !important;\n}\n\ndiv.dataTables_wrapper div.dataTables_paginate {\n  margin: 0;\n  white-space: nowrap;\n  text-align: right;\n}\n\ndiv.dataTables_wrapper div.dataTables_paginate ul.pagination {\n  margin: 2px 0;\n  white-space: nowrap;\n  justify-content: flex-end;\n}\n\n.pagination {\n  display: flex;\n  padding-left: 0;\n  list-style: none;\n}\n\n.pagination a:hover:not(.disabled) {\n  background-color: #ddd;\n  border-radius: 5px;\n}\n\n.vtl-table {\n  width: 100%;\n  margin-bottom: 1rem;\n  color: #212529;\n  border-collapse: collapse;\n}\n\nth {\n  text-align: inherit;\n}\n\ntr {\n  display: table-row;\n  vertical-align: inherit;\n  border-color: inherit;\n}\n\n.vtl-table-bordered thead td,\n.vtl-table-bordered thead th {\n  border-bottom-width: 2px;\n}\n\n.vtl-table thead th {\n  vertical-align: bottom;\n  color: #fff;\n  background-color: #343a40;\n  border-color: #454d55;\n  border-bottom: 2px solid #dee2e6;\n}\n\n.vtl-table-bordered td,\n.vtl-table-bordered th {\n  border: 1px solid #dee2e6;\n}\n\n.vtl-table td,\n.vtl-table th {\n  padding: 0.75rem;\n  vertical-align: top;\n  border-top: 1px solid #dee2e6;\n  vertical-align: middle;\n}\n\n.vtl-table-responsive {\n  display: block;\n  width: 100%;\n  overflow-x: auto;\n  -webkit-overflow-scrolling: touch;\n}\n\n.vtl-table-responsive>.vtl-table-bordered {\n  border: 0;\n}\n\n.vtl-row {\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-wrap: wrap;\n  flex-wrap: wrap;\n}\n\n.vtl-pagination {\n  margin: 2px 0;\n  white-space: nowrap;\n  justify-content: flex-end;\n  display: -ms-flexbox;\n  display: flex;\n  padding-left: 0;\n  list-style: none;\n  border-radius: 0.25rem;\n}\n\n.page-item.disabled .page-link {\n  color: #6c757d;\n  pointer-events: none;\n  cursor: auto;\n  background-color: #fff;\n  border-color: #dee2e6;\n}\n\n.page-item:first-child .page-link {\n  margin-left: 0;\n  border-top-left-radius: 0.25rem;\n  border-bottom-left-radius: 0.25rem;\n}\n\n.page-link {\n  position: relative;\n  display: block;\n  padding: 0.5rem 0.75rem;\n  margin-left: -1px;\n  line-height: 1.25;\n  color: #000000;\n  background-color: #fff;\n}\n\n.sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border: 0;\n}\n\n*,\n::after,\n::before {\n  box-sizing: border-box;\n}\n\n.col-sm-12 {\n  -ms-flex: 0 0 100%;\n  flex: 0 0 100%;\n  max-width: 100%;\n}\n\n.text-center {\n  text-align: center;\n}\n\n@media (min-width: 576px) {\n  .vtl-table-responsive-sm {\n    display: block;\n    width: 100%;\n    overflow-x: auto;\n    -webkit-overflow-scrolling: touch;\n  }\n\n  .vtl-table-responsive-sm>.table-bordered {\n    border: 0;\n  }\n\n  .col-md-4 {\n    -ms-flex: 0 0 33.333333%;\n    flex: 0 0 33.333333%;\n    max-width: 33.333333%;\n  }\n}\n\n.vtl-table thead th {\n  position: sticky;\n  top: 0;\n  z-index: 1;\n}\n\n.vtl-table tbody th {\n  position: sticky;\n  left: 0;\n  z-index: 1;\n}\n\n.fixed-first-column {\n  overflow-x: auto;\n}\n\n.fixed-first-column tr th:first-child {\n  position: sticky;\n  left: 0;\n  z-index: 2;\n}\n\n.fixed-first-column tr td:first-child {\n  position: sticky;\n  left: 0;\n}\n\n\n.fixed-first-column tr th:first-child::before,\n.fixed-first-second-column tr th:nth-child(2)::before {\n  content: "";\n  position: absolute;\n  border-right: 1px solid #454d55;\n  left: 0;\n  top: 0;\n  width: 102%;\n  height: 102%;\n}\n\n.fixed-first-column tr .vtl-checkbox-th:first-child::before {\n  content: "";\n  position: absolute;\n  border-right: 1px solid #454d55;\n  left: 0;\n  top: 0;\n  width: 102%;\n  height: 102%;\n}\n\n.fixed-first-column tr td:first-child::before {\n  content: "";\n  position: absolute;\n  border-right: 1px solid #dee2e6;\n  left: 0;\n  top: 0;\n  width: 102%;\n  height: 102%;\n}\n\n.fixed-first-column tr .vtl-checkbox-td:first-child::before {\n  content: "";\n  position: absolute;\n  border-right: 1px solid #dee2e6;\n  left: 0;\n  top: 0;\n  width: 103%;\n  height: 102%;\n}\n\n.fixed-first-second-column tr th:nth-child(2),\n.fixed-first-second-column tr td:nth-child(2) {\n  position: sticky;\n  left: 38px;\n}\n\n.fixed-first-second-column tr th:nth-child(2) {\n  z-index: 2;\n}\n\n.fixed-first-column tr td:first-child,\n.fixed-first-second-column tr td:nth-child(2) {\n  background-color: white;\n}\n\n.flex {\n  display: flex;\n}\n\n.animation {\n  transform: rotate(0deg);\n  transition: transform 0.3s;\n}\n\n.cursor-pointer {\n  cursor: pointer;\n}\n\n.rotated-90 {\n  transform: rotate(-90deg);\n}\n\n.hidden {\n  display: none;\n}\n\n.ml-2 {\n  margin-left: 0.5rem;\n}\n\ntd {\n  text-align: center;\n}\n</style>\n'],sourceRoot:""}]);const l=i},7359:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-158fab07] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/TransitSearchTable.vue"],names:[],mappings:"AAsfA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="row justify-content-between">\n        <div class="row col col-auto">\n            <div class="col col-auto">\n                <label for="sxbInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n            </div>\n            <div class="col col-auto p-0 m-0">\n                <input id="sxbInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="col col-auto">\n            <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick(\'All\')">\n                <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n            </button>\n        </div>\n    </div>\n    <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n    <table-lite id="searchTable" :is-fixed-first-column="true" :hasCheckbox="false" :isStaticMode="true"\n        :isSlotMode="true" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n        :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n        @return-checked-rows="updateCheckedRows" :is-loading="table.isLoading" @is-finished="table.isLoading = false">\n        <template v-slot:請購數量="{ row, key }">\n            <div class="col col-auto align-items-center m-0 p-0">\n                <span class="m-0 p-0" style="width: 12ch;">\n                    {{ parseInt(row.請購數量).toLocaleString(\'en\', { useGrouping: true }) }}&nbsp;<small>{{ row.單位\n                        }}</small>\n                </span>\n                <button @click="openQtyDetails(row)" type="button" data-bs-toggle="modal" data-bs-target="#detailTable"\n                    class="btn btn-outline-info btn-sm ms-1 my-0 px-1 py-0" style="border-radius: 20px;"\n                    :id="\'sxb\' + row.id" :name="\'sxb\' + key">Edit</button>\n            </div>\n        </template>\n    </table-lite>\n\n    \x3c!-- Modal --\x3e\n    <div class="modal fade" id="detailTable" tabindex="-1" aria-labelledby="detailTable" aria-hidden="true">\n        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">\n            <div class="modal-content">\n                <div class="modal-header justify-content-center">\n                    <h1 class="col col-auto modal-title m-0 p-0 fs-4">\n                        {{ modalTitle }}\n                    </h1>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body">\n                    <div class="row g-3">\n                        <div class="col-md-4">\n                            <label for="inputQty" class="form-label">\n                                {{ $t("monthlyPRpageLang.on_the_way_search") }}\n                            </label>\n                            <div class="input-group">\n                                <input v-model="inputQty" type="number" :class="{ \'is-invalid\': isInvalid }"\n                                    class="form-control" id="inputQty" :placeholder="originalQty" min="0">\n                                <div class="input-group-text">{{ unit }}</div>\n                            </div>\n                            <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                                <strong>{{ validation_err_msg }}</strong>\n                            </span>\n                        </div>\n                        <div class="col-md-8">\n                            <label for="inputDescr" class="form-label">{{ $t("monthlyPRpageLang.description") }}</label>\n                            <input v-model="inputDescr" type="text" :class="{ \'is-invalid\': isInvalid2 }"\n                                class="form-control" id="inputDescr">\n                            <span v-if="isInvalid2" class="invalid-feedback d-block" role="alert">\n                                <strong>{{ validation_err_msg2 }}</strong>\n                            </span>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer justify-content-between">\n                    <button type="button" class="btn btn-lg btn-danger" style="border-radius: 5px;"\n                        data-bs-dismiss="modal" aria-label="Close">\n                        {{ $t(\'templateWords.cancel\') }}\n                    </button>\n                    <button @click="sxb_approve" type="button" class="btn btn-lg btn-success"\n                        style="border-radius: 5px;">\n                        {{ $t(\'checkInvLang.edit\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useTransitSearch from "../../composables/TransitSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats_inTransit, getTransit, updateInTransit } = useTransitSearch(); // axios get the mats_inTransit data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getTransit();\n        });\n\n        let isInvalid = ref(false); // edit to DB validation for Qty\n        let isInvalid2 = ref(false); // edit to DB validation for descr\n        let validation_err_msg = ref("");\n        let validation_err_msg2 = ref("");\n        const modalTitle = ref("");\n        const originalQty = ref("");\n        const unit = ref("");\n        const inputQty = ref("");\n        const inputDescr = ref("");\n        const file = ref();\n        let checkedRows = [];\n        const searchTerm = ref(""); // Search text\n\n        // pour the data in\n        const data = reactive([]);\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = Array();\n            for (let i = 0; i < data.length; i++) {\n                let tempObj = new Object;\n                tempObj.isn = data[i].料號;\n                tempObj.transitQty = parseInt(data[i].請購數量).toLocaleString(\'en\', { useGrouping: true }) + " " + data[i].單位;\n                tempObj.description = data[i].說明;\n                tempObj.reviser = data[i].修改人員;\n                tempObj.updateTime = data[i].最後更新時間;\n\n                rows.push(tempObj);\n            }\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("monthlyPRpageLang.on_the_way_search"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"), key: \'isn\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.transit"), key: \'transitQty\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.description"), key: \'description\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.transit_reviser"), key: \'reviser\' },\n                { header: app.appContext.config.globalProperties.$t("inboundpageLang.updatetime"), key: \'updateTime\' }\n            ];\n\n            worksheet.addRows(rows);\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("monthlyPRpageLang.on_the_way_search") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // OutputExcelClick\n\n        const openQtyDetails = (row) => {\n            // console.log("clicked!"); // test\n            modalTitle.value = row.料號;\n            unit.value = row.單位;\n            originalQty.value = parseInt(row.請購數量).toLocaleString(\'en\', { useGrouping: true });\n        } // openSXBDetails\n\n        const sxb_approve = async () => {\n            isInvalid.value = false;\n            isInvalid2.value = false;\n            if (inputQty.value.toString().trim() === "" || inputQty.value === null || inputQty.value === undefined) {\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t(\n                        "validation.required"\n                    );\n\n                isInvalid.value = true;\n            } // if\n\n            if (inputDescr.value.trim() === "" || inputDescr.value === null || inputDescr.value === undefined) {\n                validation_err_msg2.value =\n                    app.appContext.config.globalProperties.$t(\n                        "validation.required"\n                    );\n\n                isInvalid2.value = true;\n            } // if\n\n            // console.log(inputQty.value); // test\n            // console.log(inputDescr.value); // test\n\n            if (isInvalid.value === true || isInvalid2.value === true) {\n                return;\n            } // if\n\n            await triggerModal();\n\n            let isnArr = [modalTitle.value];\n            let qtyArr = [inputQty.value];\n            let descrArr = [inputDescr.value];\n            let result = await updateInTransit(isnArr, qtyArr, descrArr);\n            await getTransit();\n\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // sxb_approve\n\n        watch(mats_inTransit, async () => {\n            await triggerModal();\n            data.splice(0);\n            if (mats_inTransit.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(mats_inTransit.value);\n            // console.log(allRowsObj.data); // test\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                allRowsObj.data[i].id = i;\n                data.push(allRowsObj.data[i]);\n            } // for\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="isn\' +\n                            row.id +\n                            \'" name="isn\' +\n                            row.id +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.transit"\n                    ),\n                    field: "請購數量",\n                    width: "12ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.transit_reviser"\n                    ),\n                    field: "修改人員",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.修改人員 === null || row.修改人員 === undefined) row.修改人員 = "N/A";\n                        return (\n                            \'<input type="hidden" id="reviser\' +\n                            i +\n                            \'" name="reviser\' +\n                            i +\n                            \'" value="\' +\n                            row.修改人員 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.修改人員 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.description"\n                    ),\n                    field: "說明",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.說明 === null || row.說明 === undefined) row.說明 = "N/A";\n                        return (\n                            \'<input type="hidden" id="remark\' +\n                            i +\n                            \'" name="remark\' +\n                            i +\n                            \'" value="\' +\n                            row.說明 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.說明 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "inboundpageLang.updatetime"\n                    ),\n                    field: "最後更新時間",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.最後更新時間 === null || row.最後更新時間 === undefined) row.最後更新時間 = "N/A";\n                        return (\n                            \'<input type="hidden" id="updatetime\' +\n                            i +\n                            \'" name="updatetime\' +\n                            i +\n                            \'" value="\' +\n                            row.最後更新時間 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.最後更新時間 +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "最後更新時間",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            isInvalid,\n            isInvalid2,\n            validation_err_msg,\n            validation_err_msg2,\n            searchTerm,\n            modalTitle,\n            unit,\n            originalQty,\n            inputQty,\n            inputDescr,\n            table,\n            updateCheckedRows,\n            OutputExcelClick,\n            openQtyDetails,\n            sxb_approve,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},1668:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-15d7c3db] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/UnitConsumptionSearchTable.vue"],names:[],mappings:"AAynBA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'monthlyPRpageLang.isnConsumeUpdate\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_90pn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button type="submit" id="delete" name="delete" class="col col-auto btn btn-lg btn-danger"\n                        @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                    &nbsp;\n                    <button id="download" name="download" class="col col-auto btn btn-lg btn-success"\n                        :value="$t(\'monthlyPRpageLang.download\')" @click="OutputExcelClick">\n                        <i class="bi bi-file-earmark-arrow-down-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :isSlotMode="true" :hasCheckbox="true"\n                :messages="table.messages" :columns="table.columns" :rows="table.rows" :rowClasses="table.rowClasses"\n                :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n                :is-loading="table.isLoading" @is-finished="table.isLoading = false"\n                @return-checked-rows="updateCheckedRows">\n                <template v-slot:單耗="{ row, key }">\n                    \x3c!-- DON\'T Use input-group here. It messes with the z-index --\x3e\n                    <div class="row">\n                        <input\n                            style="width:10ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                            type="number" :id="\'unitConsumption\' + row.id" :name="\'unitConsumption\' + row.id"\n                            :value="ScientificNotaionToFixed(parseFloat(row.單耗))" v-model="row.單耗"\n                            @input="CheckCurrentRow($event);" class="form-control text-center p-0 m-0 col col-auto"\n                            step="0.000001" min="0">\n                        <small class="input-group-text text-center p-0 m-0 col col-auto"\n                            style="border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;">{{\n                                row.單位 }}</small>\n                    </div>\n                </template>\n            </table-lite>\n\n            <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n\n            <div class="row justify-content-between align-items-center">\n                <label class="form-label col col-auto">{{ $t(\'monthlyPRpageLang.surepeopleemail\') }}:</label>\n                <div class="w-100" style="height: 0ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <div class="input-group">\n                        <select class="form-select form-select-lg col col-auto text-center" v-model="selected_mail">\n                            <option style="display: none;" disabled selected value="">\n                                {{ $t("monthlyPRpageLang.noemail") }}\n                            </option>\n                            <option v-for="mail in all_mails" :value="mail.email">{{ mail.姓名 }}</option>\n                        </select>\n                        <span class="input-group-text input-group-text-lg" id="emailTail">{{ selected_mail }}</span>\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-envelope-check-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.submit\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useUnitConsumptionSearch from "../../composables/UnitConsumptionSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        let exampleUrl = ref(window.location.origin + \'/download/ConsumeExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, mails, recordCount, getAll, getCheckersMails, uploadToDB, deleteUC } = useUnitConsumptionSearch();\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getCheckersMails();\n            await getAll();\n        });\n\n        let isInvalid = ref(false); // file input validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        const all_mails = reactive([]);\n        const file = ref();\n        let checkedRows = [];\n        const searchTerm = ref(""); // Search text\n        const selected_mail = ref(""); // Mail reciever name\n        const data = reactive([]); // pour the data into table\n\n        const OutputExcelClick = async () => {\n            await triggerModal();\n            await getAll();\n            // get today\'s date for filename\n            let today = new Date();\n            let dd = String(today.getDate()).padStart(2, \'0\');\n            let mm = String(today.getMonth() + 1).padStart(2, \'0\'); //January is 0!\n            let yyyy = today.getFullYear();\n            today = yyyy + "_" + mm + \'_\' + dd;\n\n            let rows = Array();\n            for (let i = 0; i < data.length; i++) {\n                let tempObj = new Object;\n                tempObj.isn = data[i].料號;\n                tempObj.isn90 = data[i].料號90;\n                tempObj.pName = data[i].品名;\n                tempObj.format = data[i].規格;\n                tempObj.consume = data[i].單耗;\n                tempObj.email = data[i].畫押信箱;\n                tempObj.status = data[i].狀態 === "已完成" ? app.appContext.config.globalProperties.$t("monthlyPRpageLang.review_complete") : app.appContext.config.globalProperties.$t("monthlyPRpageLang.review_pending");\n                rows.push(tempObj);\n            } // for\n\n            const workbook = new ExcelJS.Workbook();\n            const worksheet = workbook.addWorksheet(app.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"));\n\n            worksheet.columns = [\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.isn"), key: \'isn\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.90isn"), key: \'isn90\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.pName"), key: \'pName\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.format"), key: \'format\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.consume"), key: \'consume\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.email"), key: \'email\' },\n                { header: app.appContext.config.globalProperties.$t("monthlyPRpageLang.status"), key: \'status\' }\n            ];\n\n            worksheet.addRows(rows);\n\n            const buffer = await workbook.xlsx.writeBuffer();\n            const blob = new Blob([buffer], { type: "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" });\n            FileSaver.saveAs(blob, app.appContext.config.globalProperties.$t("monthlyPRpageLang.consume") + "_" + today + ".xlsx");\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        }\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const deleteRow = async () => {\n            await triggerModal();\n            let pnArray = [];\n            let pn90Array = [];\n            for (let i = 0; i < checkedRows.length; i++) {\n                pnArray.push(checkedRows[i].料號);\n                pn90Array.push(checkedRows[i].料號90);\n            } // for\n\n            let result = await deleteUC(pnArray, pn90Array);\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + JSON.parse(recordCount.value).record + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.delete") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                for (let i = 0; i < checkedRows.length; i++) {\n                    let indexOfObject = data.findIndex(object => {\n                        return parseInt(object.id) === parseInt(checkedRows[i].id);\n                    });\n\n                    if (indexOfObject != -1) {\n                        data.splice(indexOfObject, 1);\n                    } // if\n                } // for\n\n                document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n                if (document.querySelector(".vtl-thead-checkbox").checked) {\n                    document.querySelector(".vtl-thead-checkbox").click();\n                } // if\n\n                checkedRows = [];\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // deleteRow\n\n        const onSendToDBClick = async () => {\n            // console.log(selected_mail.value); // test\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (checkedRows.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let pn90Array = [];\n            let ucArray = [];\n            for (let j = 0; j < checkedRows.length; j++) {\n                pnArray.push(checkedRows[j].料號);\n                pn90Array.push(checkedRows[j].料號90);\n                ucArray.push(checkedRows[j].單耗.toString());\n            } // for\n\n            // console.log(ucArray); // test\n            // actually updating database now\n            let start = Date.now();\n            let result = await uploadToDB(pnArray, pn90Array, ucArray, selected_mail.value);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            await getAll();\n\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + JSON.parse(recordCount.value).record + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(mats, async () => {\n            await triggerModal();\n            data.splice(0);\n            uploadToDBReady.value = false;\n            selected_mail.value = "";\n            if (mats.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(mats.value);\n            // console.log(allRowsObj.data); // test\n            let singleEntry = {};\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                // console.log(allRowsObj.data[i].料號90); // test\n                singleEntry = allRowsObj.data[i];\n                singleEntry.id = i;\n\n                data.push(singleEntry);\n                singleEntry = {};\n            } // for\n\n            // console.log(data); // test\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(mails, async () => {\n            let allRowsObj = JSON.parse(mails.value);\n            // console.log(allRowsObj.data.length);\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                all_mails.push(allRowsObj.data[i]);\n            } // for\n        });\n\n        watch(selected_mail, () => {\n            if (selected_mail.value != undefined && selected_mail.value != "" && selected_mail.value != null) {\n                uploadToDBReady.value = true;\n            } // if\n        });\n\n        function ScientificNotaionToFixed(x) {\n            // toFixed\n            if (Math.abs(x) < 1.0) {\n                var e = parseInt(x.toString().split("e-")[1]);\n                if (e) {\n                    x *= Math.pow(10, e - 1);\n                    x = "0." + new Array(e).join("0") + x.toString().substring(2);\n                } // if\n            } else {\n                var e = parseInt(x.toString().split("+")[1]);\n                if (e > 20) {\n                    e -= 20;\n                    x /= Math.pow(10, e);\n                    x += new Array(e + 1).join("0");\n                } // if\n            } // if-else\n\n            return x;\n        } // to prevent scientific notaion\n\n        function CheckCurrentRow(e) {\n            // console.log(e.target.closest(\'tr\').firstChild.firstChild); // test\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number\' +\n                            i +\n                            \'" name="number\' +\n                            i +\n                            \'" value="\' +\n                            row.料號 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.90isn"\n                    ),\n                    field: "料號90",\n                    width: "15ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="number90\' +\n                            i +\n                            \'" name="number90\' +\n                            i +\n                            \'" value="\' +\n                            row.料號90 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.料號90 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.consume"\n                    ),\n                    field: "單耗",\n                    width: "12ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="name\' +\n                            i +\n                            \'" name="name\' +\n                            i +\n                            \'" value="\' +\n                            row.品名 +\n                            \'">\' +\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.品名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="format\' +\n                            i +\n                            \'" name="format\' +\n                            i +\n                            \'" value="\' +\n                            row.規格 +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto !important; width: 100%; -ms-overflow-style: none !important;">\' +\n                            row.規格 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.surepeopleemail"\n                    ),\n                    field: "畫押信箱",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto !important; width: 100%; -ms-overflow-style: none !important;">\' +\n                            row.畫押信箱 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.remark"\n                    ),\n                    field: "狀態",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.狀態 === "已完成") {\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.review_complete") +\n                                "</div>"\n                            );\n                        } // if\n                        else { // 待畫押, 待重畫\n                            return (\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.review_pending") +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.料號90\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            rowClasses: function (x) {\n                if (x.狀態 === "已完成") {\n                    return ["table-success"];\n                } // if\n                else {\n                    return ["table-danger"];\n                } // else\n            },\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "料號90",\n                sort: "asc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            all_mails,\n            selected_mail,\n            updateCheckedRows,\n            onSendToDBClick,\n            deleteRow,\n            ScientificNotaionToFixed,\n            CheckCurrentRow,\n            OutputExcelClick\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},7242:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"[data-v-53a1344c] .vtl-table .vtl-thead .vtl-thead-th{background-color:#196241;border-color:#196241;color:#fff}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/UnitConsumptionUploadTable.vue"],names:[],mappings:"AAq2BA,sDAEI,wBAAyB,CACzB,oBAAqB,CAFrB,UAGJ",sourcesContent:['<template>\n    <div class="card">\n        <div class="card-header">\n            <h3>{{ $t(\'monthlyPRpageLang.isnConsumeAdd\') }}</h3>\n        </div>\n        <div class="card-body">\n            <div class="row justify-content-center mb-3">\n                <div class="col col-auto">\n                    <a :href="exampleUrl" download>\n                        {{ $t(\'monthlyPRpageLang.exampleExcel\') }}\n                    </a>\n                </div>\n\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <label class="col col-auto form-label">{{ $t(\'monthlyPRpageLang.plz_upload\') }}</label>\n                <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <input class="form-control" :class="{ \'is-invalid\': isInvalid }" id="excel_input" type="file"\n                        name="select_file" @change="onInputChange" />\n                    <span v-if="isInvalid" class="invalid-feedback d-block" role="alert">\n                        <strong>{{ validation_err_msg }}</strong>\n                    </span>\n                </div>\n                <div class="w-100" style="height: 2ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="row justify-content-center">\n                    <button type="submit" name="upload" class="col col-auto btn btn-lg btn-primary"\n                        @click="onUploadClick">\n                        {{ $t(\'monthlyPRpageLang.upload1\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n    <div class="card">\n        <div class="card-body">\n            <div class="row justify-content-between">\n                <div class="row col col-auto">\n                    <div class="col col-auto">\n                        <label for="pnInput" class="col-form-label">{{ $t("basicInfoLang.quicksearch") }} :</label>\n                    </div>\n                    <div class="col col-6 p-0 m-0">\n                        <input id="pnInput" class="text-center form-control form-control-lg"\n                            v-bind:placeholder="$t(\'monthlyPRpageLang.enterisn_or_descr\')" v-model="searchTerm" />\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button class="col col-auto btn btn-lg btn-warning" @click="addRejectedToTable">\n                        <span class="fs-4">{{ $t(\'monthlyPRpageLang.loadconsume\') }}</span>\n                    </button>\n                    &nbsp;\n                    <button id="delete" name="delete" class="col col-auto btn btn-lg btn-danger" @click="deleteRow">\n                        <i class="bi bi-trash3-fill fs-4"></i>\n                    </button>\n                </div>\n            </div>\n            <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n            <span v-if="isInvalid_DB" class="invalid-feedback d-block" role="alert">\n                <strong>{{ validation_err_msg }}</strong>\n            </span>\n            <table-lite :is-fixed-first-column="true" :is-static-mode="true" :isSlotMode="true" :hasCheckbox="true"\n                :messages="table.messages" :columns="table.columns" :rows="table.rows" :total="table.totalRecordCount"\n                :page-options="table.pageOptions" :sortable="table.sortable" :is-loading="table.isLoading"\n                @is-finished="table.isLoading = false" @return-checked-rows="updateCheckedRows">\n\n                <template v-slot:單耗="{ row, key }">\n                    \x3c!-- DON\'T Use input-group here. It messes with the z-index --\x3e\n                    <div class="row">\n                        <input\n                            style="width:10ch; border-bottom-right-radius: 0px !important; border-top-right-radius: 0px !important;"\n                            type="number" :id="\'unitConsumption\' + row.id" :name="\'unitConsumption\' + row.id"\n                            :value="ScientificNotaionToFixed(parseFloat(row.單耗))" v-model="row.單耗"\n                            class="form-control text-center p-0 m-0 col col-auto" step="0.000001" min="0" />\n                        <small class="input-group-text text-center p-0 m-0 col col-auto"\n                            style="border-bottom-left-radius: 0px !important; border-top-left-radius: 0px !important;">\n                            {{ row.單位 }}\n                        </small>\n                    </div>\n                </template>\n            </table-lite>\n\n            <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n\n            <div class="row justify-content-between align-items-center">\n                <label class="form-label col col-auto">{{ $t(\'monthlyPRpageLang.surepeopleemail\') }}:</label>\n                <div class="w-100" style="height: 0ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                <div class="col col-auto">\n                    <div class="input-group">\n                        <select class="form-select form-select-lg col col-auto text-center" v-model="selected_mail">\n                            <option style="display: none;" disabled selected value="">\n                                {{ $t("monthlyPRpageLang.noemail") }}\n                            </option>\n                            <option v-for="mail in all_mails" :value="mail.email">{{ mail.姓名 }}</option>\n                        </select>\n                        <span class="input-group-text input-group-text-lg" id="emailTail">{{ selected_mail }}</span>\n                    </div>\n                </div>\n                <div class="col col-auto">\n                    <button v-if="uploadToDBReady" name="upload"\n                        class="col col-auto fs-3 text-center btn btn-lg btn-info" @click="onSendToDBClick">\n                        <i class="bi bi-envelope-check-fill"></i>\n                        {{ $t(\'monthlyPRpageLang.submit\') }}\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport * as XLSX from \'xlsx\';\nimport TableLite from "./TableLite.vue";\nimport useUnitConsumptionSearch from "../../composables/UnitConsumptionSearch.ts";\nimport useCommonlyUsedFunctions from "../../composables/CommonlyUsedFunctions.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        let exampleUrl = ref(window.location.origin + \'/download/ConsumeExample.xlsx\');\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        const { mats, mails, recordCount, getRejected, getCheckersMails, uploadToDB } = useUnitConsumptionSearch();\n        const { queryResult, manualResult, validateISN, validateISN_manual } = useCommonlyUsedFunctions();\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getCheckersMails();\n        });\n\n        let isInvalid = ref(false); // file input validation\n        let isInvalid_DB = ref(false); // add to DB validation\n        let validation_err_msg = ref("");\n        let uploadToDBReady = ref(false); // validation\n        const all_mails = reactive([]);\n        const file = ref();\n        let input_data;\n        let checkedRows = [];\n        const searchTerm = ref(""); // Search text\n        const selected_mail = ref(""); // Mail reciever name\n        const data = reactive([]); // pour the data into table\n\n        const findDuplicates = (arr) => {\n            let sorted_arr = arr.slice().sort(); // You can define the comparing function here. \n            // JS by default uses a crappy string compare.\n            // (we use slice to clone the array so the original array won\'t be modified)\n            let results = [];\n            for (let i = 0; i < sorted_arr.length - 1; i++) {\n                if (sorted_arr[i + 1] == sorted_arr[i]) {\n                    results.push(sorted_arr[i]);\n                } // if\n            } // for\n            return results;\n        } // findDuplicates\n\n        const addRejectedToTable = async () => {\n            await getRejected();\n            if (JSON.parse(mats.value).datas.length < 1) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.noload"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                // remove all the old rejected data in table\n                for (let i = 0; i < data.length; i++) {\n                    if (data[i].doubleCheck) {\n                        data.splice(i, 1);\n                    } // if\n                } // for\n\n                let allRowsObj = JSON.parse(mats.value);\n                for (let i = 0; i < allRowsObj.datas.length; i++) {\n                    if (data.length == 0) {\n                        allRowsObj.datas[i].id = 0;\n                    } else {\n                        allRowsObj.datas[i].id = parseInt(data[data.length - 1].id) + 1;\n                    } // if else\n                    allRowsObj.datas[i].doubleCheck = true;\n\n                    // remove duplicate data from other input\n                    let indexOfObject = data.findIndex(object => {\n                        return (object.料號90 === allRowsObj.datas[i].料號90 && object.料號 === allRowsObj.datas[i].料號);\n                    });\n\n                    if (indexOfObject != -1) { // if an existing record is found in table\n                        data.splice(indexOfObject, 1);\n                    } // if\n\n                    data.push(allRowsObj.datas[i]);\n                } // for\n\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + allRowsObj.datas.length + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.loadsuccess"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // addRejectedToTable\n\n        const onUploadClick = async () => {\n            isInvalid_DB.value = false;\n            await triggerModal();\n            if (file.value) {\n                // console.log(file.value); // test\n                if (file.value.type == "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" || file.value.type == "application/vnd.ms-excel" || file.value.type == "application/vnd.ms-excel" || file.value.type == ".csv") {\n                    const reader = new FileReader();\n                    reader.onload = async (e) => {\n                        /* Parse data */\n                        const bstr = e.target.result;\n                        const wb = XLSX.read(bstr, { type: \'binary\' });\n                        /* Get first worksheet */\n                        const wsname = wb.SheetNames[0];\n                        const ws = wb.Sheets[wsname];\n                        /* Convert array of arrays */\n                        input_data = XLSX.utils.sheet_to_json(ws, { header: 1 });\n                        // console.log(input_data); // data[row#][col#]  test\n                        if (input_data === undefined || input_data[0] === undefined || input_data[0][0] === undefined || input_data[0][1] === undefined || input_data[0][2] === undefined) {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else if (input_data[0][0].trim() !== "90料號" || input_data[0][1].trim() !== "料號" || input_data[0][2].trim() !== "單耗") {\n                            isInvalid.value = true;\n                            validation_err_msg.value = app.appContext.config.globalProperties.$t("fileUploadErrors.Content_errors");\n                        } else {\n                            let tempArr = Array();\n\n                            for (let i = 1; i < input_data.length; i++) {\n                                if (input_data[i][1] != undefined && input_data[i].length > 2 && input_data[i][0].trim() != "" && input_data[i][0].trim() != null) {\n                                    tempArr.push(input_data[i][1].trim());\n                                } // if\n                                else {\n                                    input_data.splice(i, 1); // remove the empty row\n                                    i = i - 1;\n                                } // else\n                            } // for\n\n                            // console.log(tempArr); // test\n                            await triggerModal();\n                            await validateISN(tempArr);\n                        } // else\n                    };\n\n                    reader.readAsBinaryString(file.value);\n                } // if\n                else {\n                    isInvalid.value = true;\n                    validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.mimetypes");\n                } // else\n            } // if\n            else {\n                isInvalid.value = true;\n                validation_err_msg.value = app.appContext.config.globalProperties.$t("validation.required");\n            } // else\n\n            file.value = null;\n            document.getElementById(\'excel_input\').value = "";\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // onUploadClick\n\n        const onInputChange = (event) => {\n            isInvalid.value = false;\n            // data.splice(0); // cleanup data from previous upload\n            queryResult.value = "";\n            file.value = event.target.files ? event.target.files[0] : null;\n        } // onInputChange\n\n        function CheckCurrentRow(e) {\n            // console.log(e.target.closest(\'tr\').firstChild.firstChild); // test\n            if (!e.target.closest(\'tr\').firstChild.firstChild.checked) {\n                e.target.closest(\'tr\').firstChild.firstChild.click();\n            } // if\n        } // CheckCurrentRow\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const deleteRow = () => {\n            // console.log(checkedRows); // test\n            for (let i = 0; i < checkedRows.length; i++) {\n                let indexOfObject = data.findIndex(object => {\n                    return parseInt(object.id) === parseInt(checkedRows[i].id);\n                });\n\n                if (indexOfObject != -1) {\n                    data.splice(indexOfObject, 1);\n                } // if\n            } // for\n\n            document.querySelectorAll(\'.vtl-tbody-checkbox\').forEach(el => el.checked = false);\n\n            if (document.querySelector(".vtl-thead-checkbox").checked) {\n                document.querySelector(".vtl-thead-checkbox").click();\n            } // if\n\n            checkedRows = [];\n        } // deleteRow\n\n        const onSendToDBClick = async () => {\n            // console.log(selected_mail.value); // test\n            await triggerModal();\n            // console.log("The modal should be triggered by now."); // test\n            isInvalid_DB.value = false;\n            let rowsCount = 0;\n            let hasError = false;\n            // console.log(data.length); //test\n            if (data.length <= 0) {\n                notyf.open({\n                    type: "warning",\n                    message: app.appContext.config.globalProperties.$t("basicInfoLang.nodata"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if all the isn exist\n            for (let j = 0; j < data.length && hasError == false; j++) {\n                if (data[j].月請購 === "" || data[j].月請購 === null || data[j].月請購.toLowerCase() === "null") {\n                    hasError = true;\n                    rowsCount = j;\n                } // if\n            } // for\n\n            if (hasError) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    data[rowsCount].料號 + " " +\n                    app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn");\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n\n            // ----------------------------------------------\n            // validate if there\'s duplicate values in table\n            let duplicatedArray = Array();\n            for (let i = 0; i < data.length; i++) {\n                if (data[i].料號 != null && data[i].料號.trim() != "") {\n                    duplicatedArray.push(data[i].料號.toString().trim() + "_" + data[i].料號90.toString().trim());\n                } // if\n            } // for\n\n            let findDuplicatesResult = findDuplicates(duplicatedArray);\n            // console.log(findDuplicatesResult); // test\n            if (findDuplicatesResult.length > 0) {\n                isInvalid_DB.value = true;\n                validation_err_msg.value =\n                    app.appContext.config.globalProperties.$t("inboundpageLang.repeated_isn_90_pair") +\n                    " : " + findDuplicatesResult[0].split("_")[0] +\n                    " (" + findDuplicatesResult[0].split("_")[1] + ")";\n\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                return;\n            } // if\n            // ----------------------------------------------\n            // prepare the data arrays to be sent\n            let pnArray = [];\n            let pn90Array = [];\n            let ucArray = [];\n            for (let j = 0; j < data.length; j++) {\n                pnArray.push(data[j].料號);\n                pn90Array.push(data[j].料號90);\n                ucArray.push(data[j].單耗);\n            } // for\n            // console.log(ucArray); //test\n            // actually updating database now\n            let start = Date.now();\n            let result = await uploadToDB(pnArray, pn90Array, ucArray, selected_mail.value);\n            let timeTaken = Date.now() - start;\n            console.log("Total time taken : " + timeTaken + " milliseconds");\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            if (result === "success") {\n                uploadToDBReady.value = false;\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.total") + " " + JSON.parse(recordCount.value).record + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.record") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n        } // onSendToDBClick\n\n        watch(queryResult, async () => {\n            // console.log(queryResult.value); // test\n            await triggerModal();\n            if (queryResult.value == "") {\n                $("body").loadingModal("hide");\n                $("body").loadingModal("destroy");\n                table.isLoading = false;\n                return;\n            } // if\n\n            let allRowsObj = JSON.parse(queryResult.value);\n            // console.log(allRowsObj.data); // test\n            let singleEntry = {};\n\n            for (let i = 1; i < input_data.length; i++) {\n                singleEntry.料號90 = input_data[i][0].toString().trim();\n                singleEntry.料號 = input_data[i][1].toString().trim();\n                singleEntry.單耗 = input_data[i][2];\n                singleEntry.doubleCheck = false;\n\n                if (data.length == 0) {\n                    singleEntry.id = 0;\n                } else {\n                    singleEntry.id = parseInt(data[data.length - 1].id) + 1;\n                } // if else\n\n                let indexOfObject = allRowsObj.data.findIndex(object => {\n                    return (object.料號 === singleEntry.料號);\n                });\n\n                if (indexOfObject != -1) { // if an existing record is found\n                    singleEntry = Object.assign(singleEntry, allRowsObj.data[indexOfObject]);\n                    // console.log(singleEntry); // test\n                } // if\n                else {\n                    singleEntry.月請購 = "";\n                } // else\n\n                data.push(singleEntry);\n                singleEntry = {};\n            } // for\n\n            // console.log(data); // test\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        watch(mails, async () => {\n            let allRowsObj = JSON.parse(mails.value);\n            // console.log(allRowsObj.data.length);\n            for (let i = 0; i < allRowsObj.data.length; i++) {\n                all_mails.push(allRowsObj.data[i]);\n            } // for\n            table.isLoading = false;\n        });\n\n        watch(selected_mail, () => {\n            if (selected_mail.value != undefined && selected_mail.value != "" && selected_mail.value != null) {\n                uploadToDBReady.value = true;\n            } // if\n        });\n\n        watch(data, () => {\n            document.getElementsByClassName("vtl-table")[0].scrollIntoView({ behavior: "smooth" });\n        });\n\n        function ScientificNotaionToFixed(x) {\n            // toFixed\n            if (Math.abs(x) < 1.0) {\n                var e = parseInt(x.toString().split("e-")[1]);\n                if (e) {\n                    x *= Math.pow(10, e - 1);\n                    x = "0." + new Array(e).join("0") + x.toString().substring(2);\n                } // if\n            } else {\n                var e = parseInt(x.toString().split("+")[1]);\n                if (e > 20) {\n                    e -= 20;\n                    x /= Math.pow(10, e);\n                    x += new Array(e + 1).join("0");\n                } // if\n            } // if-else\n\n            return x;\n        } // to prevent scientific notaion\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.isn"\n                    ),\n                    field: "料號",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="number\' +\n                                i +\n                                \'" name="number\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } else if (row.doubleCheck) {\n                            return (\n                                \'<input type="hidden" id="number\' +\n                                i +\n                                \'" name="number\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; color: #e67300;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } else { // isn exist in database\n                            return (\n                                \'<input type="hidden" id="number\' +\n                                i +\n                                \'" name="number\' +\n                                i +\n                                \'" value="\' +\n                                row.料號 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.90isn"\n                    ),\n                    field: "料號90",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="number90\' +\n                                i +\n                                \'" name="number90\' +\n                                i +\n                                \'" value="\' +\n                                row.料號90 +\n                                \'">\' +\n                                \'<div class="text-nowrap text-danger CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號90 +\n                                "</div>"\n                            );\n                        } else if (row.doubleCheck) {\n                            return (\n                                \'<input type="hidden" id="number90\' +\n                                i +\n                                \'" name="number90\' +\n                                i +\n                                \'" value="\' +\n                                row.料號90 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%; color: #e67300;">\' +\n                                row.料號90 +\n                                "</div>"\n                            );\n                        } else { // isn exist in database\n                            return (\n                                \'<input type="hidden" id="number90\' +\n                                i +\n                                \'" name="number90\' +\n                                i +\n                                \'" value="\' +\n                                row.料號90 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.料號90 +\n                                "</div>"\n                            );\n                        } // if else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.consume"\n                    ),\n                    field: "單耗",\n                    width: "12ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.pName"\n                    ),\n                    field: "品名",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                i +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="name\' +\n                                i +\n                                \'" name="name\' +\n                                i +\n                                \'" value="\' +\n                                row.品名 +\n                                \'">\' +\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.品名 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.format"\n                    ),\n                    field: "規格",\n                    width: "14ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.月請購 === "" || row.月請購 === null || row.月請購.toLowerCase() === "null") { // if isn not exist in consumptive_material table\n                            return (\n                                \'<input type="hidden" id="format\' +\n                                i +\n                                \'" name="format\' +\n                                i +\n                                \'" value="\' +\n                                row.規格 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar text-danger"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                app.appContext.config.globalProperties.$t("monthlyPRpageLang.noisn") +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<input type="hidden" id="format\' +\n                                i +\n                                \'" name="format\' +\n                                i +\n                                \'" value="\' +\n                                row.規格 +\n                                \'">\' +\n                                \'<div class="text-nowrap CustomScrollbar"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.規格 +\n                                "</div>"\n                            );\n                        } // else\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "monthlyPRpageLang.lt"\n                    ),\n                    field: "LT",\n                    width: "8ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<input type="hidden" id="lt\' +\n                            i +\n                            \'" name="lt\' +\n                            i +\n                            \'" value="\' +\n                            Math.round(row.LT) +\n                            \'">\' +\n                            \'<div class="text-nowrap CustomScrollbar"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            Math.round(row.LT) +\n                            "</div>"\n                        );\n                    },\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.料號\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.品名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            // sortable: {\n            //     order: "id",\n            //     sort: "asc",\n            // },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        const updateCheckedRows = (rowsKey) => {\n            // console.log(rowsKey); // test\n            checkedRows = rowsKey;\n        };\n\n        return {\n            exampleUrl,\n            isInvalid,\n            isInvalid_DB,\n            validation_err_msg,\n            uploadToDBReady,\n            searchTerm,\n            table,\n            all_mails,\n            selected_mail,\n            updateCheckedRows,\n            addRejectedToTable,\n            onUploadClick,\n            onInputChange,\n            onSendToDBClick,\n            CheckCurrentRow,\n            ScientificNotaionToFixed,\n            deleteRow,\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\n::v-deep(.vtl-table .vtl-thead .vtl-thead-th) {\n    color: #fff;\n    background-color: #196241;\n    border-color: #196241;\n}\n</style>'],sourceRoot:""}]);const l=i},8229:(e,t,n)=>{"use strict";n.d(t,{A:()=>l});var o=n(4991),a=n.n(o),r=n(6314),i=n.n(r)()(a());i.push([e.id,"td[data-v-46870d65],th[data-v-46870d65]{text-align:center;vertical-align:middle}#siteListPicker[data-v-46870d65]::-webkit-scrollbar-track{background-color:#f5f5f5;border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}#siteListPicker[data-v-46870d65]::-webkit-scrollbar{-webkit-appearance:none;width:4px}#siteListPicker[data-v-46870d65]::-webkit-scrollbar-thumb{background-color:rgba(0,0,0,.3);border-radius:4px;-webkit-box-shadow:0 0 1px hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./resources/js/components/reusableUtilities/UserTable.vue"],names:[],mappings:"AA2eA,wCAEI,iBAAkB,CAClB,qBACJ,CAEA,0DAGI,wBAAyB,CADzB,iBAAkB,CADlB,6CAGJ,CAEA,oDAEI,uBAAwB,CADxB,SAEJ,CAEA,0DAGI,+BAAoC,CAFpC,iBAAkB,CAClB,6CAEJ",sourcesContent:['<template>\n    <div class="card-header align-items-center">\n        <h3 class="col col-auto align-middle">\n            {{ $t(\'templateWords.UserInfo\') }}\n        </h3>\n    </div>\n    <div class="card-body">\n        <div class="row justify-content-between">\n            <div class="col col-auto">\n                <input id="pnInput" class="text-center form-control form-control-lg"\n                    v-bind:placeholder="$t(\'loginPageLang.username_search\')" v-model="searchTerm" />\n            </div>\n        </div>\n        <div class="w-100" style="height: 1ch"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n        <table-lite id="searchTable" :is-fixed-first-column="true" :isStaticMode="true" :isSlotMode="true"\n            :hasCheckbox="false" :messages="table.messages" :columns="table.columns" :rows="table.rows"\n            :total="table.totalRecordCount" :page-options="table.pageOptions" :sortable="table.sortable"\n            :is-loading="table.isLoading" @is-finished="table.isLoading = false">\n            <template v-slot:username="{ row, key }">\n                <div class="CustomScrollbar text-nowrap"\n                    style="overflow-x: auto; width: 100%; user-select: text; z-index: 1; position: relative;">\n                    {{ row.username }}\n                </div>\n            </template>\n            <template v-slot:priority="{ row, key }">\n                <div v-if="row.current_user_priority == 0" class="m-0 p-0">\n                    <select class="form-select text-center m-0 p-0" :id="row.username" style="width: 8ch;"\n                        @change="priorityChange(row.username, $event.target.value)">\n                        <option v-for="item in [0, 1, 2, 3, 4]" :value="item" :selected="row.priority == item">{{ item\n                            }}</option>\n                    </select>\n                </div>\n                <div v-else-if="row.current_user_priority == 1" class="m-0 p-0">\n                    <select class="form-select text-center m-0 p-0" :id="row.username" style="width: 8ch;"\n                        @change="priorityChange(row.username, $event.target.value)"\n                        :disabled="row.priority <= row.current_user_priority">\n                        <option v-for="item in [1, 2, 3, 4]" :value="item" :selected="row.priority == item">{{ item\n                            }}</option>\n                    </select>\n                </div>\n                <div v-else>\n                    {{ row.priority }}\n                </div>\n            </template>\n            <template v-slot:available_dblist="{ row, key }">\n                <button :value="row.available_dblist" type="button" style="border-radius: 20px;"\n                    class="btn btn-outline-info dbInfo btn-sm m-0 px-3 py-0" data-bs-toggle="modal"\n                    data-bs-target="#siteListPicker"\n                    @click="InfoBtClicked(row.username, row.姓名, row.available_dblist)">Info</button>\n            </template>\n        </table-lite>\n    </div>\n\n    \x3c!-- Modal --\x3e\n    <div class="modal fade" id="siteListPicker" aria-hidden="true" aria-labelledby="siteListPicker" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">\n            <div class="modal-content">\n                <div class="modal-header">\n                    <h3 class="modal-title">Available Databases for {{ clickedUser }}</h3>\n                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n                </div>\n                <div class="modal-body CustomScrollbar">\n                    <div class="row justify-content-center">\n                        <div v-for="db in db_list" class="form-check form-switch col-9">\n                            <input class="form-check-input dbCheckbox" type="checkbox" role="switch"\n                                v-bind:id="`${(db.replace(\'Consumables management\', \'\')).trim()}`"\n                                :value="`${(db.replace(\'Consumables management\', \'\')).trim()}`" v-model="checkedDBs" />\n                            <label class="form-check-label"\n                                :for="`${(db.replace(\'Consumables management\', \'\')).trim()}`">\n                                {{ db }}\n                            </label>\n                        </div>\n                    </div>\n                </div>\n                <div class="modal-footer">\n                    <button type="button" id="DeleteUser" class="btn btn-danger" data-bs-target="#AreYouSureModal"\n                        data-bs-toggle="modal">Delete\n                        This User</button>\n                    <button type="button" id="ListConfirm" class="btn btn-success" @click="submitNewDBList()">\n                        Save Changes\n                    </button>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal fade" id="AreYouSureModal" aria-hidden="true" aria-labelledby="AreYouSureModal" tabindex="-1">\n        <div class="modal-dialog modal-dialog-centered">\n            <div class="modal-content">\n                <div class="modal-body row justify-content-center">\n                    <span class="col col-auto">Are You Sure ?</span>\n                    <div class="w-100" style="height: 1ch;"></div>\x3c!-- </div>breaks cols to a new line--\x3e\n                    <button id="ImSure" class="col col-auto btn btn-outline-danger" data-bs-dismiss="modal"\n                        @click="DeleteUser()">YES</button>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport { defineComponent, reactive, ref, computed } from "vue";\nimport {\n    getCurrentInstance,\n    onBeforeMount,\n    onMounted,\n    watch,\n} from "@vue/runtime-core";\nimport ExcelJS from \'exceljs\';\nimport FileSaver from "file-saver";\nimport TableLite from "./TableLite.vue";\nimport useUserSearch from "../../composables/UserSearch.ts";\nexport default defineComponent({\n    name: "App",\n    components: { TableLite },\n    setup() {\n        const { users, getUsers, staffs, getStaffs, current_user, getCurrentUser, db_list, getDBList, setPriority, setDBList, delUser } = useUserSearch(); // axios get the mats data\n\n        onBeforeMount(async () => {\n            table.isLoading = true;\n            await getDBList();\n            await getCurrentUser();\n            await getStaffs();\n            await getUsers();\n        });\n\n        const triggerModal = async () => {\n            $("body").loadingModal({\n                text: "Loading...",\n                animation: "circle",\n            });\n\n            return new Promise((resolve, reject) => {\n                resolve();\n            });\n        } // triggerModal\n\n        const searchTerm = ref(""); // Search text\n        const app = getCurrentInstance(); // get the current instance\n        let thisHtmlLang = document\n            .getElementsByTagName("HTML")[0]\n            .getAttribute("lang");\n        // get the current locale from html tag\n        app.appContext.config.globalProperties.$lang.setLocale(thisHtmlLang); // set the current locale to vue package\n\n        // pour the data in\n        const data = reactive([]);\n\n        const clickedUser = ref("");\n        const checkedDBs = ref([]);\n        function InfoBtClicked(username, name, available_dblist) {\n            clickedUser.value = username + "(" + name + ")";\n            checkedDBs.value = available_dblist.split("_");\n        } // InfoBtClicked\n\n        async function priorityChange(username, priority) {\n            await triggerModal();\n            let result = await setPriority(username, priority);\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n        } // priorityChange\n\n        async function submitNewDBList() {\n            let dblist_str = "";\n            let username = (clickedUser.value).split("(")[0];\n            // sort checkedDBs.value\n            checkedDBs.value.sort();\n            console.log(checkedDBs.value); // test\n            checkedDBs.value.forEach((db) => {\n                if (db !== "") {\n                    dblist_str = dblist_str + "_" + db;\n                } // if\n            });\n\n            if (checkedDBs.value.length > 0) {\n                dblist_str = dblist_str.slice(1);\n            } // if\n\n            await triggerModal();\n            let result = await setDBList(username, dblist_str);\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            await getUsers();\n        } // submitNewDBList\n\n        async function DeleteUser() {\n            let username = (clickedUser.value).split("(")[0];\n            await triggerModal();\n            let result = await delUser(username);\n            if (result === "success") {\n                notyf.open({\n                    type: "success",\n                    message: app.appContext.config.globalProperties.$t("monthlyPRpageLang.change") + " " + app.appContext.config.globalProperties.$t("monthlyPRpageLang.success"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // if\n            else {\n                notyf.open({\n                    type: "error",\n                    message: app.appContext.config.globalProperties.$t("checkInvLang.update_failed"),\n                    duration: 3000, //miliseconds, use 0 for infinite duration\n                    ripple: true,\n                    dismissible: true,\n                    position: {\n                        x: "right",\n                        y: "bottom",\n                    },\n                });\n            } // else\n\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n\n            await getUsers();\n        } // DeleteUser\n\n        // remove available_dblist column for normal users\n        watch(current_user, async () => {\n            if (current_user.value.priority > 0) {\n                table.columns.splice(5, 2);\n            } // if\n        }); // watch for data change\n\n        watch(users, async () => {\n            data.splice(0); // clean up previous data\n            await triggerModal();\n            let allRowsObj = JSON.parse(users.value);\n            // console.log(allRowsObj.datas); // test\n\n            if (current_user.value.priority > 0) {\n                for (let i = 0; i < allRowsObj.datas.length; i++) {\n                    if (allRowsObj.datas[i].priority != 0) {\n                        allRowsObj.datas[i].current_user_priority = current_user.value.priority;\n                        data.push(allRowsObj.datas[i]);\n                    } // if\n                } // for\n            } else {\n                for (let i = 0; i < allRowsObj.datas.length; i++) {\n                    allRowsObj.datas[i].current_user_priority = current_user.value.priority;\n                    data.push(allRowsObj.datas[i]);\n                } // for\n            } // if else\n\n            // console.log(data); // test\n            $("body").loadingModal("hide");\n            $("body").loadingModal("destroy");\n            table.isLoading = false;\n        }); // watch for data change\n\n        // Table config\n        const table = reactive({\n            isLoading: true,\n            columns: [\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.username"\n                    ),\n                    field: "username",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.priority"\n                    ),\n                    field: "priority",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.name"\n                    ),\n                    field: "姓名",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.姓名 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.dep"\n                    ),\n                    field: "部門",\n                    width: "13ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.部門 +\n                            "</div>"\n                        );\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.mail"\n                    ),\n                    field: "email",\n                    width: "12ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        if (row.email === null || row.email == "null") {\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                \'N/A\' +\n                                "</div>"\n                            );\n                        } // if\n                        else {\n                            return (\n                                \'<div class="CustomScrollbar text-nowrap"\' +\n                                \' style="overflow-x: auto; width: 100%;">\' +\n                                row.email +\n                                "</div>"\n                            );\n                        }\n                    },\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.database_list"\n                    ),\n                    field: "available_dblist",\n                    width: "10ch",\n                    sortable: true,\n                },\n                {\n                    label: app.appContext.config.globalProperties.$t(\n                        "loginPageLang.latest_login_time"\n                    ),\n                    field: "last_login_time",\n                    width: "10ch",\n                    sortable: true,\n                    display: function (row, i) {\n                        return (\n                            \'<div class="CustomScrollbar text-nowrap"\' +\n                            \' style="overflow-x: auto; width: 100%;">\' +\n                            row.last_login_time +\n                            "</div>"\n                        );\n                    }\n                },\n            ],\n            rows: computed(() => {\n                return data.filter((x) =>\n                    x.username\n                        .toLowerCase()\n                        .includes(searchTerm.value.toLowerCase()) ||\n                    x.姓名\n                        .includes(searchTerm.value)\n                );\n            }),\n            totalRecordCount: computed(() => {\n                return table.rows.length;\n            }),\n            sortable: {\n                order: "last_login_time",\n                sort: "desc",\n            },\n            messages: {\n                pagingInfo:\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.now_showing"\n                    ) +\n                    " {0} ~ {1} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ) +\n                    ", " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.total"\n                    ) +\n                    " {2} " +\n                    app.appContext.config.globalProperties.$t(\n                        "basicInfoLang.record"\n                    ),\n                pageSizeChangeLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.records_per_page"\n                ),\n                gotoPageLabel: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.go_to_page"\n                ),\n                noDataAvailable: app.appContext.config.globalProperties.$t(\n                    "basicInfoLang.search_with_no_data_returned"\n                ),\n            },\n            pageOptions: [\n                {\n                    value: 10,\n                    text: 10,\n                },\n                {\n                    value: 20,\n                    text: 20,\n                },\n                {\n                    value: 40,\n                    text: 40,\n                },\n                {\n                    value: 100,\n                    text: 100,\n                },\n            ],\n        });\n\n        return {\n            db_list,\n            searchTerm,\n            table,\n            clickedUser,\n            InfoBtClicked,\n            current_user,\n            priorityChange,\n            checkedDBs,\n            submitNewDBList,\n            DeleteUser\n        };\n    }, // setup\n});\n<\/script>\n<style scoped>\ntd,\nth {\n    text-align: center;\n    vertical-align: middle;\n}\n\n#siteListPicker::-webkit-scrollbar-track {\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    border-radius: 4px;\n    background-color: #F5F5F5;\n}\n\n#siteListPicker::-webkit-scrollbar {\n    width: 4px;\n    -webkit-appearance: none;\n}\n\n#siteListPicker::-webkit-scrollbar-thumb {\n    border-radius: 4px;\n    -webkit-box-shadow: 0 0 1px hsla(0, 0%, 100%, .5);\n    background-color: rgba(0, 0, 0, 0.3);\n}\n</style>'],sourceRoot:""}]);const l=i},1120:()=>{},1847:()=>{},3686:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[252,660],(()=>(t(2562),t(1120),t(1847))));e.O()}]);
//# sourceMappingURL=app.js.map